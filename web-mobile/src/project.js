require=function e(t,i,n){function o(a,r){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var _=i[a]={exports:{}};t[a][0].call(_.exports,function(e){var i=t[a][1][e];return o(i?i:e)},_,_.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({AudioMgr:[function(e,t,i){"use strict";cc._RFpush(t,"f9da7zP5+VFlLLli2GUyvCm","AudioMgr");var n=cc.Class({ctor:function(){this._musicVolume=1,this._soundVolume=1,this._dict_audioConfig=null,this._bgMusicID=-1,this._bgMusicName=null},playMusic:function(e){var t=this.getAudioName(e);if(this._bgMusicName&&cc.audioEngine.stop(this._bgMusicID),this._musicVolume<=0);else{if(t)this._bgMusicName!==t&&(this._bgMusicName=t);else if(!this._bgMusicName)return;var i=this.getAudio(this._bgMusicName);this._bgMusicID=cc.audioEngine.play(i,!0,this._musicVolume)}},playSound:function(e){if(!(this._soundVolume<=0)){var t=this.getAudio(this.getAudioName(e));return cc.audioEngine.play(t,!1,this._soundVolume)}},setMusicVolume:function(e){this._musicVolume=e,this.playMusic(19)},setSoundVolume:function(e){this._soundVolume=e},stopAudio:function(e){cc.audioEngine.stop(e)},getAudio:function(e){return cc.url.raw(G_TOOL.formatStr(G_RES_URL.audioUrl,e))},getIsPlayMusic:function(){return!!(this._bgMusicName&&this._musicVolume>0)},getAudioConfig:function(){return this._dict_audioConfig},setAudioConfig:function(e){this.setMusicVolume(e.music?1:0),this.setSoundVolume(e.sound?1:0),this._dict_audioConfig=e},saveMusicConfig:function(e){this.setMusicVolume(e?1:0),this._dict_audioConfig.music=e},saveSoundConfig:function(e){this.setSoundVolume(e?1:0),this._dict_audioConfig.sound=e},getAudioName:function(e){var t=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.audioName),i=t.getDataByID(e);return i?i.audioName:null}});t.exports=n,cc._RFpop()},{}],AutoDealing:[function(e,t,i){"use strict";cc._RFpush(t,"2ff73PoWa1GZ53LXCiuQ9TW","AutoDealing"),cc.Class({"extends":cc.Component,_list_registerBtn:null,properties:{},onLoad:function(){},registerButton:function(e,t,i,n,o){e&&(this._list_registerBtn||(this._list_registerBtn=[]),e._isTouchEnabledEx=!0,this._list_registerBtn.push([e,t,i]),e.on(cc.Node.EventType.TOUCH_START,function(e){e.target._isTouchEnabledEx&&(o||(e.target.lastScale||(e.target.lastScale=e.target.scale),e.target.scale=.9*e.target.lastScale),GG.audioMgr.playSound(17))},i),e.on(cc.Node.EventType.TOUCH_END,function(e){e.target.lastScale?e.target.scale=e.target.lastScale:e.target.scale=1,e.target._isTouchEnabledEx&&t.call(i,e,n)},i),e.on(cc.Node.EventType.TOUCH_CANCEL,function(e){e.target.lastScale?e.target.scale=e.target.lastScale:e.target.scale=1},i))},setBtnEnable:function(e,t,i){t?e.opacity=255:i||(e.opacity=255*G_Config_common.btnGrayValue);var n=e.getComponent(cc.Button);n&&(n.enabled=t),e._isTouchEnabledEx=t},releaseButtonEvent:function(){var e,t,i;for(var n in this._list_registerBtn)e=this._list_registerBtn[n][0],t=this._list_registerBtn[n][1],i=this._list_registerBtn[n][2],e.off(cc.Node.EventType.TOUCH_START,t,i),e.off(cc.Node.EventType.TOUCH_END,t,i),e.off(cc.Node.EventType.TOUCH_CANCEL,t,i);this._list_registerBtn=null},onDestroy:function(){this.releaseButtonEvent()}}),cc._RFpop()},{}],BaseDialog:[function(e,t,i){"use strict";cc._RFpush(t,"f6109FzSJ9AfKnDL7rPu4MO","BaseDialog"),cc.Class({"extends":e("BaseUI"),properties:{_parentComp:null,node_closeBtn:{"default":null,type:cc.Node,displayName:"关闭按钮"},prefab_leftButton:{"default":null,type:cc.Prefab,displayName:"左边按钮预制体"},comp_leftBtnContainer:{"default":null,type:e("Obj_dealScroll"),displayName:"左边按钮容器"},prefab_item:{"default":null,type:cc.Prefab,displayName:"数据条目"},comp_itemContainer:{"default":null,type:e("Obj_dealScroll"),displayName:"条目容器"}},onLoad:function(){this._registerCloseEvent()},bindContainer:function(e){this._parentComp=e},setData:function(){},_registerCloseEvent:function(){this.node_closeBtn&&this.registerButton(this.node_closeBtn,this._onClick_close,this)},_onClick_close:function(e){this.hideLayer()}}),cc._RFpop()},{BaseUI:"BaseUI",Obj_dealScroll:"Obj_dealScroll"}],BaseManager:[function(e,t,i){"use strict";cc._RFpush(t,"81a4a4XtK1Om55doheYVRiA","BaseManager"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){GG.curMgr=this,this.addLongListen(),GG.setIsLoading(!1)},updateEnterHomeData:function(e){this._enterHomeData&&(this._enterHomeData.match.beginTimeNext!=e.match.beginTimeNext&&(this._isPauseOverMatch=!0),this._enterHomeData.seats=e.seats,this._enterHomeData.match.dealer=e.match.dealer,this._enterHomeData.match.beginTimeNext=e.match.beginTimeNext,this._enterHomeData.match.settleTime=e.match.settleTime,e.poker&&(this._enterHomeData.poker=e.poker))},refreshHome:function(){G_Config_common.isLocal||this.net_setHomeData&&this._enterHomeData&&this.net_setHomeData(this._enterHomeData)},whenPauseGame:function(){this._isPauseOverMatch=!1},whenResumeGame:function(){this.comp_uiLayer&&this.comp_uiLayer.closeAllUI()},setBettingEndInfo:function(e){},checkMyselfInfo:function(e){return!(!e||e.length<1)||(GG.tipsMgr.showConfirmTip_ONE(G_CHINESE.noMyself,function(){GG.exitGame()}.bind(this)),!1)},addLongListen:function(){GG.socketMgr.registerLong(NetType.r_passiveOut,this.net_passiveOut.bind(this)),GG.socketMgr.registerLong(NetType.r_tips,this.net_tipData.bind(this)),GG.socketMgr.registerLong(NetType.r_getAnnouncement,this.net_getAnnouncement.bind(this))},net_tipData:function(e){e.code==G_TYPE.serverCodeType.needLogin&&GG.tipsMgr.showConfirmTip_ONE(e.tip,function(){GG.loginSocket(function(){GG.exitHome()})}.bind(this))},net_passiveOut:function(e){GG.tipsMgr.showConfirmTip_ONE(e.tip.tip,function(){GG.exitGame()}.bind(this))},net_getAnnouncement:function(e){var t=e.tip;t.code==G_TYPE.serverCodeType.success&&GG.tipsMgr.addNotice(e.content)},onDestroy:function(){GG.socketMgr.cancelAllLongListen()}}),cc._RFpop()},{}],BaseUI:[function(e,t,i){"use strict";cc._RFpush(t,"cd62eHkgCZHfo5RnyU+f4P8","BaseUI"),cc.Class({"extends":e("AutoDealing"),properties:{_isRelease:null,_uiName:null},onLoad:function(){},showLayer:function(){this.node.active=!0,this.addTouchLimit(),this._parentComp&&this._parentComp.setGrayLayerIsShow&&this._parentComp.setGrayLayerIsShow(!0)},hideLayer:function(){this.cancelTouchLimit(),this._parentComp&&this._parentComp.setGrayLayerIsShow&&this._parentComp.setGrayLayerIsShow(!1),this._isRelease?this.node.destroy():this.node.active=!1},addTouchLimit:function(){var e=this._getTouchLimitComp();e&&e.addTouchLimit()},cancelTouchLimit:function(){var e=this._getTouchLimitComp();e&&e.cancelTouchLimit()},_getTouchLimitComp:function(){return this._touchLimitComp||(this._touchLimitComp=this.node.parent.getComponent("Obj_touchLimit")),this._touchLimitComp},setIsRelease:function(e){this._isRelease=e},setUIName:function(e){this._uiName=e},getUIName:function(){return this._uiName}}),cc._RFpop()},{AutoDealing:"AutoDealing"}],Bull100_Manager:[function(e,t,i){"use strict";cc._RFpush(t,"fb19fRj6b9GDZMv4BilqtWr","Bull100_Manager");var n={0:"SPADE_W",1:"SPADE_L",2:"HEART_W",3:"HEART_L",4:"CLUB_W",5:"CLUB_L",6:"DIAMOND_W",7:"DIAMOND_L"},o={SPADE_W:"0",SPADE_L:"1",HEART_W:"2",HEART_L:"3",CLUB_W:"4",CLUB_L:"5",DIAMOND_W:"6",DIAMOND_L:"7"};cc.Class({"extends":e("BaseManager"),properties:{_gameState:null,_idleTip:null,_grabTip:null,_isMyDealer:null,_enterHomeData:null,_homeID:null,_matchID:null,_nextStartTime:null,_curEndGrabTime:null,_playerID:null,_maxBettingTimes:null,_maxBettingGold:null,_chipValueList:null,_homeName:null,_netEndInfo:null,_dealerNetType:null,_minDealerGold:null,_isPauseOverMatch:null,_isDealerSign:null,comp_topEffect:{"default":null,type:e("Bull100_topEffect"),displayName:"动画容器"},comp_pokerLayer:{"default":null,type:e("Bull100_pokerContainer"),displayName:"卡牌容器"},comp_playersLayer:{"default":null,type:e("Bull100_playerContainer"),displayName:"玩家容器"},comp_tablesLayer:{"default":null,type:e("Bull100_tableContainer"),displayName:"桌子容器"},comp_goldsLayer:{"default":null,type:e("Bull100_goldContainer"),displayName:"金币容器"},comp_btnsLayer:{"default":null,type:e("Bull100_btnContainer"),displayName:"底部按钮容器"},comp_uiLayer:{"default":null,type:e("Obj_uiContainer"),displayName:"窗口界面容器"},comp_pokerResultLayer:{"default":null,type:e("Bull100_pokerResultContainer"),displayName:"卡牌结果显示容器"},label_bettingTimes:{"default":null,type:cc.Label,displayName:"投注次数"}},onLoad:function(){GG.bull100Mgr=this,this._super(),this._isDealerSign=!1,this._bettingTimesStr=G_CHINESE.limitBetting,this._isPauseOverMatch=!0},_initLocalData:function(){if(G_Config_common.isLocal){var e=[100,500,1e3,2e3,5e3],t={myselfData:{chooseDict:e,roomName:null},othersData:[{player:{coin:7568,icon:null,nickname:"black1",playerId:5,usableBalance:7568},seatIndex:1},{player:{coin:7568,icon:null,nickname:"black",playerId:5,usableBalance:7568},seatIndex:2},{player:{coin:888888,icon:null,nickname:"solider",playerId:6,usableBalance:888888},seatIndex:3},{player:{coin:888888,icon:null,nickname:"jin",playerId:7,usableBalance:888888},seatIndex:4},{player:{coin:888888,icon:null,nickname:"jin1",playerId:8,usableBalance:888888},seatIndex:5},{player:{coin:888888,icon:null,nickname:"jin2",playerId:9,usableBalance:888888},seatIndex:6},{player:{coin:888888,icon:null,nickname:"jin3",playerId:9,usableBalance:888888},seatIndex:7}],dealerData:{coin:297300,icon:null,nickname:"系统大牛",playerId:7,usableBalance:74325},homeData:{roomId:1,userId:6,betTimes:100,matchId:1,beginTimeNext:1487559489225,settleTime:1487559474225,betChip:e,minDealerGold:1e5}};this._initInHomeData(t);var i=1487559484012;if(this._nextStartTime>i&&i>=this._curEndGrabTime){var n=this._getOffSeconds(i,this._nextStartTime);this.cmd_wait(n,this.cmd_startReady.bind(this))}else this._givePokers(!0)}},_initInHomeData:function(e){if(e.homeData){var t=e.homeData;this._homeID||(this._homeID=t.roomId),this._matchID=t.matchId,this._nextStartTime=t.beginTimeNext,this._curEndGrabTime=t.settleTime,t.minDealerGold&&(this._minDealerGold=t.minDealerGold),t.betTimes&&(this._maxBettingTimes=t.betTimes),t.betChip&&(this._chipValueList=t.betChip,this._maxBettingGold=this._maxBettingTimes*t.betChip[t.betChip.length-1],this.comp_btnsLayer.initChipBtn(t.betChip)),t.userId&&(GG.getPlayer().setPlayerID(t.userId),this._playerID=GG.getPlayer().getPlayerID())}this.comp_playersLayer.setStartInfo(e.othersData,e.myselfData,e.dealerData),e.dealerData&&(e.dealerData.playerId==GG.getPlayerID()?(this.setBottomIsShow(!1),this._isDealerSign=!0):(this.setBottomIsShow(!0),this.comp_playersLayer.getMyselfEffectComp().clearDealerWordAni())),this.setBettingTimes(this._maxBettingTimes)},start:function(){if(this.resetShow(),G_Config_common.isLocal)this._initLocalData();else{this.addLongListenOnStart();var e=GG.getPlayer().getInHomeData();e&&(e.net_resetHomeData?(this._dealInHomeNetData(e.net_inHomeData),this.updateEnterHomeData(e.net_resetHomeData),this.refreshHome()):this.net_setHomeData(e.net_inHomeData))}},testExitBtn:function(){return!0},_clearByWait:function(){this.getMyselfComp().clearBettingGold()},cmd_wait:function(e,t){this._gameState=G_TYPE.bull100State.wait,this._grabTip&&this._grabTip.getIsShow()&&this._grabTip.forceEnd(),this.comp_tablesLayer.setTableTouchEnable(!1);new Date(GG.socketMgr.getServerTime()),new Date(this._nextStartTime);if(this._idleTip&&this._idleTip.getIsShow())this._idleTip.forceChangeCountDown(e);else{var i=G_DATA.getBottomTipPos(),n={tipIndex:19,isCountDown:!0,showPos:cc.p(i.x,1.3*i.y)};n.retainTime=e,t&&(n.callBack=t),this._idleTip=GG.tipsMgr.showOnlyOne(n)}this._clearByWait()},cmd_startReady:function(){this._gameState=G_TYPE.bull100State.startReady,this._idleTip&&this._idleTip.getIsShow()&&this._idleTip.forceEnd(),this.comp_playersLayer.getDealerWordEffectComp().playDealerWordAni(),this.comp_topEffect.playStartGameAni(function(){var e;e=G_Config_common.isLocal?10:this._getOffSeconds(GG.socketMgr.getServerTime(),this._curEndGrabTime),this.cmd_startBetting(e)}.bind(this)),this.getMyselfComp().getIsDealer()?this._givePokers(!0):this._givePokers(!1)},_givePokers:function(e){var t=this.comp_playersLayer.getDealerPokerPos(),i=this.comp_tablesLayer.getTablePokerPos();i.push(t),this.comp_pokerLayer.giveCoverPokers(i,function(){}.bind(this),e)},cmd_startBetting:function(e){var t=this.getMyselfComp().getIsDealer();t||(this.comp_tablesLayer.setTableTouchEnable(!0),this.refreshBtnChoose());var i=G_DATA.getBottomTipPos(),n={tipIndex:18,showPos:cc.p(i.x,1.3*i.y),isCountDown:!0,callBack:this.cmd_bettingEnd.bind(this)};n.retainTime=e,G_Config_common.isLocal&&(n.retainTime=10),t&&(n.showStr=G_CHINESE.isDealerTip),this._grabTip=GG.tipsMgr.showOnlyOne(n)},cmd_bettingEnd:function(e){this.comp_tablesLayer.setTableTouchEnable(!1),this.comp_btnsLayer.setBtnGroupEnable(!1),this._grabTip&&this._grabTip.getIsShow()&&this._grabTip.forceEnd();var t;if(G_Config_common.isLocal){this._winDict={0:1,2:1,5:1,7:1};for(var i=[],n=0;n<5;n++){for(var o=[],s=0;s<5;s++)o.push({pokerIndex:13,isOpen:!1});i.push(o)}var a=[10,2,3,4,5];this._netEndInfo||(this._netEndInfo={}),this._netEndInfo.pokersInfoList=i,this._netEndInfo.pokersResultList=a,this._netEndInfo.myselfInfo={changeGold:44444*(G_TOOL.getRandomBool()?1:-1),leaveGold:999666},this._netEndInfo.dealerInfo={leaveGold:8888888},this._netEndInfo.othersInfo={2:{changeGold:11111*(G_TOOL.getRandomBool()?1:-1),leaveGold:33333,name:"黑人1"},3:{changeGold:44444*(G_TOOL.getRandomBool()?1:-1),leaveGold:999666,name:"黑人2"}},t=10,this.cmd_wait(t)}this._winDict&&this.comp_topEffect.playBettingEnd(function(){this._showWhenGotEndInfo()}.bind(this))},_showWhenGotEndInfo:function(){if(!this._netEndInfo)return void this._resetGameWhenEnd();this.comp_pokerLayer.setPokersData(this._netEndInfo.pokersInfoList,this._netEndInfo.pokersResultList),this.comp_pokerLayer.openPokers(this._winDict);var e=cc.delayTime(3);this.node.runAction(cc.sequence(e,cc.callFunc(function(){if(this._netEndInfo.dealerInfo&&this.comp_playersLayer.getDealerComp().setGoldValue(this._netEndInfo.dealerInfo.leaveGold),this._netEndInfo.myselfInfo){var e=this.getMyselfComp();e.setGoldValue(this._netEndInfo.myselfInfo.leaveGold),e.showGoldChange(this._netEndInfo.myselfInfo.changeGold)}if(this._netEndInfo.othersInfo){var t,i;for(var n in this._netEndInfo.othersInfo)t=this._netEndInfo.othersInfo[n],t&&(i=this.comp_playersLayer.getPlayerComp(n),i&&i.showGoldChange(t.changeGold))}this._openPokerEnd()},this)))},_openPokerEnd:function(e){this.comp_playersLayer.flyWinGold(this._winDict);var t=cc.delayTime(2);this.node.runAction(cc.sequence(t,cc.callFunc(function(){var e={};this._netEndInfo?(this._netEndInfo.myselfInfo&&(e.myChangeGold=this._netEndInfo.myselfInfo.changeGold),this._netEndInfo.othersInfo&&(e.othersInfo=this._netEndInfo.othersInfo),this.comp_topEffect.showResultEffect(e,this._resetGameWhenEnd.bind(this))):this._resetGameWhenEnd()},this)))},_resetGameWhenEnd:function(){this.changeIdleTip(),G_Config_common.isLocal&&this._initLocalData()},resetShow:function(){this.node.stopAllActions(),this._isMyDealer=!1,this._winDict=null,this._netEndInfo=null,this.comp_pokerLayer.clearAll(),this._isPauseOverMatch?(this.comp_goldsLayer.clearAll(),this.comp_tablesLayer.initAllTables()):this._isPauseOverMatch=!0,this.comp_btnsLayer.setStartInfo(),this.comp_topEffect.clearAll(),this.comp_uiLayer.getUIComp(G_RES_URL.uiName.dealerList).hideLayer(),this.comp_pokerResultLayer.clearAll()},flyGold:function(e){this.comp_goldsLayer.flyGolds(e)},chooseChip:function(e){this.getMyselfComp().chooseChip(e)},touchTable:function(e,t){if(!this.getMyselfComp().getIsDealer()){var i=G_OBJ.data_bullBetting();i.tableIndex=e,i.posList=t,i.isMine=!0,this.getMyselfComp().touchTable(i,this._touchTableSuccess.bind(this))}},_touchTableSuccess:function(e){for(var t=e.tableIndex,i=e.posList,n=[],o=0;o<i.length;o++){var s={startPos:e.startPos,targetPos:i[o],tableIndex:t,callFunc:null};n.push(s)}this.comp_tablesLayer.setBettingSuccess(t,e.goldValue,e.isMine),this.flyGold(n)},goldRecover:function(e,t){this.comp_goldsLayer.recoverGold(e,t)},refreshBtnChoose:function(){this.comp_btnsLayer.setBtnGroupEnable(!0),this.comp_btnsLayer.changeBet();var e=this.getMyselfComp().getChooseChip();this.comp_btnsLayer.chooseMoney(e)},showTableWin:function(e,t){this.comp_tablesLayer.showTableWin(e,t)},showUI_dealerList:function(e){var t=this.comp_uiLayer.addUI(G_RES_URL.uiName.dealerList);return t.showLayer(),t.setData(e),t},showUI_playerList:function(e){var t=this.comp_uiLayer.addUI(G_RES_URL.uiName.playerList);t.showLayer(),t.setData(e)},showUI_trendList:function(e){var t=this.comp_uiLayer.addUI(G_RES_URL.uiName.trend);return t.showLayer(),t.setData(e),t},showUI_rules:function(e){var t=this.comp_uiLayer.addUI(G_RES_URL.uiName.rulesInHome);return t.showLayer(),t.setData(e),t},changeGrabTip:function(e){var t=this._getOffSeconds(GG.socketMgr.getServerTime(),this._curEndGrabTime);this._grabTip&&this._grabTip.getIsShow()?this._grabTip.forceChangeCountDown(t):(this.comp_topEffect.clearAll(),this.comp_pokerLayer.getIsGivePokerEnd()||this._givePokers(!0),this.cmd_startBetting(t))},changeIdleTip:function(e){if(this._idleTip&&this._idleTip.getIsShow()){var t=this._getOffSeconds(GG.socketMgr.getServerTime(),this._nextStartTime);e&&(t=e),this._idleTip.forceChangeCountDown(t)}},resetTableGold:function(e){if(e&&!(e.length<1))for(var t,i=0;i<e.length;i++){t=e[i];var n=parseInt(t.item.split("_")[0]);if(t.seatIndex!==this.getMyselfComp().getSeatIndex()){var o={},s=this.comp_playersContainer.getCompByIndex(t.seatIndex);o.goldValue=t.gold,o=s.touchGrabArea_other(o),o=this.comp_tablesContainer.touchOneTable(n,o),o.callFunc&&o.callFunc()}}},send_getDealerList:function(){if(G_Config_common.isLocal){var e={playerId:9,icon:"",nickname:"玩家1",coin:21e4,maxDealerCoin:21e4,usableBalance:2e5},t=[{playerId:1,headImg:"",nickname:"玩家3",coin:99999,usableBalance:11111},{playerId:2,headImg:"",nickname:"玩家2",coin:99999,usableBalance:11111}],i={myGold:e.usableBalance,dealerInfo:e,rankList:t};this.showUI_dealerList(i)}else{var n={};this.setDealerNetType(G_TYPE.dealerNetType.getList),GG.socketMgr.SendMsg(NetType.s_bull100_getDealerList,n)}},send_upDealer:function(e){if(G_Config_common.isLocal){var t={playerId:6,icon:"",nickname:"玩家1",coin:11e4,maxDealerCoin:11e4,usableBalance:1e5},i=[{playerId:1,headImg:"",nickname:"玩家3",coin:99999,usableBalance:11111},{playerId:2,headImg:"",nickname:"玩家2",coin:99999,usableBalance:11111},{playerId:3,headImg:"",nickname:"玩家5",coin:9909,usableBalance:1101}],n={myGold:t.usableBalance,dealerInfo:t,rankList:i,tipStr:"上庄成功！！！"};this.comp_uiLayer.getUIComp(G_RES_URL.uiName.dealerList).upDealerSuccess(n)}else{var o={coin:e};this.setDealerNetType(G_TYPE.dealerNetType.upDealer),GG.socketMgr.SendMsg(NetType.s_bull100_dealerUp,o)}},send_downDealer:function(){var e=this.getMyselfComp().getIsDealer();e?(GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.giveUpDealer2,this._commitDownDealer.bind(this)),this.comp_uiLayer.getUIComp(G_RES_URL.uiName.dealerList).hideLayer()):this._commitDownDealer()},_commitDownDealer:function(){var e={};GG.socketMgr.SendMsg(NetType.s_bull100_dealerDown,e)},send_continueDealer:function(e,t){GG.tipsMgr.showConfirmTip_TWO(G_TOOL.formatStr(G_CHINESE.continueDealer,e),function(){this.commitContinueDealer(e)}.bind(this),t)},commitContinueDealer:function(e){var t={coin:e};GG.bull100Mgr.setDealerNetType(G_TYPE.dealerNetType.continueDealer),GG.socketMgr.SendMsg(NetType.s_bull100_dealerContinue,t)},setBottomIsShow:function(e){this.comp_btnsLayer.setBottomIsShow(e),this.comp_playersLayer.getMyselfEffectComp().playDealerWordAni()},setDealerNetType:function(e){this._dealerNetType=e},setBettingTimes:function(e){this.label_bettingTimes.string=G_TOOL.formatStr(this._bettingTimesStr,e)},shakeGame:function(){var e=2,t=2*e,i=.07,n=cc.moveBy(i,-t,0),o=cc.moveBy(i,2*t,0),s=cc.moveBy(i,-t,0),a=cc.moveBy(i,t,0),r=cc.moveBy(i,-e,0);this.node.runAction(cc.sequence(n,o,s,a,r))},showPokerResult:function(e,t){this.comp_pokerResultLayer.showPokerResult(e,t)},getMyselfPos:function(){return this.comp_playersLayer.getMyselfPos()},getMyselfComp:function(){return this.comp_playersLayer.getMyselfComp()},getPlayerCompInSite:function(e){return this.comp_playersLayer.getPlayerComp(e)},getMyselfFlyGoldNum:function(){return this.getMyselfComp().getFlyGoldNum()},getMyselfBetGoldValue:function(){return this.getMyselfComp().getChooseGoldValue()},getGoldImgSize:function(){return this.comp_goldsLayer.getGoldSize()},getMaxBettingGold:function(){return this._maxBettingGold},getMaxBettingTimes:function(){return this._maxBettingTimes},getMatchID:function(){return this._matchID},getBtnsComp:function(){return this.comp_btnsLayer},getBigTableIndex:function(e){return 2*e},getMinTableIndex:function(e){return 2*e+1},getTableContainerIndex:function(e){var t;return t=e%2==0?e/2:(e-1)/2},getItemByTableIndex:function(e){return n[e]},getTableIndexByItem:function(e){return o[e]},getChipValueList:function(){return this._chipValueList},getEnterHomeData:function(){return this._enterHomeData},getIsBetStart:function(e,t){e||(e=this._nextStartTime),t||(t=this._curEndGrabTime);var i=GG.socketMgr.getServerTime();return!(e>i&&i>=t)},getHomeName:function(){return this._homeName},getHomeID:function(){return this._homeID},getIsBetting:function(){return this.getMyselfComp().getIsBetting()},getMinDealerGold:function(){return this._minDealerGold},getDealerState:function(){return this._isDealerSign},addLongListenOnStart:function(){GG.socketMgr.registerLong(NetType.r_bull100_reStartGame,this.net_resetGameData.bind(this)),GG.socketMgr.registerLong(NetType.r_grabEnd,this.net_bettingEnd.bind(this)),GG.socketMgr.registerLong(NetType.r_otherGrab,this.net_otherGrab.bind(this)),GG.socketMgr.registerLong(NetType.r_mineHaveGrab,this.net_mineHasGrab.bind(this)),GG.socketMgr.registerLong(NetType.r_oneInHome,this.net_someOneInHome.bind(this)),GG.socketMgr.registerLong(NetType.r_grab_exitReturn,this.net_exitHome.bind(this)),GG.socketMgr.registerLong(NetType.r_idleTimeOut,this.net_idleTimeOut.bind(this)),GG.socketMgr.registerLong(NetType.r_bull100_dealerDownWarning,this.net_dealerContinueWarning.bind(this)),GG.socketMgr.registerLong(NetType.r_bull100_dealerListReturn,this.net_returnDealerList.bind(this)),GG.socketMgr.registerLong(NetType.r_bull100_downDealerReturn,this.net_returnDownDealer.bind(this))},net_setHomeData:function(e){var t=e.tip;if(t.code==G_TYPE.serverCodeType.success){this._dealInHomeNetData(e);var i=GG.socketMgr.getServerTime();if(i<this._curEndGrabTime){this._idleTip&&this._idleTip.getIsShow()&&this._idleTip.forceEnd(),this.resetShow();var n=this._getOffSeconds(GG.socketMgr.getServerTime(),this._curEndGrabTime);this.cmd_startBetting(n),this._givePokers(!0)}else{this._isPauseOverMatch=!0,this.resetShow();var n=this._getOffSeconds(i,this._nextStartTime);n<=0?(n=this._getOffSeconds(GG.socketMgr.getServerTime(),this._curEndGrabTime),this.cmd_startBetting(n),this._givePokers(!0)):this.cmd_wait(n)}}},_dealInHomeNetData:function(e){this._enterHomeData=e;var t=e.match,i=(new Date(GG.socketMgr.getServerTime()),new Date(t.beginTimeNext),GG.getPlayerID()),n={myselfData:{chooseDict:e.betChip,roomName:e.roomName},othersData:e.seats,dealerData:t.dealer,homeData:{roomId:e.roomId,userId:i,betTimes:e.betTimes,matchId:t.matchId,beginTimeNext:t.beginTimeNext,settleTime:t.settleTime,betChip:e.betChip,minDealerGold:e.minDealerCoin}};this._initInHomeData(n)},net_resetGameData:function(e){GG.tipsMgr.clearConfirm();var t=e.tip;if(t.code==G_TYPE.serverCodeType.success){this.updateEnterHomeData(e);var i=e.match,n={myselfData:{chooseDict:null,roomName:null},othersData:e.seats,dealerData:i.dealer,homeData:{roomId:e.roomId,userId:null,betTimes:null,matchId:i.matchId,beginTimeNext:i.beginTimeNext,settleTime:i.settleTime,betChip:null}};this._initInHomeData(n),this.resetShow(),this.cmd_startReady()}},net_bettingEnd:function(e){var t=this.setBettingEndInfo(e);if(t){this.cmd_bettingEnd();var i=this._getOffSeconds(GG.socketMgr.getServerTime(),this._nextStartTime);this.cmd_wait(i)}},setBettingEndInfo:function(e){var t=e.tip;switch(t.code){case G_TYPE.serverCodeType.success:break;case G_TYPE.serverCodeType.noBetting:break;default:return!1}this._super(e),this._winDict={};for(var i,n,o,s=[],a=[],r=0;r<e.pokers.length;r++){n=e.pokers[r];for(var l=n.code.split(","),c=[],_=0;_<l.length;_++)i=parseInt(l[_]),isNaN(i)||c.push({pokerIndex:i,isOpen:!1});s.push(c),a.push(n.cardsPoint),r>0?"WIN"==n.result?this._winDict[this.getBigTableIndex(r-1)]=Math.max(n.odds,o):"LOSE"==n.result&&(this._winDict[this.getMinTableIndex(r-1)]=Math.max(n.odds,o)):o=n.odds}this._netEndInfo||(this._netEndInfo={}),this._netEndInfo.pokersInfoList=s,this._netEndInfo.pokersResultList=a;var h=e.players;if(h){this._netEndInfo.othersInfo={};for(var r=0;r<h.length;r++){var u=h[r];switch(u.seatIndex){case G_DATA.getDealerSeatIndex():this._netEndInfo.dealerInfo={leaveGold:u.balance};break;case G_DATA.getIdlePlayersSeatIndex():break;default:this._netEndInfo.othersInfo[u.seatIndex]={changeGold:u.coin,leaveGold:u.balance,name:u.nickname,icon:u.icon}}}}return!0},net_mineHasGrab:function(e){var t=e.tip;if(t.code==G_TYPE.serverCodeType.success){var i=e.player;this._netEndInfo||(this._netEndInfo={}),this._netEndInfo.myselfInfo={changeGold:i.coin,leaveGold:i.balance}}},net_otherGrab:function(e){var t=e.tip;if(t.code==G_TYPE.serverCodeType.success)for(var i,n=e.bets,o=0;o<n.length;o++){i=n[o];var s=this.getTableIndexByItem(i.item),a=i.seatIndex,r=G_Config_grab.num_otherGrabGoldNum,l=G_OBJ.data_bullBetting();switch(l.tableIndex=s,l.posList=this.comp_tablesLayer.getGoldPosList(s,r),l.goldValue=i.gold,l.isMine=!1,a){case this.getMyselfComp().getSeatIndex():break;case G_DATA.getIdlePlayersSeatIndex():l.startPos=this.comp_btnsLayer.getIdleBettingPos(),l.goldNum=r,!this.getMyselfComp().getSeatIndex()&&this.getMyselfComp().getIsBetting()&&(l.goldValue=this.getMyselfComp().reduceGoldEX(l.goldValue)),l.goldValue>0&&this._touchTableSuccess(l);break;case G_DATA.getDealerSeatIndex():break;default:var c=this.getPlayerCompInSite(a);c&&c.touchTable(l,this._touchTableSuccess.bind(this))}}},net_someOneInHome:function(e){var t=e.tip;if(t.code==G_TYPE.serverCodeType.success)for(var i,n=e.seats,o=GG.getPlayerID(),s=0;s<n.length;s++)i=n[s],i&&i.player.playerId!=o&&this.comp_playersLayer.onePlayerInsert(i.seatIndex,i.player)},net_dealerContinueWarning:function(e){var t=e.tip;switch(t.code){case G_TYPE.serverCodeType.success:break;case G_TYPE.serverCodeType.upDealerErr2:GG.tipsMgr.showSystem(t.tip);break;case G_TYPE.serverCodeType.upDealerSuccess:GG.tipsMgr.showSystem(G_CHINESE.upDealerSuccess,null,2);break;case G_TYPE.serverCodeType.continueFail1:GG.tipsMgr.showConfirmTip_ONE(t.tip);break;case G_TYPE.serverCodeType.downDealer4:GG.tipsMgr.showConfirmTip_ONE(t.tip),this.getMyselfComp().getIsDealer();break;case G_TYPE.serverCodeType.warnDealer1:GG.tipsMgr.showSystem(G_CHINESE.downDealerWarning,null,4);break;case G_TYPE.serverCodeType.continueFail2:this.send_continueDealer(e.coin,function(){this.setBottomIsShow(!0)}.bind(this));break;case G_TYPE.serverCodeType.downDealer3:return void GG.tipsMgr.showConfirmTip_ONE(t.tip);default:return void GG.tipsMgr.showConfirmTip_ONE(t.code+t.tip)}},net_returnDealerList:function(e){var t=e.tip;switch(t.code){case G_TYPE.serverCodeType.success:break;case G_TYPE.serverCodeType.continueSuccess:break;case G_TYPE.serverCodeType.continueFail1:return void GG.tipsMgr.showConfirmTip_ONE(t.tip);case G_TYPE.serverCodeType.upDealerErr2:return void GG.tipsMgr.showSystem(t.tip,null,2);case G_TYPE.serverCodeType.continueFail3:return void GG.tipsMgr.showSystem(t.tip,null,2);case G_TYPE.serverCodeType.downDealer5:return void GG.tipsMgr.showConfirmTip_ONE(t.tip);default:return void GG.tipsMgr.showConfirmTip_ONE(t.code+t.tip)}var i=e.deskDealer,n=e.players,o={myGold:e.dealer.maxDealerCoin,dealerInfo:i,rankList:n,tipStr:""};switch(this.getMyselfComp().setGoldValue(e.dealer.maxDealerCoin),this.getMyselfComp().getIsDealer()&&this.comp_playersLayer.getDealerComp().setGoldValue(e.deskDealer.usableBalance),this._dealerNetType){case G_TYPE.dealerNetType.upDealer:o.tipStr=G_CHINESE.dealerSuccess,this.comp_uiLayer.getUIComp(G_RES_URL.uiName.dealerList).upDealerSuccess(o);break;case G_TYPE.dealerNetType.continueDealer:o.tipStr=G_CHINESE.continueDealerSuccess,this.comp_uiLayer.getUIComp(G_RES_URL.uiName.dealerList).upDealerSuccess(o);break;case G_TYPE.dealerNetType.getList:this.showUI_dealerList(o)}this._dealerNetType=null},net_returnDownDealer:function(e){var t=e.tip;switch(t.code){case G_TYPE.serverCodeType.success:break;case G_TYPE.serverCodeType.downDealer1:this.setBottomIsShow(!0);({tipIndex:19,showStr:G_CHINESE.downSuccess,isCountDown:!1,showPos:G_DATA.getCenterTipPos()});GG.tipsMgr.showSystem(G_CHINESE.downSuccess,null,2),this.comp_uiLayer.getUIComp(G_RES_URL.uiName.dealerList).setBtnShow(!1),this.comp_playersLayer.getMyselfEffectComp().clearDealerWordAni(),this.comp_playersLayer.setUpDealerBtnEnable(!1);break;case G_TYPE.serverCodeType.downDealer2:var i=e.deskDealer,n=e.players,o={myGold:e.dealer.maxDealerCoin,dealerInfo:i,rankList:n,tipStr:""};o.tipStr=G_CHINESE.giveUpDealer1,this.comp_uiLayer.getUIComp(G_RES_URL.uiName.dealerList).downDealerSuccess(o),GG.tipsMgr.showSystem(G_CHINESE.giveUpDealer1,null,2),this.getMyselfComp().setGoldValue(o.myGold);break;case G_TYPE.serverCodeType.downDealer3:this.setBottomIsShow(!0);({tipIndex:19,showStr:G_CHINESE.downSuccess,isCountDown:!1,showPos:G_DATA.getCenterTipPos()});GG.tipsMgr.showSystem(G_CHINESE.downSuccess,null,2)}this._isDealerSign=!1},net_exitHome:function(e){var t=e.tip;t.code==G_TYPE.serverCodeType.success&&GG.exitHome()},net_idleTimeOut:function(e){GG.tipsMgr.showConfirmTip_ONE(e.tip.tip,function(){GG.exitHome()}.bind(this))},_getOffSeconds:function(e,t){return GG.socketMgr.getOffSeconds(e,t)},onDestroy:function(){this._super(),GG.bull100Mgr=null}}),cc._RFpop()},{BaseManager:"BaseManager",Bull100_btnContainer:"Bull100_btnContainer",Bull100_goldContainer:"Bull100_goldContainer",Bull100_playerContainer:"Bull100_playerContainer",Bull100_pokerContainer:"Bull100_pokerContainer",Bull100_pokerResultContainer:"Bull100_pokerResultContainer",Bull100_tableContainer:"Bull100_tableContainer",Bull100_topEffect:"Bull100_topEffect",Obj_uiContainer:"Obj_uiContainer"}],Bull100_btnContainer:[function(e,t,i){"use strict";cc._RFpush(t,"8ebeakRcqlHerVhexIQiAHf","Bull100_btnContainer"),cc.Class({"extends":e("AutoDealing"),properties:{_lastBtn:null,node_btnGroup:cc.Node,node_effectOnButton:cc.Node,node_effectUnderButton:cc.Node,node_exitHomeBtn:cc.Node,node_rightBtn1:cc.Node,node_rightBtn2:cc.Node,node_rightBtn3:cc.Node,node_continueDealer:{"default":null,type:cc.Node,displayName:"续庄按钮容器"}},onLoad:function(){this._btnCompName="Button_multiple",this._registerAllBtn()},initChipBtn:function(e){this._setBtnInfo(e)},setStartInfo:function(){this.setBtnGroupEnable(!1)},_registerAllBtn:function(){var e=this.node_btnGroup.children;for(var t in e)this.registerButton(e[t],this.OnClick_chooseMoney,this,parseInt(t),!0);this.registerButton(this.node_exitHomeBtn,this.OnClick_exit,this),this.registerButton(this.node_rightBtn1,this.OnClick_right1,this),this.registerButton(this.node_rightBtn2,this.OnClick_right2,this),this.registerButton(this.node_rightBtn3,this.OnClick_right3,this);var i=this.node_continueDealer.children[0],n=this.node_continueDealer.children[1];this.registerButton(i,this.OnClick_continueDealer,this),this.registerButton(n,this.OnClick_leaveDealer,this)},OnClick_chooseMoney:function(e,t){var i=parseInt(t);this._showEffect(e.target);var n=i+1;GG.bull100Mgr.chooseChip(n)},OnClick_exit:function(e){var t=GG.bull100Mgr.testExitBtn();if(t){if(G_Config_common.isLocal)return void GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText1,function(){GG.exitHome()});if(GG.bull100Mgr.getIsBetting())GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText1,function(){var e={roomId:GG.bull100Mgr.getHomeID(),isBreak:!0
};GG.socketMgr.SendMsg(NetType.s_grab_Exit,e)});else if(GG.bull100Mgr.getMyselfComp().getIsDealer()&&GG.bull100Mgr.getDealerState())GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText3,function(){var e={roomId:GG.bull100Mgr.getHomeID(),isBreak:!0};GG.socketMgr.SendMsg(NetType.s_grab_Exit,e)});else{var i={roomId:GG.bull100Mgr.getHomeID(),isBreak:!0};GG.socketMgr.SendMsg(NetType.s_grab_Exit,i)}}},OnClick_right1:function(e){GG.bull100Mgr.showUI_playerList()},OnClick_right2:function(e){var t=G_TYPE.gameModule.bull100;GG.bull100Mgr.showUI_rules(t)},OnClick_right3:function(e){GG.bull100Mgr.showUI_trendList(GG.bull100Mgr.getHomeID())},OnClick_continueDealer:function(e){GG.bull100Mgr.send_getDealerList()},OnClick_leaveDealer:function(e){GG.bull100Mgr.send_downDealer()},_setBtnInfo:function(e){for(var t,i=this.node_btnGroup.children,n=0;n<i.length;n++)t=parseInt(n),i[n].tag=e[t],i[n].getComponent(this._btnCompName).showMoney(e[t],!1)},chooseMoney:function(e){var t=this._getBtnByIndex(e);this._showEffect(t)},_showEffect:function(e){this._chooseBtn(e),this.node_effectOnButton.active=!0,this.node_effectUnderButton.active=!0,this.node_effectOnButton.position=cc.p(e.x,e.y),this.node_effectUnderButton.x=e.x,this.node_effectUnderButton.y=-e.height/2},_hideEffect:function(){this.node_effectOnButton.active=!1,this.node_effectUnderButton.active=!1},_chooseBtn:function(e){this._cancelChoose(),e.getComponent(this._btnCompName).showMoney(null,!0),this.setBtnEnable(e,!1,!0),this._lastBtn=e},_cancelChoose:function(){this._lastBtn&&(this._hideEffect(),this._lastBtn.getComponent(this._btnCompName).showMoney(null,!1),this.setBtnEnable(this._lastBtn,!0),this._lastBtn.y=0,this._lastBtn=null)},setBtnGroupEnable:function(e){this._cancelChoose();var t=this.node_btnGroup.children;for(var i in t)this.setBtnEnable(t[i],e)},changeBet:function(e){var t,i=GG.bull100Mgr.getMyselfComp().getMoneyChooseDict();t=e?e:GG.bull100Mgr.getMyselfComp().getGoldValue(),this._changeBtn(i,t)},_changeBtn:function(e,t){for(var i,n=this.node_btnGroup.children,o=0;o<n.length;o++)i=parseInt(o),e[i]>t&&this.setOneBtnEnable(o)},setOneBtnEnable:function(e){var t,i,n=this.node_btnGroup.children;for(t in n)i=parseInt(t),e-1<i&&(this.setBtnEnable(n[t],!1),n[t].y=0,n[t].getComponent(this._btnCompName).showMoney(null,!1))},_setIsShowDealerBtn:function(e){this.node_continueDealer.active=e},setBottomIsShow:function(e){this.setBtnGroupEnable(!1),this.node_btnGroup.active=e,this._setIsShowDealerBtn(!e)},_getBtnByIndex:function(e){return this.node_btnGroup.children[e-1]},getIdleBettingPos:function(){var e=this.node_rightBtn1.position,t=this.node_rightBtn1.parent.parent.position,i=e.x+this.node_rightBtn1.parent.x+t.x+this.node_rightBtn1.width/2,n=e.y+this.node_rightBtn1.parent.y+t.y+this.node_rightBtn1.height/2;return cc.p(i,n)}}),cc._RFpop()},{AutoDealing:"AutoDealing"}],Bull100_goldContainer:[function(e,t,i){"use strict";cc._RFpush(t,"d7585N/geFLooWNCmoG/bC9","Bull100_goldContainer");cc.Class({"extends":cc.Component,properties:{_dict_sortGold:null,_allGoldNum:null,_isUpdate:null,_updateFunc:null,frame_gold:cc.SpriteFrame},onLoad:function(){this._allGoldNum=0,this._isUpdate=!1,this._goldScale=G_Config_common.scale_moveGold,this._goldMoveTime=.4,this._recoveGoldMoveTime=.7,this._goldRecoveInterval=.03},flyGolds:function(e){e||(e=[{startPos:cc.p(100,500),targetPos:cc.p(600,600),isMine:!1,callFunc:null},{startPos:cc.p(100,500),targetPos:cc.p(550,600),isMine:!1,callFunc:null},{startPos:cc.p(100,500),targetPos:cc.p(600,550),isMine:!1,callFunc:null}]),GG.audioMgr.playSound(15);for(var t,i=0;i<e.length;i++)t=e[i],this._flyOneGold(t)},_flyOneGold:function(e){this._dict_sortGold||(this._dict_sortGold={});var t=this._getOneGold();if(e&&t){t.tag=this._allGoldNum;var i=e.startPos,n=e.targetPos;t.position=i;var o=e.tableIndex;this._dict_sortGold[o]||(this._dict_sortGold[o]=[]),this._dict_sortGold[o].push(t),this._allGoldNum+=1;var s=cc.moveTo(this._goldMoveTime,n).easing(cc.easeOut(3));t.runAction(cc.sequence(s,cc.callFunc(this._oneGoldMoveEnd,this,e)))}},_oneGoldMoveEnd:function(e,t){t.callFunc&&t.callFunc(t.isMine)},_getOneGold:function(){if(!this.frame_gold)return null;this._pool||(this._pool=new cc.NodePool("Bull100_goldContainer"));var e=this._pool.get();if(!e){e=new cc.Node;var t=e.addComponent(cc.Sprite);t.spriteFrame=this.frame_gold}return e.parent=this.node,e.scale=this._goldScale,e.active=!0,e},addRecoverCold:function(){},recoverGold:function(e,t){if(!(this.node.children.length<1)){var i,n=[];for(var o in e){i=e[o];var s=this._getGoldListByIndex(o,i);n=n.concat(s)}this._startRecover(n,t),GG.audioMgr.playSound(18)}},_getGoldListByIndex:function(e,t){var i=this._dict_sortGold[e];return i&&i.length>0?i.slice(0,t):[]},_startRecover:function(e,t){this._delList=e,this._recoverTargetPos=t,this._interval=this._goldRecoveInterval,this._runTime=this._interval,this._updateFunc=this._updateRecover.bind(this),this._isUpdate=!0},_updateRecover:function(){if(this._delList.length>0){var e=this._delList.pop();this._recoverOneGold(e,this._recoverTargetPos)}else this._updateFunc=null,this._isUpdate=!1,this._recoverTargetPos=null,this._delList=null},_recoverOneGold:function(e,t){var i=cc.moveTo(this._recoveGoldMoveTime,t);e.runAction(cc.sequence(i,cc.callFunc(this._removeGold,this)))},_removeGold:function(e){e.active=!1,this._pool.put(e)},_deleteGoldImg:function(){var e=this.node.children;for(var t in e)e[t].destroy()},getGoldSize:function(){if(!this._goldSize){var e=this._getOneGold();this._goldSize=e.getContentSize(),this._removeGold(e)}return this._goldSize},clearAll:function(){for(var e=this.node.children,t=e.length-1;t>=0;t--)this._removeGold(e[t]);this._allGoldNum=0,this._isUpdate=!1,this._dict_sortGold=null,this.node.stopAllActions()},update:function(e){this._isUpdate&&(this._runTime>=this._interval?(this._runTime=0,this._updateFunc&&this._updateFunc(e)):this._runTime+=e)},onDestroy:function(){this._pool&&this._pool.clear()}}),cc._RFpop()},{}],Bull100_playerBlock:[function(e,t,i){"use strict";cc._RFpush(t,"56d8eUX/ttGJZhl4dhP/ZFi","Bull100_playerBlock"),cc.Class({"extends":cc.Component,properties:{_defaultHeadFrame:null,_chooseChip:null,_isHandle:null,_dict_betRecord:null,_playerID:null,_siteIndex:null,_touchTableCallFunc:null,_data_betting:null,_goldValue:null,_bettingGoldValue:null,_bettingTimes:null,_seatMyselfComp:null,_dealerMyselfComp:null,_isDealer:null,_goldValueEX:null,_isSending:null,node_headImg:{"default":null,type:cc.Node,displayName:"玩家头像"},node_playerName:{"default":null,type:cc.Node,displayName:"玩家名字"},node_roomName:{"default":null,type:cc.Node,displayName:"房间名字"},node_ownerGold:{"default":null,type:cc.Node,displayName:"玩家金币父层"},prefab_goldResultEffect:{"default":null,type:cc.Prefab,displayName:"金币增减特效"}},onLoad:function(){this._goldResultCompName="Obj_goldResultEffect",this._dict_goldMatch=G_Config_bull100.dict_betGoldNum,this._goldResultFlyTime=.5,this._goldValue=0,this._goldValueEX=0,this._bettingGoldValue=0,this._isSending=!1,this.setDefaultChoose()},setPlayerData:function(e){this.node.active=!0,this._dict_betRecord=null,this._bettingGoldValue=0,this._bettingTimes=0,this._data_betting=null,this._isDealer=e.isDealer,this._setHeadImg(e.icon),this._setPlayerName(e.nickname),this.setGoldValue(e.coin),this.setDefaultChoose(),this._playerID=e.playerId,this._siteIndex=e.seatIndex},setHandleInfo:function(e){e.chooseDict&&(this._dict_goldValueMatch=e.chooseDict),e.roomName&&(this.node_roomName.getComponent(cc.Label).string=e.roomName)},bindSeatMyself:function(e){this._seatMyselfComp=e},bindMyDealer:function(e){this._dealerMyselfComp=e},setDefaultChoose:function(){this._chooseChip||(this._chooseChip=1)},chooseChip:function(e){this._chooseChip=e},_setHeadImg:function(e){this._defaultHeadFrame||(this._defaultHeadFrame=this.node_headImg.getComponent(cc.Sprite).spriteFrame),e?G_Config_common.isLocal?(this._headUrl="Heads/head01",cc.loader.loadRes(this._headUrl,cc.SpriteFrame,function(e,t){this.node_headImg.getComponent(cc.Sprite).spriteFrame=t}.bind(this))):(this._headUrl=G_DATA.getResNetRoot(e),cc.loader.load(this._headUrl,function(e,t){if(e);else if(t){var i=new cc.SpriteFrame(t);this.node_headImg.getComponent(cc.Sprite).spriteFrame=i}}.bind(this))):this.node_headImg.getComponent(cc.Sprite).spriteFrame=this._defaultHeadFrame},_setPlayerName:function(e){e||(e=""),e=G_TOOL.getNameLimit(e,10,!0),this.node_playerName.getComponent(cc.Label).string=e},setGoldValue:function(e){e||(e=0),this._goldValue=e;var t=this.node_ownerGold.children[0].getComponent(cc.Label);t.string=G_TOOL.changeMoney(e),this._seatMyselfComp&&this._seatMyselfComp.setGoldValue(e)},setIsHandle:function(e){this._isHandle=e},hidePlayer:function(){this.node.active=!1},setChooseGoldValue:function(e){this._dict_goldValueMatch=e},getFlyGoldNum:function(){return this._dict_goldMatch[this._chooseChip]},getChooseChip:function(){return this._chooseChip},getChooseGoldValue:function(){return this._dict_goldValueMatch[this._chooseChip-1]},getMoneyChooseDict:function(){return this._dict_goldValueMatch},getWorldPos:function(){return this.node.position},getBetRecord:function(){return this._dict_betRecord},getIsShow:function(){return this.node.active},getSeatIndex:function(){return this._siteIndex},getGoldValue:function(){return this._goldValue},getIsBetting:function(){return Boolean(this._bettingGoldValue)},getIsDealer:function(){return this._isDealer},getPlayerID:function(){return this._playerID},getHasBettingGold:function(){return this._bettingGoldValue},clearBettingGold:function(){this._bettingGoldValue=0,this._goldValueEX=0},showGoldChange:function(e){this._showGoldCount(e)},_showGoldCount:function(e){if(e){var t=cc.instantiate(this.prefab_goldResultEffect);t.parent=this.node,t.zIndex=2,t.getComponent(this._goldResultCompName).showGrabGold(e),t.scale=.1;var i,n;n=.3*this.node.width,this._isHandle?i=this.node.scale:(i=this.node.parent.scale,this.node.parent.x>cc.visibleRect.width/2&&(n*=-1));var o=this._goldResultFlyTime,s=cc.moveTo(o,n,.75*this.node.height),a=cc.scaleTo(o,1),r=cc.fadeOut(2*o);t.runAction(cc.sequence(cc.spawn(s,a),r,cc.callFunc(this._labelMoveEnd,this,e)))}},_labelMoveEnd:function(e,t){e.destroy()},reduceGoldEX:function(e){if(this._goldValueEX>=e)return this._goldValueEX-=e,0;var t=e-this._goldValueEX;return this._goldValueEX=0,t},touchTable:function(e,t){if(this._touchTableCallFunc=t,e.startPos=this.getWorldPos(),e.goldNum=this.getFlyGoldNum(),!this._isHandle||G_Config_common.isLocal){var i=e.goldValue;return e.goldNum=G_Config_grab.num_otherGrabGoldNum,this._data_betting=e,void this._setTouchTableData(i,this.getGoldValue()-i)}if(!this._isSending){e.goldValue=this.getChooseGoldValue(),this._data_betting=e;var n={matchId:GG.bull100Mgr.getMatchID(),type:G_TYPE.net_gameModule.bull100,item:GG.bull100Mgr.getItemByTableIndex(e.tableIndex),gold:e.goldValue};this._isSending=!0,GG.socketMgr.SendMsg(NetType.s_doGrab,n),GG.socketMgr.registerLong(NetType.r_doGrab_return,this.net_grabReturn.bind(this))}},net_grabReturn:function(e){this._isSending=!1;var t=e.tip;if(t.code!=G_TYPE.serverCodeType.success){var i={tipIndex:19,retainTime:3,showStr:t.tip};return void GG.tipsMgr.showTxtTip(i)}if(t.code==G_TYPE.serverCodeType.matchNonExistent)return void GG.tipsMgr.showConfirmTip_ONE(t.tip,function(){var e={roomId:GG.bull100Mgr.getHomeID(),isBreak:!0};GG.socketMgr.SendMsg(NetType.s_grab_Exit,e)});var n=e.bet.gold,o=e.nbSelf.balance;this._setTouchTableData(n,o)},_setTouchTableData:function(e,t){if(this._data_betting){var i=G_OBJ.data_bullBetting();for(var n in this._data_betting)n&&(i[n]=this._data_betting[n]);this._data_betting=null,i.goldValue=e,this._bettingGoldValue+=i.goldValue,this._goldValueEX+=i.goldValue,this.setGoldValue(t),this._touchTableSuccess(i.tableIndex,i.goldNum),GG.bull100Mgr.getBtnsComp().changeBet(t),this._bettingTimes+=1,this._touchTableCallFunc&&(this._touchTableCallFunc(i),this._touchTableCallFunc=null)}},_touchTableSuccess:function(e,t){this._dict_betRecord||(this._dict_betRecord={}),this._dict_betRecord[e]?this._dict_betRecord[e]+=t:this._dict_betRecord[e]=t}}),cc._RFpop()},{}],Bull100_playerContainer:[function(e,t,i){"use strict";cc._RFpush(t,"6c7ea/tmxtDvIFMLUdtx57X","Bull100_playerContainer"),cc.Class({"extends":e("AutoDealing"),properties:{_dict_playerComp:null,_playerNum:null,node_playerContainer:{"default":null,type:cc.Node,displayName:"所有玩家容器"},node_btnGrabDealer:{"default":null,type:cc.Node,displayName:"抢庄按钮"},node_myself:{"default":null,type:cc.Node,displayName:"玩家自己"},node_dealer:{"default":null,type:cc.Node,displayName:"庄家"},prefab_player:{"default":null,type:cc.Prefab,displayName:"座位上的玩家"},comp_seatsContainer:{"default":null,type:e("Obj_seatsContainer"),displayName:"座位容器"}},onLoad:function(){this._dict_playerComp={},this._playerNum=0,this._playerCompName="Bull100_playerBlock",this._delaerWordCompName="Obj_dealerWordEffect",this.registerButton(this.node_btnGrabDealer,this.OnClick_grabDealer,this),this._pokerOffX=.4,this.getMyselfComp().setIsHandle(!0)},OnClick_grabDealer:function(e){GG.bull100Mgr.send_getDealerList()},setStartInfo:function(e,t,i){for(var n,o,s,a,r={},l=GG.getPlayer().getPlayerID(),c=e.length,_=0;_<c;_++)o=e[_],n=o.seatIndex,s=o.player,s.seatIndex=n,r[n]=s;for(var n in r){if(s=r[n],s&&s.playerId==l)for(var h in s)"seatIndex"==h&&0==s[h]||(t[h]=s[h]);n<1||(a=this._addOnePlayer(n),a&&(a.setPlayerData(s),s&&s.playerId==l&&this.getMyselfComp().bindSeatMyself(a)))}for(var u=this.comp_seatsContainer.getSeatsNum(),_=0;_<u;_++)n=_+1,r[n]||this._removeOnePlayer(n);if(t.isDealer=Boolean(l==i.playerId),t.isDealer){for(var h in i)t[h]=i[h];this.setUpDealerBtnEnable(!1)}else if(this.setUpDealerBtnEnable(!0),!GG.bull100Mgr.checkMyselfInfo(e))return;t.playerId&&this.setOwnerInfo(t),this.setDealerInfo(i)},setOwnerInfo:function(e){this.getMyselfComp().setPlayerData(e),this.getMyselfComp().setHandleInfo(e)},setDealerInfo:function(e){e.coin=e.usableBalance,this.getDealerComp().setPlayerData(e)},onePlayerInsert:function(e,t){var i=/^\+?[1-9][0-9]*$/;if(i.test(e)){t.seatIndex=e,this._hidePlayer(e,t.playerId);var n=this._addOnePlayer(e);n&&n.setPlayerData(t)}},_hidePlayer:function(e,t){var i;for(var n in this._dict_playerComp)i=this._dict_playerComp[n],n==e||i&&i.getPlayerID()==t&&this._removeOnePlayer(n)},_addOnePlayer:function(e){var t=this._dict_playerComp[e];if(!t){var i=cc.instantiate(this.prefab_player),n=G_TOOL.adaptSize(i.width,i.height);i.width=n.width,i.height=n.height,i.parent=this.node_playerContainer,i.position=this.comp_seatsContainer.addOnePlayer(e),t=i.getComponent(this._playerCompName),this._dict_playerComp[e]=t}return this._playerNum+=1,t},_removeOnePlayer:function(e){var t=this._dict_playerComp[e];t&&t.getIsShow()&&(t.hidePlayer(),this.comp_seatsContainer.onePlayerLeave(e),this._playerNum-=1)},showGoldChangeEffect:function(){var e;for(var t in this._dict_playerComp)e=this._dict_playerComp[t],e&&e.showGoldChange();this.getMyselfComp().showGoldChange()},flyWinGold:function(e){var t,i=this.getMyselfComp();if(t=i.getBetRecord()){var n,o={};for(var s in e)n=e[s],n&&t[s]&&(o[s]=t[s]);GG.bull100Mgr.goldRecover(o,i.getWorldPos())}},setMyselfIsShow:function(e){this.node_myself.active=e},setUpDealerBtnEnable:function(e){this.setBtnEnable(this.node_btnGrabDealer,e)},getDealerPokerPos:function(){var e=this.node_dealer.position;return cc.p(e.x-.5*this.node_dealer.width*this.node_dealer.scale*this._pokerOffX,e.y-.5*this.node_dealer.height*this.node_dealer.scale)},getMyselfComp:function(){return this.node_myself.getComponent(this._playerCompName)},getMyselfEffectComp:function(){var e,t=this.getMyselfComp(),i=t.node.getChildByName("bankerMark");return i&&(e=i.getComponent(this._delaerWordCompName)),e},getMyselfPos:function(){return this.node_myself.position},getDealerComp:function(){return this.node_dealer.getComponent(this._playerCompName)},getDealerWordEffectComp:function(){var e,t=this.getDealerComp(),i=t.node.getChildByName("bankerMark");return i&&(e=i.getComponent(this._delaerWordCompName)),e},getPlayerComp:function(e){return this._dict_playerComp[e]},clearAll:function(){for(var e in this._dict_playerComp)this._removeOnePlayer(e)}}),cc._RFpop()},{AutoDealing:"AutoDealing",Obj_seatsContainer:"Obj_seatsContainer"}],Bull100_pokerContainer:[function(e,t,i){"use strict";cc._RFpush(t,"36070K0trNCHKLbIVOexRNn","Bull100_pokerContainer"),cc.Class({"extends":cc.Component,properties:{_pool:null,_startPos:null,_pokerNum:null,_dict_pokerGroup:null,_pokerSize:null,_coverPokerCallFunc:null,_dict_winList:null,_list_pokerResultValue:null,_list_pokerPos:null,_maxPokerNum:null,_list_hidePokers:null,prefab_poker:cc.Prefab},onLoad:function(){this._pokerCompName="Obj_poker",this._list_hidePokers=[],this._pokerNum=0,this._offPokerX=20,this._offGiveTime=.08,this._offGroupTime=.3,this._pokerMoveTime=.3,this._groupPokerNum=5,this._pokerMoveTime2=.2,this._pokerScale=.5,this._openInterval=.6},giveCoverPokers:function(e,t,i){this._coverPokerCallFunc=t,this._maxPokerNum=e.length*this._groupPokerNum,this._clearPokers(),this._pokerData=null,e&&(this._list_pokerPos=e,this._pokerData=this._list_pokerPos.concat([])),i?this._showPokerGroup():this._givePokerGroup()},_showPokerGroup:function(){for(var e,t,i,n=this._pokerData.length,o=n-1;o>=0;o--){e=this._pokerData[o];for(var s=0;s<this._groupPokerNum;s++)t=this._getOnePoker(),t&&(i=this._pokerNum%this._groupPokerNum,t.position=cc.p(e.x+this._offPokerX*i,e.y-this._pokerSize.height*this._pokerScale*.5),t.position=G_TOOL.adaptPos(t.position),this._dict_pokerGroup[this._getGroupNum()]||(this._dict_pokerGroup[this._getGroupNum()]=[]),this._dict_pokerGroup[this._getGroupNum()].push(t),this._pokerNum+=1)}this._coverPokerCallFunc&&(this._coverPokerCallFunc(),this._coverPokerCallFunc=null)},_givePokerGroup:function(){if(!this._pokerData||this._pokerData.length<1)return void(this._coverPokerCallFunc&&(this._coverPokerCallFunc(),this._coverPokerCallFunc=null));this._flyNum=5,this._dict_pokerGroup[this._getGroupNum()]=[];for(var e=this._pokerData.pop(),t=0;t<this._groupPokerNum;t++)this._flyOnePoker(G_TOOL.adaptPos(e));GG.audioMgr.playSound(14)},_flyOnePoker:function(e){var t=this._getOnePoker();if(e&&t){var i=this._pokerNum%this._groupPokerNum,n=cc.delayTime(this._offGiveTime*i),o=cc.moveTo(this._pokerMoveTime,cc.p(e.x,e.y-this._pokerOffY));t.stopAllActions(),t.runAction(cc.sequence(n,o,cc.callFunc(this._onePokerFlyEnd,this))),this._dict_pokerGroup[this._getGroupNum()].push(t),this._pokerNum+=1}},_onePokerFlyEnd:function(e){if(this._flyNum-=1,this._flyNum<1){this._sortPokerOff();var t=cc.delayTime(this._offGroupTime);this.node.runAction(cc.sequence(t,cc.callFunc(this._givePokerGroup,this)))}},_sortPokerOff:function(){for(var e,t=this._dict_pokerGroup[this._getGroupNum()-1],i=t.length,n=0;n<i;n++)e=t[n],e&&(e.stopAllActions(),e.runAction(cc.moveBy(this._pokerMoveTime2,this._offPokerX*n,0)))},setPokersData:function(e,t){this._list_pokerResultValue=t;for(var i,n,o,s=this._getGroupNum(),a=0;a<s;a++)if(i=e[a],o=this._dict_pokerGroup[a],i)for(var r=0;r<i.length;r++)n=i[r],this._setOnePokerInfo(o[r],n.pokerIndex,n.isOpen)},_setOnePokerInfo:function(e,t,i){var n=G_DATA.getPokerInfo(t),o=e.getComponent(this._pokerCompName);o.setPokerInfo(n.pokerType,n.pokerValue,i)},openPokers:function(e){this._dict_winList=e,this._openGroupIndex=0,this._openOneGroup()},_openOneGroup:function(){if(!(this._pokerNum<1)){var e=this._dict_pokerGroup[this._openGroupIndex];if(e){for(var t,i=this._openCallBack.bind(this),n=0;n<e.length;n++)t=e[n].getComponent(this._pokerCompName),t.openPoker(i),i=null;this._openGroupIndex+=1,GG.audioMgr.playSound(16)}}},_openCallBack:function(){if(this._openGroupIndex>1&&this._dict_winList){var e=this._openGroupIndex-2,t=GG.bull100Mgr.getMinTableIndex(e),i=GG.bull100Mgr.getBigTableIndex(e),n=this._dict_winList[i]?i:t;GG.bull100Mgr.showTableWin(n,this._dict_winList[n])}var o=this._list_pokerResultValue[this._openGroupIndex-1],s=this._list_pokerPos[this._list_pokerPos.length-this._openGroupIndex];GG.bull100Mgr.showPokerResult(cc.p(s.x+.5*this._pokerSize.width*.5,s.y-.5*+this._pokerSize.height*.5),o);var a=0==o?11:o;GG.audioMgr.playSound(a),this._openOneGroup()},_getOnePoker:function(){if(!this.prefab_poker)return null;var e=this._list_hidePokers.pop();return e||(e=cc.instantiate(this.prefab_poker),this._pokerSize||(this._pokerSize=e.getComponent(this._pokerCompName).getPokerSize(),this._pokerOffY=this._pokerSize.height*this._pokerScale*.5),e.parent=this.node,e.scale=this._pokerScale),e.stopAllActions(),e.active=!0,e.position=this._getStartPos(),e.getComponent(this._pokerCompName).showPokerNegative(),e},_removePoker:function(e){e.getComponent(this._pokerCompName).clearAllActions(),e.getComponent(this._pokerCompName).showPokerNegative(),e.active=!1,this._list_hidePokers.push(e)},_deletePokers:function(){},_clearPokers:function(){this._pokerNum=0,this._dict_pokerGroup={};var e=this.node.children;this._list_hidePokers=[];for(var t,i=e.length,n=i-1;n>=0;n--)t=e[n].getComponent(this._pokerCompName),t&&this._removePoker(e[n])},_getStartPos:function(){return this._startPos||(this._startPos=G_DATA.getBottomTipPos()),this._startPos},_getGroupNum:function(){return Math.floor(this._pokerNum/this._groupPokerNum)},getIsGivePokerEnd:function(){return!Boolean(this._coverPokerCallFunc)},clearAll:function(){this._clearPokers(),this._dict_winList=null,this.node.stopAllActions()},onDestroy:function(){this._deletePokers(),this._pool&&this._pool.clear()}}),cc._RFpop()},{}],Bull100_pokerResultContainer:[function(e,t,i){"use strict";cc._RFpush(t,"4c19f4ThPlPK6/llGibgPGc","Bull100_pokerResultContainer"),cc.Class({"extends":cc.Component,properties:{prefab_pokerResult:{"default":null,type:cc.Prefab,displayName:"卡牌结果"}},onLoad:function(){this._pokerResultCompName="Obj_onPokerResult"},showPokerResult:function(e,t){this._list_pokerResult||(this._list_pokerResult=[]);for(var i,n,o,s=0;s<this._list_pokerResult.length;s++)if(i=this._list_pokerResult[s],i&&!i.getIsShow()){o=i;break}o||(n=cc.instantiate(this.prefab_pokerResult),n.parent=this.node,o=n.getComponent(this._pokerResultCompName),this._list_pokerResult.push(o)),o.showResult(e,t,!0)},_clearPokerResult:function(){if(this._list_pokerResult)for(var e=0;e<this._list_pokerResult.length;e++)this._list_pokerResult[e].hideOnPokerResult()},clearAll:function(){this._clearPokerResult()}}),cc._RFpop()},{}],Bull100_showResult:[function(e,t,i){"use strict";cc._RFpush(t,"420eb+YEfVKo5P4BV/wWN52","Bull100_showResult"),cc.Class({"extends":cc.Component,properties:{_list_rankHead:null,_winColor:null,_loseColor:null,node_myWinGold:{"default":null,type:cc.Node,displayName:"自己赢的钱"},prefab_head:{"default":null,type:cc.Prefab,displayName:"头像"},node_container:{"default":null,type:cc.Node,displayName:"头像容器"}},onLoad:function(){this._headCompName="Obj_winRankHead",this._loseColor=new cc.Color(199,199,199)},showResult:function(e){this.node.active=!0;var t=e.myChangeGold;t||(t=0),this._setGoldValue(t);var i=[{name:"人1",addGold:99}],n=e.othersInfo;if(n){i=[];var o;for(var s in n){o=n[s];var a=o.changeGold;a>0&&i.push({name:o.name,addGold:a,icon:o.icon})}}this._showRank(i)},_showRank:function(e){for(var t,i,n=this.node_container.children,o=(n.length,0);o<n.length;o++)t=n[o].getComponent(this._headCompName),t&&(i=e[o],i?(t.setIsShow(!0),t.setData(i)):t.setIsShow(!1))},_setGoldValue:function(e){var t=Boolean(e>0);this._setMyGoldColor(t);var i;i=t?"+"+e:e+"",this.node_myWinGold.getComponent(cc.Label).string=i},_setIsShow:function(e){this.node.active=e},_setMyGoldColor:function(e){e?this._winColor&&(this.node_myWinGold.color=this._winColor,this._winColor=null):(this._winColor||(this._winColor=this.node_myWinGold.color),this.node_myWinGold.color=this._loseColor)}}),cc._RFpop()},{}],Bull100_tableContainer:[function(e,t,i){"use strict";cc._RFpush(t,"29ed5kqelRJQ6wjhrsG5Xlr","Bull100_tableContainer"),cc.Class({"extends":cc.Component,properties:{prefab_table:cc.Prefab},onLoad:function(){this._tableCompName="Bull100_table"},_addTables:function(){for(var e=4,t=0;t<e;t++){var i=cc.instantiate(this.prefab_table);i&&(i.parent=this.node)}},initAllTables:function(){for(var e,t,i=this.node.children,n=0;n<i.length;n++)e=i[n],t=e.getComponent(this._tableCompName),t&&t.initTable(n)},getTablePokerPos:function(){for(var e,t,i=this.node.children,n=[],o=i.length-1;o>=0;o--)e=i[o],t=e.getComponent(this._tableCompName),t&&n.push(t.getPokerPos());return n},setTableTouchEnable:function(e){for(var t,i,n=this.node.children,o=0;o<n.length;o++)t=n[o],i=t.getComponent(this._tableCompName),i&&i.setTouchEnable(e)},showTableWin:function(e,t){var i=this.node.children,n=GG.bull100Mgr.getTableContainerIndex(e),o=i[n];if(o){var s=o.getComponent(this._tableCompName);s&&s.showWin(e,t)}},getGoldPosList:function(e,t){var i=this.node.children,n=GG.bull100Mgr.getTableContainerIndex(e),o=i[n];return o?o.getComponent(this._tableCompName).getGoldPosList(e,t):null},setBettingSuccess:function(e,t,i){var n=this.node.children,o=GG.bull100Mgr.getTableContainerIndex(e),s=n[o];s&&(i?s.getComponent(this._tableCompName).setMyselfBettingSuccess(e,t):s.getComponent(this._tableCompName).setBettingSuccess(e,t))}}),cc._RFpop()},{}],Bull100_table:[function(e,t,i){"use strict";cc._RFpush(t,"67349AfexdLn4EN0FD/POqC","Bull100_table"),cc.Class({"extends":cc.Component,properties:{_typeValue:null,_pool:null,_bigTableIndex:null,_minTableIndex:null,_bigCenterPos:null,_minCenterPos:null,_winTableType:null,_bigGoldNum:null,_minGoldNum:null,_bigMyGoldNum:null,_minMyGoldNum:null,node_big:cc.Node,node_min:cc.Node,frame_bigLight:cc.SpriteFrame,frame_minLight:cc.SpriteFrame,node_bigUpLabel:{"default":null,type:cc.Node,displayName:"押大总额节点"},node_bigDownLabel:{"default":null,type:cc.Node,displayName:"自己押大节点"},node_minUpLabel:{"default":null,type:cc.Node,displayName:"押小总额节点"},node_minDownLabel:{"default":null,type:cc.Node,displayName:"自己押小节点"},node_winFrame:{"default":null,type:cc.Node,displayName:"胜利特效框"},label_leftUp:{"default":null,type:cc.Label,displayName:"所有玩家押大金币总额"},label_rightUp:{"default":null,type:cc.Label,displayName:"所有玩家押小金币总额"}},onLoad:function(){this._scrollCompName="Obj_scrollValue",this._pokerOffX=.4,this._winColor=this.node_bigDownLabel.children[1].color,this._lostColor=new cc.Color(189,188,188)},initTable:function(e){this._setTableIndex(e),this._setBigMultiple(0),this._setMinMultiple(0),this._setBigDownGold(0),this._setBigUpGold(0),this._setMinDownGold(0),this._setMinUpGold(0),this.resetWinShow()},onClick_big:function(){var e=GG.bull100Mgr,t=e.getMyselfFlyGoldNum();e.touchTable(this._bigTableIndex,this._getBigGoldPos(t))},onClick_min:function(){var e=(GG.bull100Mgr,GG.bull100Mgr.getMyselfFlyGoldNum());GG.bull100Mgr.touchTable(this._minTableIndex,this._getMinGoldPos(e))},setBettingSuccess:function(e,t){e%2==0?(this._bigGoldNum+=t,this._setBigUpGold(this._bigGoldNum)):(this._minGoldNum+=t,this._setMinUpGold(this._minGoldNum))},setMyselfBettingSuccess:function(e,t){e%2==0?(this._bigMyGoldNum+=t,this._setBigDownGold(this._bigMyGoldNum)):(this._minMyGoldNum+=t,this._setMinDownGold(this._minMyGoldNum)),this.setBettingSuccess(e,t)},showWin:function(e,t){var i=null,n=null;if(t||(t=1),this._firstBigImg||(this._firstBigImg=this.node_big.getComponent(cc.Sprite).spriteFrame),this._firstMinImg||(this._firstMinImg=this.node_min.getComponent(cc.Sprite).spriteFrame),this.node_winFrame.active=!0,this.node_winFrame.width=1.15*this.node_big.parent.width,e%2==0?(this._winTableType=G_TYPE.tableType.big,this.node_big.getComponent(cc.Sprite).spriteFrame=this.frame_bigLight,this.node_winFrame.x=this.node_big.parent.x,this._bigMyGoldNum>0&&(this._setBigMultiple(t),i=this.node_bigDownLabel.children[1].getComponent(cc.Label),n=this._bigMyGoldNum),this._minMyGoldNum>0&&(this._setMinMultiple(t),this._setMinDownGold(this._minMyGoldNum*t),this.node_minDownLabel.children[0].color=this._lostColor,this.node_minDownLabel.children[1].color=this._lostColor)):(this._winTableType=G_TYPE.tableType.min,this.node_min.getComponent(cc.Sprite).spriteFrame=this.frame_minLight,this.node_winFrame.x=this.node_min.parent.x,this._minMyGoldNum>0&&(this._setMinMultiple(t),i=this.node_minDownLabel.children[1].getComponent(cc.Label),n=this._minMyGoldNum),this._bigMyGoldNum>0&&(this._setBigMultiple(t),this._setBigDownGold(this._bigMyGoldNum*t),this.node_bigDownLabel.children[0].color=this._lostColor,this.node_bigDownLabel.children[1].color=this._lostColor)),i){var o={startNum:0,targetNum:n*t,label:i,formatStr:"",callFunc:this._scrollCall.bind(this)};this.node.getComponent(this._scrollCompName).scrollLabel(o)}},_scrollCall:function(){},resetWinShow:function(){switch(this.node_winFrame.active=!1,this._winTableType){case G_TYPE.tableType.big:this.node_big.getComponent(cc.Sprite).spriteFrame=this._firstBigImg,this.node_minDownLabel.children[0].color=this._winColor,this.node_minDownLabel.children[1].color=this._winColor;break;case G_TYPE.tableType.min:this.node_min.getComponent(cc.Sprite).spriteFrame=this._firstMinImg,this.node_bigDownLabel.children[0].color=this._winColor,this.node_bigDownLabel.children[1].color=this._winColor}},setTouchEnable:function(e){var t=this.node_big.parent,i=this.node_min.parent;e?(t.on(cc.Node.EventType.TOUCH_START,this.onClick_big,this),i.on(cc.Node.EventType.TOUCH_START,this.onClick_min,this)):(t.off(cc.Node.EventType.TOUCH_START,this.onClick_big,this),i.off(cc.Node.EventType.TOUCH_START,this.onClick_min,this))},getGoldPosList:function(e,t){var i;return i=e%2==0?this._getBigGoldPos(t):this._getMinGoldPos(t)},_getBigGoldPos:function(e){e||(e=1);for(var t,i=[],n=0;n<e;n++)t=this._initGoldPos(),t.x+=this._bigCenterPos.x,t.y+=this._bigCenterPos.y,i.push(t);return i},_getMinGoldPos:function(e){e||(e=1);for(var t,i=[],n=0;n<e;n++)t=this._initGoldPos(),t.x+=this._minCenterPos.x,t.y+=this._minCenterPos.y,i.push(t);return i},_initGoldPos:function(){var e=this.node.parent.scale,t=this.node_big.parent;if(!this._bigCenterPos){var i=this.node.parent.position,n=this.node_min.parent;this._bigCenterPos=cc.p(i.x+(this.node.x+t.x)*e,i.y+(this.node.y+t.y)*e),this._minCenterPos=cc.p(i.x+(this.node.x+n.x)*e,i.y+(this.node.y+n.y)*e),this._goldHeight=(.5*t.height-this.node_bigDownLabel.height)*e}var o,s=.5*this._getGoldSize().width*.5,a=.5*t.width*e-s,r=G_TOOL.getRandomArea(0,a);o=G_TOOL.getRandomBool()?1:-1,r*=o;var l=this._goldHeight-s,c=G_TOOL.getRandomArea(0,l);return o=G_TOOL.getRandomBool()?1:-1,c*=o,cc.p(r,c)},_setBigUpGold:function(e){if(e){this.node_bigUpLabel.active=!0;var t=this.label_leftUp;t&&(t.string=G_TOOL.changeMoney(e))}else this._bigGoldNum=0,this.node_bigUpLabel.active=!1,this.label_leftUp.string=""},_setMinUpGold:function(e){if(e){this.node_minUpLabel.active=!0;var t=this.label_rightUp;t&&(t.string=G_TOOL.changeMoney(e))}else this._minGoldNum=0,this.node_minUpLabel.active=!1,this.label_rightUp.string=""},_setBigDownGold:function(e){if(e){this.node_bigDownLabel.active=!0;var t=this.node_bigDownLabel.children[1];t&&(t.getComponent(cc.Label).string=G_TOOL.changeMoney(e))}else this._bigMyGoldNum=0,this.node_bigDownLabel.active=!1},_setBigMultiple:function(e){var t=this.node_bigDownLabel.children[0];if(t){var i="",n=this.node_bigDownLabel.children[1];e?(i="X"+e,this._changeDownLabel(n,!0)):this._changeDownLabel(n,!1),t.getComponent(cc.Label).string=i}},_setMinDownGold:function(e){if(e){this.node_minDownLabel.active=!0;var t=this.node_minDownLabel.children[1];t&&(t.getComponent(cc.Label).string=G_TOOL.changeMoney(e))}else this._minMyGoldNum=0,this.node_minDownLabel.active=!1},_setMinMultiple:function(e){var t=this.node_minDownLabel.children[0];if(t){var i="",n=this.node_minDownLabel.children[1];e?(i="X"+e,this._changeDownLabel(n,!0)):this._changeDownLabel(n,!1),t.getComponent(cc.Label).string=i}},_changeDownLabel:function(e,t){t?(e.anchorX=1,e.x=.43*e.parent.width):(e.anchorX=.5,e.x=0)},_setTableIndex:function(e){this._bigTableIndex=GG.bull100Mgr.getBigTableIndex(e),this._minTableIndex=GG.bull100Mgr.getMinTableIndex(e)},getPokerPos:function(){var e=this.node.parent.position,t=this.node.parent.scale,i=e.x+this.node.x*t-.5*this.node.width*t*this._pokerOffX,n=e.y+this.node.y*t-.5*this.node.height*t;
return cc.p(i,n)},_getParentPos:function(){var e=this.node.parent.position,t=this.node.parent.scale;return cc.p(e.x*t,e.y*t)},_getGoldSize:function(){return this._goldSize||(this._goldSize=GG.bull100Mgr.getGoldImgSize()),this._goldSize}}),cc._RFpop()},{}],Bull100_topEffect:[function(e,t,i){"use strict";cc._RFpush(t,"6fe37k7FJBF1p4TXNOChhYN","Bull100_topEffect"),cc.Class({"extends":cc.Component,properties:{_bettingCallFunc:null,_startCallFunc:null,_resultData:null,prefab_start:{"default":null,type:cc.Prefab,displayName:"开始游戏动画"},prefab_betting:{"default":null,type:cc.Prefab,displayName:"开始投注动画"},prefab_win:{"default":null,type:cc.Prefab,displayName:"胜利动画"},prefab_lose:{"default":null,type:cc.Prefab,displayName:"失败动画"},prefab_showResult:{"default":null,type:cc.Prefab,displayName:"结果显示容器"},node_grayLayer:{"default":null,type:cc.Node,displayName:"灰色层"}},onLoad:function(){this._winAniName="platform_win",this._loseAniName="platform_lose",this._resultCompName="Bull100_showResult",this._pokerResultCompName="Obj_onPokerResult"},playStartGameAni:function(e){this.playStartAni("bull_start",e),GG.audioMgr.playSound(13)},playStartAni:function(e,t){if(e||(e=""),this._startCallFunc=t,!this._startAni){this._startAni=cc.instantiate(this.prefab_start),this._startAni.parent=this.node;var i=this._startAni.getComponent(dragonBones.ArmatureDisplay);i.addEventListener(dragonBones.EventObject.COMPLETE,this._startAniEnd,this)}this._startAni.position=cc.visibleRect.center,this._startAni.active=!0,this._startAni.getComponent(dragonBones.ArmatureDisplay).playAnimation(e,1)},_startAniEnd:function(e){this._startAni&&(this._startAni.active=!1),this._startCallFunc&&(this._startCallFunc(),this._startCallFunc=null)},_frameEvent:function(e){GG.bull100Mgr.shakeGame()},clearStartAni:function(){this._startAni&&(this._startAni.active=!1),this._startCallFunc=null},playStartBettingAni:function(e){this.playBettingAni("platform_bet",e)},playBettingEnd:function(e){this.playBettingAni("platform_betOver",e)},playBettingAni:function(e,t){if(e||(e=""),this._bettingCallFunc=t,!this._bettingAni){this._bettingAni=cc.instantiate(this.prefab_betting),this._bettingAni.parent=this.node;var i=this._bettingAni.getComponent(dragonBones.ArmatureDisplay);i.addEventListener(dragonBones.EventObject.COMPLETE,this._bettingAniEnd,this)}var n=G_DATA.getTopTipPos();this._bettingAni.position=cc.p(n.x,n.y-150),this._bettingAni.active=!0,this._bettingAni.getComponent(dragonBones.ArmatureDisplay).playAnimation(e,1)},_bettingAniEnd:function(e){this._bettingAni&&(this._bettingAni.active=!1),this._bettingCallFunc&&(this._bettingCallFunc(),this._bettingCallFunc=null)},clearBettingAni:function(){this._bettingAni&&(this._bettingAni.active=!1),this._bettingCallFunc=null},showResultEffect:function(e,t){isNaN(e.myChangeGold)?t&&(t(),t=null):(this.setGrayIsShow(!0),e.myChangeGold>0?this._playWin(e,t):this._playLose(e,t))},_playWin:function(e,t){if(this._resultData=e,this._winCallFunc=t,!this._winAni){this._winAni=cc.instantiate(this.prefab_win),this._winAni.parent=this.node;var i=this._winAni.getComponent(dragonBones.ArmatureDisplay);i.addEventListener(dragonBones.EventObject.COMPLETE,this._winEnd,this)}var n=cc.visibleRect.center;this._winAni.position=cc.p(n.x,1.45*n.y),this._winAni.active=!0,this._winAni.getComponent(dragonBones.ArmatureDisplay).playAnimation(this._winAniName,1),GG.audioMgr.playSound(22)},_winEnd:function(){this._getResultComp().showResult(this._resultData),this._winAni.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this._winAni.active=!1,this._getResultComp()._setIsShow(!1),this.setGrayIsShow(!1),this._winCallFunc&&(this._winCallFunc(),this._winCallFunc=null)},this)))},_clearWin:function(){this._winAni&&(this._getResultComp()._setIsShow(!1),this._winAni.stopAllActions(),this._winAni.active=!1,this._winCallFunc=null)},_playLose:function(e,t){if(this._resultData=e,this._loseCallFunc=t,!this._loseAni){this._loseAni=cc.instantiate(this.prefab_lose),this._loseAni.parent=this.node;var i=this._loseAni.getComponent(dragonBones.ArmatureDisplay);i.addEventListener(dragonBones.EventObject.COMPLETE,this._loseEnd,this)}var n=cc.visibleRect.center;this._loseAni.position=cc.p(n.x,1.45*n.y),this._loseAni.active=!0,this._loseAni.getComponent(dragonBones.ArmatureDisplay).playAnimation(this._loseAniName,1),GG.audioMgr.playSound(21)},_loseEnd:function(){this._getResultComp().showResult(this._resultData),this._loseAni.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this._loseAni.active=!1,this._getResultComp()._setIsShow(!1),this.setGrayIsShow(!1),this._loseCallFunc&&(this._loseCallFunc(),this._loseCallFunc=null)},this)))},_getResultComp:function(){if(!this._resultComp){var e=cc.instantiate(this.prefab_showResult);this.node.addChild(e,5),this._winAni&&(e.position=this._winAni.position),this._loseAni&&(e.position=this._loseAni.position),this._resultComp=e.getComponent(this._resultCompName)}return this._resultComp},_clearLose:function(){this._loseAni&&(this._getResultComp()._setIsShow(!1),this._loseAni.stopAllActions(),this._loseAni.active=!1,this._loseCallFunc=null)},setGrayIsShow:function(e){this.node_grayLayer&&(this.node_grayLayer.active=e)},getGrayLayer:function(){return this.node_grayLayer},clearAll:function(){this.clearBettingAni(),this.clearStartAni(),this._clearWin(),this._clearLose(),this.setGrayIsShow(!1)}}),cc._RFpop()},{}],Button_multiple:[function(e,t,i){"use strict";cc._RFpush(t,"8c63aYww1pKUbxfhi3c3Geu","Button_multiple"),cc.Class({"extends":cc.Component,_valueOffX:null,properties:{font_red:cc.Font,font_green:cc.Font,frame_disable:cc.SpriteFrame,_firstFrame:null,_lastValue:null},onLoad:function(){},showValue:function(e,t){if(this._initContainer()&&(t?this._showRed():this._showGreen(),this._isValidValue(e))){this.node_leftLabel&&(this.node_leftLabel.getComponent(cc.Label).string=e);var i=e.toString().split("").length;i>1?(this.node_leftLabel.scaleX=.8,this._container.x=this._valueOffX*(i-1)):(this.node_leftLabel.scaleX=1,this._container.x=0)}},showMoney:function(e,t){if(this._initContainer()&&(t?this._showRed():this._showGreen(),this._isValidValue(e))){var i,n=(e+"").length;for(var o in G_Config_common.dict_moneyUnit){i=o.toString().length;break}if(n>=i){var s=G_TOOL.changeMoney(e);n=(s+"").length,e=s.substring(0,n-1),this._rightLabel.string=s[n-1],n-=1}else n+=2,this._rightLabel.string="";this.node_leftLabel&&(this.node_leftLabel.getComponent(cc.Label).string=e),this.node_leftLabel.scaleX=.8,this._container.x=this._valueOffX*(n-1)}},_initContainer:function(){if(!this._container){if(this._container=this.node.getChildByName("container"),!this._container)return!1;this._firstFrame=this.getComponent(cc.Sprite).spriteFrame,this._valueOffX=G_Config_common.num_multipleValueOff,this.node_leftLabel=this._container.getChildByName("left"),this._rightLabel=this._container.getChildByName("right").getComponent(cc.Label)}return!0},_isValidValue:function(e){return!!e&&(e!=this._lastValue&&(this._lastValue=e,!0))},_showRed:function(){this.node_leftLabel.getComponent(cc.Label).font=this.font_red,this._rightLabel.font=this.font_red,this._showDisable(!0)},_showGreen:function(){this.node_leftLabel.getComponent(cc.Label).font=this.font_green,this._rightLabel.font=this.font_green,this._showDisable(!1)},_showDisable:function(e){e?this.getComponent(cc.Sprite).spriteFrame=this.frame_disable:this.getComponent(cc.Sprite).spriteFrame=this._firstFrame}}),cc._RFpop()},{}],Classic_Manager:[function(e,t,i){"use strict";cc._RFpush(t,"6126cVc/b9Ker4kVTuRmBTf","Classic_Manager"),cc.Class({"extends":cc.Component,_dict_playerComp:null,_list_onDeskPlayerComp:null,_curPlayerNum:null,_busyPlayerNum:null,_dealerComp:null,_flyCallBack:null,_myselfPlayerComp:null,_dealerLogMoveStep:null,_isInTurn:null,_callFunc_inTurn:null,_callFunc_inTurnEnd:null,_callFunc_flyGoldEnd:null,properties:{_gameState:null,_tip_inTurn:null,node_givePokerArea:{"default":null,type:cc.Node,displayName:"卡牌容器"},node_flyGoldArea:{"default":null,type:cc.Node,displayName:"金币容器"},node_controlGroup:{"default":null,type:cc.Node,displayName:"底部按钮容器"},node_topUI:cc.Node,node_pageResult:{"default":null,type:cc.Node,displayName:"结算显示界面"},node_player1:cc.Node,node_player2:cc.Node,node_player3:cc.Node,node_player4:cc.Node,node_player5:cc.Node},onLoad:function(){GG.classicMgr=this},_initAttributes:function(){if(!this._dict_playerComp){this._pokerAreaComp=this.node_givePokerArea.getComponent("Classic_pokerGiveArea"),this._goldAreaComp=this.node_flyGoldArea.getComponent("Classic_goldArea"),this._controlGroupComp=this.node_controlGroup.getComponent("Classic_controlButton"),this._topUIComp=this.node_topUI.getComponent("Classic_topUI"),this._playerCompName="Classic_playerBlock",this._pageResultCompName="Classic_page_result",this._dict_playerComp={};var e;e=this.node_player5.getComponent(this._playerCompName),this._dict_playerComp[e.getPlayerIndex()]=e,e.getIsMySelf()&&(this._myselfPlayerComp=e),e=this.node_player4.getComponent(this._playerCompName),this._dict_playerComp[e.getPlayerIndex()]=e,e.getIsMySelf()&&(this._myselfPlayerComp=e),e=this.node_player3.getComponent(this._playerCompName),this._dict_playerComp[e.getPlayerIndex()]=e,e.getIsMySelf()&&(this._myselfPlayerComp=e),e=this.node_player2.getComponent(this._playerCompName),this._dict_playerComp[e.getPlayerIndex()]=e,e.getIsMySelf()&&(this._myselfPlayerComp=e),e=this.node_player1.getComponent(this._playerCompName),this._dict_playerComp[e.getPlayerIndex()]=e,e.getIsMySelf()&&(this._myselfPlayerComp=e)}this._resetData()},_resetData:function(e){this._busyPlayerNum=0,this._isInTurn=!1,this._dealerComp=null,this._list_onDeskPlayerComp=[],this._curPlayerNum=0,this._setOnDeskPlayers(e)},_setOnDeskPlayers:function(e){e||(e=5);for(var t=1;t<=G_Config_classic.num_maxPlayer;t++){var i=this._dict_playerComp[t];t<=e?this._addOnePlayer(i):i.hideBlock()}},resetGame:function(){this._pokerAreaComp.onClear(),this._goldAreaComp.onClear(),this._topUIComp.onClear(),this._controlGroupComp.onClear()},hideAni:function(){this._topUIComp.hideAni()},showStartWait:function(){this._initAttributes(),this._controlGroupComp.setGroup1Enable(!1),this.setGameState(G_TYPE.classicState.wait);var e=G_DATA.getChinese(1);if(e){var t={showStr:e.content,retainTime:e.retainTime,callBack:this.startGame.bind(this)};GG.tipsMgr.showCountDownTip(t)}},startGame:function(){this.setGameState(G_TYPE.classicState.readyStart),this._topUIComp.playStartAni(this._onGivePoker.bind(this))},_onGivePoker:function(){this.setGameState(G_TYPE.classicState.givePoker),this._flyCallBack=this._onGivePokersEnd.bind(this),this._busyPlayerNum=this._curPlayerNum,this._pokerAreaComp.startGivePoker()},_onGivePokersEnd:function(){this.setGameState(G_TYPE.classicState.grabDealer);var e=G_DATA.getChinese(2);if(e){var t={showStr:e.content,retainTime:e.retainTime,callBack:this._beDealerTimeEnd.bind(this)};this._tip_inTurn=GG.tipsMgr.showCountDownTip(t),this._controlGroupComp.showGroup1()}},_beDealerTimeEnd:function(){this._tip_inTurn=null,this._controlGroupComp.setGroup1Enable(!1,!0),this._dealerComp?(this._dealerComp.confirmDealer(!0),this._startSetScore()):(this._dealerComp=this._list_onDeskPlayerComp[1],this._showGrabDealerEffect())},_startSetScore:function(){this.setGameState(G_TYPE.classicState.setScore);var e=3;this._myselfPlayerComp.getIsDealer()&&(e=4);var t=G_DATA.getChinese(e);if(t){var i={showStr:t.content,retainTime:t.retainTime,callBack:this._setScoreRateTimeEnd.bind(this)};this._tip_inTurn=GG.tipsMgr.showCountDownTip(i),this.allPlayerDone("grabDealer"),this._controlGroupComp.showGroup2(this._myselfPlayerComp.getIsDealer())}},_setScoreRateTimeEnd:function(){this._tip_inTurn=null,this._checkScore(),this._controlGroupComp.setGroup2Enable(!1,!0),this.setGameState(G_TYPE.classicState.givePoker),this._busyPlayerNum=this._curPlayerNum,this._flyCallBack=this._onLastPokerGive.bind(this),this._pokerAreaComp.giveOneMorePoker()},_onLastPokerGive:function(){this._myselfPlayerComp.showPokerCalculate(),this._myselfPlayerComp.setPokerTouchEnable(!0),this._controlGroupComp.setGroup3TouchEnable(!0),this.setGameState(G_TYPE.classicState.calculate),GG.tipsMgr.showProgressCountDown(9,this.calculateEnd.bind(this))},calculateEnd:function(){this.setGameState(G_TYPE.classicState.showResult),this._copy_players=this._list_onDeskPlayerComp.concat([]),this.inTurn(this._curPlayerNum,G_Config_classic.time_pokerResultInterval,!0,this._calculateEnd_callBack.bind(this),this._startFlyGold.bind(this))},_calculateEnd_callBack:function(){var e=this._copy_players[0];this._copy_players.splice(0,1),e&&e.endCalculate()},_startFlyGold:function(){var e=this._dict_playerComp[1],t=this._dict_playerComp[2],i=this._dict_playerComp[3],n=this._dict_playerComp[4],o=this._dict_playerComp[5];this._list_goldFly1=[],this._list_goldFly1.push([t,e]),this._list_goldFly1.push([i,e]),this._list_goldFly2=[],this._list_goldFly2.push([e,n]),this._list_goldFly2.push([e,o]),this._goldFly1()},_flyGoldEnd:function(){this.allPlayerDone("showGoldValueFly",9654122);var e=this;this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){e.node_pageResult.getComponent(this._pageResultCompName).showWin()},this)))},grabDealerMyself:function(e){this._myselfPlayerComp.grabDealer(e),e>0&&(this._dealerComp=this._myselfPlayerComp,this._tip_inTurn&&this._tip_inTurn.forceEnd(),this._beDealerTimeEnd())},setScoreMyself:function(e){if(this._myselfPlayerComp.showSetScore(e),this._gameState==G_TYPE.classicState.setScore){var t=G_DATA.getChinese(4);this._tip_inTurn&&this._tip_inTurn.forceChangeStr(t.content)}},clickConfirmResult:function(){this._myselfPlayerComp.confirmResult()},confirmResult:function(){if(this._controlGroupComp.setGroup3TouchEnable(!1),this._gameState==G_TYPE.classicState.calculate){var e=G_DATA.getChinese(6),t={showStr:e.content,retainTime:GG.tipsMgr.getProgressLeaveTime(),callBack:this.calculateEnd.bind(this)};GG.tipsMgr.forceProgressEnd(),GG.tipsMgr.showCountDownTip(t)}},confirmDealer:function(e){this._dealerComp=this._myselfPlayerComp,this._tip_inTurn&&this._tip_inTurn.forceEnd()},setGameState:function(e){var t=this._gameState;switch(this._gameState=e,e){case G_TYPE.classicState.wait:this._topUIComp.setChangeTouchEnable(!0);break;case G_TYPE.classicState.readyStart:this._topUIComp.setChangeTouchEnable(!1);break;case G_TYPE.classicState.givePoker:break;case G_TYPE.classicState.grabDealer:break;case G_TYPE.classicState.setScore:break;case G_TYPE.classicState.calculate:break;case G_TYPE.classicState.showResult:break;default:return void(this._gameState=t)}},_goldFly1:function(){this._callFunc_flyGoldEnd=this.goldFly2.bind(this);for(var e in this._list_goldFly1)this._addGoldFlyEvent(this._list_goldFly1[e][0],this._list_goldFly1[e][1])},goldFly2:function(){if(this._callFunc_flyGoldEnd=this._flyGoldEnd.bind(this),this._list_goldFly2.length>0)for(var e in this._list_goldFly2)this._addGoldFlyEvent(this._list_goldFly2[e][0],this._list_goldFly2[e][1]);else this._flyGoldEnd()},_addGoldFlyEvent:function(e,t){t.startReceive(),this._goldAreaComp.flyGolds(e.getNodePos(),t.getNodePos(),t.getPlayerIndex())},whenGoldMoveToHead:function(e){this.getPlayerComp(e).showGetGoldEffect()},onGoldEffectEnd:function(e,t){this._callFunc_flyGoldEnd&&this._callFunc_flyGoldEnd()},_checkScore:function(){var e;for(var t in this._list_onDeskPlayerComp)e=this._list_onDeskPlayerComp[t],e.getIsSetScore()?(e.getIsMySelf()&&this._controlGroupComp.setGroup2Enable(!1),e.getIsDealer()||e.setDefaultScore()):e.setDefaultScore()},_addOnePlayer:function(e){e.setPlayerData(),this._list_onDeskPlayerComp.push(e),this._curPlayerNum+=1},removeOnePlayer:function(e){for(var t in this._list_onDeskPlayerComp)if(this._list_onDeskPlayerComp[t].getPlayerIndex()==e.getPlayerIndex()){this._list_onDeskPlayerComp.splice(t,1);break}},addPlayerWhoGotPoker:function(e){this._busyPlayerNum-=1,this._busyPlayerNum<=0&&(this._busyPlayerNum=0,this._flyCallBack&&(this._flyCallBack(),this._flyCallBack=null))},_showGrabDealerEffect:function(){var e=G_Config_classic.num_dealerEffMoveStep*this._curPlayerNum+this._dealerComp.getPlayerIndex();this._playerIndex_effMove=0,this._lastShowPlayerComp=null,this.inTurn(e,G_Config_classic.time_dealerMove,!0,this._setDealerEff.bind(this),this._showDealerEffEnd.bind(this))},_setDealerEff:function(){var e=this._list_onDeskPlayerComp[this._playerIndex_effMove];this._lastShowPlayerComp&&this._lastShowPlayerComp.hideGrabDealer(),e.playGrabDealer(),this._lastShowPlayerComp=e,this._playerIndex_effMove+=1,this._playerIndex_effMove>=this._curPlayerNum&&(this._playerIndex_effMove=0)},_showDealerEffEnd:function(){var e=this._playerIndex_effMove-1;e<0&&(e=0);this._list_onDeskPlayerComp[e];this._lastShowPlayerComp=null,this._dealerComp.confirmDealer(!0),this._startSetScore()},allPlayerDone:function(e,t){for(var i in this._list_onDeskPlayerComp)this._list_onDeskPlayerComp[i][e](t)},inTurn:function(e,t,i,n,o){this._callFunc_inTurnEnd=null,this._turnStep=e,this._interval_oneTurn=t,i?this._runTime_turn=this._interval_oneTurn:this._runTime_turn=0,this._callFunc_inTurn=n,this._callFunc_inTurnEnd=o,this._isInTurn=!0},update:function(e){this._doTurn(e)},_doTurn:function(e){this._isInTurn&&(this._runTime_turn>=this._interval_oneTurn?(this._runTime_turn=0,this._callFunc_inTurn&&(this._callFunc_inTurn(),this._turnStep-=1,this._turnStep<=0&&(this._isInTurn=!1,this._interval_oneTurn=0,this._callFunc_inTurn=null,this._callFunc_inTurnEnd&&(this._callFunc_inTurnEnd(),this._callFunc_inTurnEnd=null)))):this._runTime_turn+=e)},getPlayerComp:function(e){return e?this._dict_playerComp[e]:this._myselfPlayerComp},getAllPlayerComp:function(){return this._dict_playerComp},getOnDeskPlayerList:function(){return this._list_onDeskPlayerComp},getPlayerNumOnDesk:function(){return this._curPlayerNum},getGameMainNode:function(){return this.node},getGameState:function(){return this._gameState},onDestroy:function(){GG.classicMgr=null}}),cc._RFpop()},{}],Classic_controlButton:[function(e,t,i){"use strict";cc._RFpush(t,"7eff5jYiuVMdKLNvBqjU1kg","Classic_controlButton"),cc.Class({"extends":e("AutoDealing"),_node_lastTouchBtn:null,properties:{node_btnGroup1:cc.Node,node_btnGroup2:cc.Node,Atlas_buttonImg:cc.SpriteAtlas,node_group3Btn1:cc.Node,node_group3Btn2:cc.Node,node_btnBottomEffect:cc.Node,node_btnUpEffect:cc.Node},onLoad:function(){this._registerAll(),this.setGroup3TouchEnable(!1),this.showGroup1()},_registerAll:function(){this._multipleCompName="Button_multiple";var e=this.node_btnGroup1.children;for(var t in e)this.registerButton(e[t],this.Btn_group1,this,null,!0);e=this.node_btnGroup2.children;for(var t in e)this.registerButton(e[t],this.Btn_group2,this,null,!0);this.node_group3Btn1.tag=1,this.node_group3Btn2.tag=2,this.registerButton(this.node_group3Btn1,this.Btn_group3,this),this.registerButton(this.node_group3Btn2,this.Btn_group3,this)},Btn_group1:function(e,t){this._showTouchEff(e.target),this.setGroup1Enable(!1,!1);var t=e.target.tag;"[object Number]"==Object.prototype.toString.call(t)&&GG.classicMgr.grabDealerMyself(t)},Btn_group2:function(e){this._showTouchEff(e.target),this.setGroup2Enable(!1,!1);var t=e.target.tag;"[object Number]"==Object.prototype.toString.call(t)&&GG.classicMgr.setScoreMyself(t)},Btn_group3:function(e){GG.classicMgr.clickConfirmResult()},showGroup1:function(){this.node_btnGroup2.active=!1,this.node_btnGroup1.active=!0,this.setGroup1Enable(!0,!0),this.setGroup1Info([0,1,2,3,4])},setGroup1Enable:function(e,t){this._setGroupEnable(this.node_btnGroup1,e,t)},setGroup1Info:function(e){this._setGroupInfo(this.node_btnGroup1,e)},showGroup2:function(e){this.node_btnGroup1.active=!1,this.node_btnGroup2.active=!0,this.setGroup2Enable(!e,!0),this.setGroup2Info([5,7,10,15,25])},setGroup2Enable:function(e,t){this._setGroupEnable(this.node_btnGroup2,e,t)},setGroup2Info:function(e){this._setGroupInfo(this.node_btnGroup2,e)},_setGroupEnable:function(e,t,i){for(var n in e.children){var o=e.children[n];0!=o.y?i&&(o.getComponent(this._multipleCompName).showValue(),this.setBtnEnable(o,t),this._hideTouchEff()):(o.getComponent(this._multipleCompName).showValue(),this.setBtnEnable(o,t))}},_setGroupInfo:function(e,t){var i;for(var n in e.children){var o=e.children[n];i=t[n],o&&(o.tag=i,o.getComponent(this._multipleCompName).showValue(i,!1))}},setGroup3TouchEnable:function(e){this.setBtnEnable(this.node_group3Btn1,e),this.setBtnEnable(this.node_group3Btn2,e)},_showTouchEff:function(e){this._node_lastTouchBtn&&(this._node_lastTouchBtn.y=0,this._node_lastTouchBtn.getComponent(this._multipleCompName).showValue());var t=e.parent.scale;e.y+=e.height/2,this.node_btnBottomEffect.active=!0,this.node_btnBottomEffect.x=e.x*t,this.node_btnUpEffect.active||(this.node_btnUpEffect.active=!0,this.node_btnUpEffect.getComponent(cc.Animation).play()),this.node_btnUpEffect.position=cc.p(e.x*t,e.y*t),this.setBtnEnable(e,!1,!0),e.getComponent(this._multipleCompName).showValue(null,!0),this._node_lastTouchBtn=e},_hideTouchEff:function(){this._node_lastTouchBtn&&(this.node_btnBottomEffect.active=!1,this.node_btnUpEffect.getComponent(cc.Animation).stop(),this.node_btnUpEffect.active=!1,this._node_lastTouchBtn.y=0,this._node_lastTouchBtn.getComponent(this._multipleCompName).showValue(null,!1),this._node_lastTouchBtn=null)},onClear:function(){this.node_btnGroup1.active&&this.setGroup1Enable(!1,!0),this.node_btnGroup2.active&&this.setGroup2Enable(!1,!0)}}),cc._RFpop()},{AutoDealing:"AutoDealing"}],Classic_goldArea:[function(e,t,i){"use strict";cc._RFpush(t,"6370bnDQhNIlKz/uYQhbumR","Classic_goldArea"),cc.Class({"extends":cc.Component,_pool:null,_list_flyInfo:null,properties:{prefab_gold:cc.Prefab},onLoad:function(){this._goldCompName="Obj_gold",this._pool=new cc.NodePool("Classic_goldArea"),this._interval_showGold=G_Config_classic.time_showGold,this._runTime=this._interval_showGold,this._resetData()},_resetData:function(){this._list_flyInfo=[]},flyGolds:function(e,t,i){this._list_flyInfo.push([e,t,G_Config_classic.num_goldGroup,i])},_flyOneGold:function(e,t,i){var n=this._getGold();n.active=!0;var o,s,a,r,l,c,_,h,_=e.x,h=e.y;n.x=_,n.y=h,n.playerIndex=i;var u=150;a=e.x>t.x?e.x:t.x,l=e.y>t.y?e.y:t.y,r=a-u,c=l-u,o=G_TOOL.getRandomArea(r,a),s=G_TOOL.getRandomArea(c,l);var d=[cc.p(_,h),cc.p(o,s),t],p=cc.bezierTo(G_Config_classic.time_goldFly,d).easing(cc.easeQuadraticActionOut());n.runAction(cc.sequence(p,cc.callFunc(this.flyEnd,this)))},flyEnd:function(e){e.playerIndex&&GG.classicMgr.whenGoldMoveToHead(e.playerIndex),this._removeGold(e)},_getGold:function(){var e=this._pool.get();return e||(e=cc.instantiate(this.prefab_gold)),e.parent=this.node,e.scale=.5,e},_removeGold:function(e){e.active=!1,this._pool.put(e)},_sortGold:function(){for(var e in this._list_flyInfo){var t=this._list_flyInfo[e];t[2]>0?(this._flyOneGold(t[0],t[1],t[3]),this._flyOneGold(t[0],t[1],t[3]),this._flyOneGold(t[0],t[1],t[3]),this._list_flyInfo[e][2]-=1):(this._list_flyInfo.splice(e,1),this._list_flyInfo.length<=0&&GG.classicMgr.onGoldEffectEnd())}},onClear:function(){this._resetData();for(var e in this.node.children){var t=this.node.children[e];t.active&&this._removeGold(t)}},update:function(e){this._list_flyInfo.length>0&&(this._runTime>=this._interval_showGold?(this._runTime=0,this._sortGold()):this._runTime+=e)}}),cc._RFpop()},{}],Classic_page_result:[function(e,t,i){"use strict";cc._RFpush(t,"a766dN/8eNOxpktDKulrKae","Classic_page_result"),cc.Class({"extends":e("AutoDealing"),_isShowWin:null,properties:{node_otherMan:cc.Node,node_btnContinue:cc.Node,prefab_otherGold:cc.Prefab,label_goldWin:cc.Label,label_goldFail:cc.Label},onLoad:function(){this._effectComp=this.getComponent("Obj_pageResult_effect"),this.registerButton(this.node_btnContinue,this.Btn_continue,this)},Btn_continue:function(e){this._hidePage(),GG.classicMgr.resetGame()},showWin:function(){this.node.active=!0,this._isShowWin=!0,this._showMyGold(99),this._showOtherGold(),this._effectComp.showBGEffect(this._isShowWin)},showFail:function(){this.node.active=!0,this._isShowWin=!1,this._showMyGold(-88),this._showOtherGold(),this._effectComp.showBGEffect(this._isShowWin)},_showMyGold:function(e){e>0?(e="+"+e,this.label_goldFail.string="",this.label_goldWin.string=e):e<0?(e+="",this.label_goldWin.string="",this.label_goldFail.string=e):(e+="",this.label_goldFail.string="",this.label_goldWin.string=e)},_showOtherGold:function(){for(var e=0;e<G_Config_classic.num_maxPlayer-1;e++){var t=this.node_otherMan.getChildByTag(e);t||(t=cc.instantiate(this.prefab_otherGold),t.parent=this.node_otherMan),t.getComponent("Obj_othersGold").showInfo(e,99+e,null)}},_hideOthers:function(){for(var e in this.node_otherMan.children)this.node_otherMan.children[e].active=!1},_hidePage:function(){this.node.active=!1}}),cc._RFpop()},{AutoDealing:"AutoDealing"}],Classic_playerBlock:[function(e,t,i){"use strict";cc._RFpush(t,"118e4Ljvv1CjpvmTcD8O6VU","Classic_playerBlock"),cc.Class({"extends":cc.Component,_flyEndNum:null,_dict_pokerNode:null,_ani_dealerLog:null,_pokerResultComp:null,_pokerCalculateComp:null,_isOnDesk:null,_effectComp:null,_isOnOpening:null,_curPokerNum:null,_pokerStartPos:null,_isShowResult:null,_isDealer:null,_num_grabDealer:null,_num_setScore:null,_isPlayGoldEffect:null,properties:{node_homeIndex:cc.Node,node_name:cc.Node,node_goldValue:{"default":null,type:cc.Node,displayName:"金币lable节点"},node_pokerStart:cc.Node,node_calculateResult:cc.Node,boolean_isMyself:!1,number_playerIndex:1,boolean_isHorizontal:!1},onLoad:function(){this._initPlayerAttributes()},_initPlayerAttributes:function(){this._pokerCompName="Obj_poker",this._effectComp=this.getComponent("Obj_playerBlock_effect"),this._lenInPokers=G_Config_classic.len_betweenOtherPoker,this.boolean_isMyself&&(this._lenInPokers=G_Config_classic.len_betweenMyPoker,this._pokerCalculateComp=this.node_calculateResult.getComponent("Obj_calculateResult")),this._resetData()},_resetData:function(){this._curPokerNum=0,this._flyEndNum=0,this._isOnOpening=!1,this._num_grabDealer=0,this._num_setScore=0,this._isOnOpening=!1,this._dict_pokerNode={},this._isOnDesk=!1,this._isPlayGoldEffect=!0,this._isDealer=!1,this._isShowResult=!1,this._maxPokerNum=G_Config_classic.num_firstGive},setPlayerData:function(){this._isOnDesk=!0,this._clearAll(),this._resetData(),this.node.active=!0},hideBlock:function(){this._resetData(),this.node.active=!1},addMaxPokerNum:function(e){e||(e=1),this._maxPokerNum+=e},addFlyEndPoker:function(){this._flyEndNum+=1,this._flyEndNum>=this._maxPokerNum&&GG.classicMgr.addPlayerWhoGotPoker(this.number_playerIndex)},getNewPokerPos:function(){if(this._curPokerNum>=this._maxPokerNum)return null;var e=this._getPokerFirstPos(),t=cc.p(e.x+this._curPokerNum*this._lenInPokers,e.y);return this._curPokerNum+=1,[t,parseInt(this.number_playerIndex+""+this._curPokerNum)]},getMaxPokerNum:function(){return this._maxPokerNum},addOnePoker:function(e,t){this._dict_pokerNode[e]=t,t.getComponent(this._pokerCompName).bindPlayer(this)},setPokerTouchEnable:function(e){for(var t in this._dict_pokerNode)this._dict_pokerNode[t].getComponent(this._pokerCompName).setPokerTouchEnable(e)},_openPokerEnd:function(){this._isOnOpening&&(this._isOnOpening=!1,this._pokerResultComp.showPokerResultValue(5))},_openAllPokers:function(e){this._isOnOpening=!0;for(var t in this._dict_pokerNode)this._dict_pokerNode[t].getComponent(this._pokerCompName).openPoker(e),e=null},_showMyPokersResult:function(){this._receivePokers(),this._openAllPokers(),this._pokerResultComp.showPokerResultValue(10)},confirmResult:function(){this._hideCalculateResult(),this._receivePokers(),this._pokerResultComp.showCalculateSuccess(),GG.classicMgr.confirmResult()},_receivePokers:function(){if(!this._isShowResult){this._isShowResult=!0;var e,t=0;for(var i in this._dict_pokerNode)e=this._dict_pokerNode[i],e.scale=G_Config_classic.scale_noMyPoker,e.x=cc.visibleRect.center.x+t*G_Config_classic.len_betweenOtherPoker,e.getComponent(this._pokerCompName).showPokerNegative(),t+=1}},bindPokerResult:function(e){this._pokerResultComp=e;var t=this._getPokerFirstPos(),i=this._getPokerResultPosX();this._pokerResultComp.setTruePos(cc.p(i,t.y))},grabDealer:function(e){isNaN(e)&&!this._isDealer?this._effectComp.hideMultiple():(this._num_grabDealer=e,this._effectComp.showGrabDealerValue(e))},playGrabDealer:function(){this._effectComp.showGrabDealer()},hideGrabDealer:function(){this._effectComp.hideGrabDealer()},confirmDealer:function(e){this._isDealer=e,e?(this._effectComp.hideGrabDealer(),this._effectComp.showConfirmDealer()):this._effectComp.hideMultiple()},showSetScore:function(e){e&&(this._num_setScore=e,this._isDealer||this._effectComp.showSetScoreValue(e))},hideSetScore:function(){this._effectComp.hideMultiple()},setDefaultScore:function(){var e=5;this.showSetScore(e)},showPokerCalculate:function(){this._pokerCalculateComp.showCalculate()},_hideCalculateResult:function(){this._pokerCalculateComp.hideCalculate()},touchThePokerUp:function(e){var t=this._pokerCalculateComp.chooseOnePoker(e);if(t){var e=10;this._pokerCalculateComp.showTrueResult(e,this.confirmResult.bind(this))}else this._pokerCalculateComp.showOverTouch();return t},touchThePokerDown:function(){this._pokerCalculateComp.cancelOnePoker()},endCalculate:function(){this.boolean_isMyself?(this.setPokerTouchEnable(!1),this._hideCalculateResult(),this._showMyPokersResult()):this._openAllPokers(this._openPokerEnd.bind(this))},showGetGoldEffect:function(){this._isPlayGoldEffect||(this._effectComp.showGetGoldEffect(),this._isPlayGoldEffect=!0)},startReceive:function(){this._isPlayGoldEffect=!1},showGoldValueFly:function(e){this._effectComp.showGoldValueFly(e)},_clearAll:function(){this._effectComp&&this._effectComp.clearAllEffect()},getIsHavePlayer:function(){return this._isOnDesk},getBlockIsHorizontal:function(){return this.boolean_isHorizontal},setGrabDealerNum:function(e){this._num_grabDealer=e},getGrabDealerNum:function(e){return this._num_grabDealer},setSetScoreNum:function(e){this._num_setScore=e},getSetScoreNum:function(e){return this._num_setScore},getIsSetScore:function(){return this._num_setScore>0},getIsDealer:function(){return this._isDealer},getIsMySelf:function(){return this.boolean_isMyself},getPlayerIndex:function(){return this.number_playerIndex},getIsBindResult:function(){return Boolean(this._pokerResultComp)},getNodePos:function(){return this.node.position},_getPokerResultPosX:function(){var e;if(this.boolean_isMyself)e=cc.visibleRect.center.x;else{var t=this._getPokerFirstPos();e=t.x}return e+G_Config_classic.num_pokerResultOff},_getPokerFirstPos:function(){return this._pokerStartPos||(this._pokerStartPos=cc.p(this.node.x+this.node_pokerStart.x*this.node.scale,this.node.y+this.node_pokerStart.y*this.node.scale)),this._pokerStartPos}}),cc._RFpop()},{}],Classic_pokerGiveArea:[function(e,t,i){"use strict";cc._RFpush(t,"0f7d2XihrhDJLyJM/BflkpF","Classic_pokerGiveArea"),cc.Class({"extends":cc.Component,_isStartGive:null,_myselfPlayerIndex:null,_list_playerComp:null,_pool:null,_list_pokerIndex:null,properties:{prefab_poker:cc.Prefab,prefab_pokerResult:cc.Prefab},onLoad:function(){this._initAttributes()},_initAttributes:function(){this._playerCompName="Obj_playerBlock",this._pokerCompName="Obj_poker",this._resultCompName="Obj_onPokerResult",this._pool=new cc.NodePool("Classic_pokerGiveArea"),this._pokerResultStartIndex=60,this._curPokerResultIndex=this._pokerResultStartIndex,this._startGivePos=cc.visibleRect.center,this._resetData()},_resetData:function(){this._isStartGive=!1,this._list_pokerIndex=[]},startGivePoker:function(){this._list_playerComp=GG.classicMgr.getOnDeskPlayerList().concat([]),this._isStartGive=!0,this.schedule(this._let_update,G_Config_classic.time_givePoker)},_giveOnePokers:function(){var e=this._list_playerComp[0];if(e){var t=e.getNewPokerPos();if(t){var i,n,o=t[0],s=t[1];i=this._getPoker(),i.active=!0,i.tag=s,this._list_pokerIndex.push(s),n=i.getComponent(this._pokerCompName),e.addOnePoker(s,i);var a=e.getIsMySelf();n.flyPoker(this._startGivePos,o,a)}else{if(!e.getIsBindResult()){var r=cc.instantiate(this.prefab_pokerResult);
this.node.addChild(r,1,this._curPokerResultIndex),e.bindPokerResult(r.getComponent(this._resultCompName)),this._curPokerResultIndex+=1}this._list_playerComp.splice(0,1)}}else this._isStartGive=!1},giveOneMorePoker:function(){this._list_playerComp=GG.classicMgr.getOnDeskPlayerList().concat([]);for(var e in this._list_playerComp)this._list_playerComp[e].addMaxPokerNum();this._isStartGive=!0,this.schedule(this._let_update,G_Config_classic.time_givePoker)},_getPoker:function(){var e=this._pool.get();return e||(e=cc.instantiate(this.prefab_poker)),e.parent=this.node,e},_removePoker:function(e){e.active=!1,this._pool.put(e)},_clearAllPokers:function(){var e=0;for(var t in this._list_pokerIndex){var i=this.node.getChildByTag(this._list_pokerIndex[t]);this._removePoker(i),e+=1}},_clearAllPokerResult:function(){for(var e=this._pokerResultStartIndex,t=0;t<5;t++){var i=this.node.getChildByTag(e+t);i&&i.getComponent(this._resultCompName).hideOnPokerResult()}},onClear:function(){this._clearAllPokers(),this._clearAllPokerResult(),this._resetData()},_let_update:function(e){this._isStartGive?this._giveOnePokers():this.unschedule(this._let_update)}}),cc._RFpop()},{}],Classic_topTouchLayer:[function(e,t,i){"use strict";cc._RFpush(t,"2c9e99LEv5PFJK/41Ajzx0o","Classic_topTouchLayer"),cc._RFpop()},{}],Classic_topUI:[function(e,t,i){"use strict";cc._RFpush(t,"483d8kWKhVMsLHK3s/34j0r","Classic_topUI"),cc.Class({"extends":e("AutoDealing"),_aniCallFunc:null,properties:{prefab_loadingAni:cc.Prefab,btnEX_start:cc.Node,btnEx_up_leftTop:cc.Node,btnEx_down_leftTop:cc.Node,node_boneAni_startGame:cc.Node,node_boneAni_loading:cc.Node},onLoad:function(){this.registerButton(this.btnEX_start,this.Btn_startImg,this),this.registerButton(this.btnEx_up_leftTop,this.Btn_leftTop_up,this),this.registerButton(this.btnEx_down_leftTop,this.Btn_leftTop_down,this)},Btn_leftTop_up:function(e){GG.classicMgr.resetGame()},Btn_leftTop_down:function(e){this.playMatchAni()},_receiveData:function(e){},Btn_startImg:function(e){e.target.active=!1,GG.classicMgr.showStartWait()},setChangeTouchEnable:function(e){this.setBtnEnable(this.btnEx_up_leftTop,e)},playStartAni:function(e){this.node_boneAni_startGame.active=!0,this._aniCallFunc=e;var t=this.node_boneAni_startGame.getComponent(dragonBones.ArmatureDisplay);t.addEventListener(dragonBones.EventObject.COMPLETE,this._startAniEnd,this),t.playAnimation("",1)},_startAniEnd:function(){this._hideStartAni(),this._aniCallFunc&&this._aniCallFunc()},_hideStartAni:function(){this.node_boneAni_startGame.active=!1},playLoadingAni:function(){var e=cc.instantiate(this.prefab_loadingAni);e.parent=this.node,e.getComponent("Obj_loadingEffect").showLoading(this._countDownCall.bind(this))},playMatchAni:function(){var e=cc.instantiate(this.prefab_loadingAni);e.parent=this.node,e.getComponent("Obj_loadingEffect").showMatch(this._countDownCall.bind(this))},_countDownCall:function(){},onClear:function(){this.btnEX_start.active=!0}}),cc._RFpop()},{AutoDealing:"AutoDealing"}],Config_bull100:[function(e,t,i){"use strict";cc._RFpush(t,"95222qkqtxKS6CJbdacFDND","Config_bull100");var n={dict_betGoldNum:{1:1,2:1,3:3,4:3,5:5},dealerSliderInterval:1e4};window.G_Config_bull100=n,cc._RFpop()},{}],Config_chinese:[function(e,t,i){"use strict";cc._RFpush(t,"9616fPzp/pPkaXn+SquUBhT","Config_chinese");var n={dealerGoldText1:"上庄最低金额为",dealerGoldText2:"金钱不足,上庄至少需要",dealerGoldText3:"您已是当前庄家！",dealerGoldText4:"您目前上庄排序：第%s位！",exitText1:"当前游戏未结束，退出由系统代打?",exitText2:"你确定要退出游戏？",exitText3:"您已做庄,强制下庄系统则继续帮您打完本局!",dealerSuccess:"上庄成功!!!",continueDealerSuccess:"续庄成功!",giveUpDealer1:"您已从上庄列表退出竞庄",giveUpDealer2:"您已在庄,下庄系统将帮您打完本局?",downSuccess:"您已经成功下庄!",continueDealer:"此局结束后您将面临下庄危险，是否需要续庄！最低续庄金额为%s",limitBetting:"本桌限投%s次",bettingTimes:"当前投注次数: %s",isDealerTip:"请等待玩家投注(%s)",intoRoomLimit1:"您有未完成的牌局，请等待牌局结束！",upDealerSuccess:"恭喜您，成为本局庄家!",downDealerWarning:"友情提示: 您的上庄资金不足80%，请及时续庄！",downDealerSuccess:"您已下庄!",noMyself:"没有玩家数据"};window.G_CHINESE=n,cc._RFpop()},{}],Config_classic:[function(e,t,i){"use strict";cc._RFpush(t,"d5efdlRiO5OtrWl+DQwQ2Ov","Config_classic");var n={};window.G_Config_classic=n,cc._RFpop()},{}],Config_common:[function(e,t,i){"use strict";cc._RFpush(t,"b26deKEmoBAK7r3zwyki638","Config_common");var n={version:"1.0.1",isLocal:!1,frameScale:.5,bottomTipPos:cc.p(.5*cc.visibleRect.width,.1*cc.visibleRect.height),time_tipDefault:3,num_maxNameLen:10,scale_moveGold:.5,showTrendItems:5,connectTimeOut:3,defaultVolume:1,notice_speed:240,notice_showTime:4};window.G_Config_common=n,cc._RFpop()},{}],Config_dialogUrl:[function(e,t,i){"use strict";cc._RFpush(t,"852465MKD5NP7E8Dfu10X+Z","Config_dialogUrl");var n={loginTokenUrl:"/user/token.html",loginToSetUrl:"/user/voiceSet.html",getSystemSetUrl:"/game/PlayerSysSet.html",saveSystemSetUrl:"/game/PlayerSysSetSave.html",timedRefreshUrl:"/user/alive.html",logout:"/passport/logout.html",personalInfoUrl:"/game/playerInfo.html",playerTreasuresUrl:"game/statistics/treasures.html",playerProfitUrl:"/game/statistics/profits.html",gameRoomListUrl:"/game/rooms.html",announcementUrl:"",rulesUrl:"",recordUrl:"/game/statistics/user/records.html",accountUrl:"/playerRecharge/playerAccountRecord.html",trendUrl:"game/chart/inning.html",playerListUrl:"game/bull100/playerList.html"};window.G_DIALOG_URL=n,cc._RFpop()},{}],Config_grab:[function(e,t,i){"use strict";cc._RFpush(t,"0512eKgI7FPO4yvK6/Ay6rT","Config_grab");var n={num_otherGrabGoldNum:2,time_grabWillEnd:2,num_winPokerOff:15,time_goldFlyOnHead:1.5};window.G_Config_grab=n,cc._RFpop()},{}],Config_resourceUrl:[function(e,t,i){"use strict";cc._RFpush(t,"23f282iOddN5KHJaiCrIFod","Config_resourceUrl");var n={atlas_multipleImgName:{0:"comm_text_dont",imgName:"comm_text_"},atlas_pokerResult:{resultImgName:"comm_text_list_according_",noResult:"comm_text_list_according_no",dont:"comm_text_list_according_ok"},atlas_chooseMultipleName:{dealer_0:"Scene_Classic_buqaing02",dealer_1:"Scene_Classic_qz_1",dealer_2:"Scene_Classic_qz_2",dealer_3:"Scene_Classic_qz_3",dealer_4:"Scene_Classic_qz_4",score_5:"Scene_Classic_x5",score_10:"Scene_Classic_x10",score_15:"Scene_Classic_x15",score_25:"Scene_Classic_x25"},ani_getDealerName:{horizontal:"GetDealer01",vertical:"GetDealer02"},ani_getGoldOnHeadName:{horizontal:"GoldOnHead_horizontal",vertical:"GoldOnHead_vertical"},boneAni:{loading:"BoneAni_loading",matching:"BoneAni_loading_dating"},pokerType:{blockMin:"common_card_f_02",blockMax:"common_card_f_01",blackHeartMin:"common_card_h_02",blackHeartMax:"common_card_h_01",redHeartMin:"common_card_hong_02",redHeartMax:"common_card_hong_01",flowerMin:"common_card_mei_02",flowerMax:"common_card_mei_01",value_J:"common_card_J",value_Q:"common_card_Q",value_K:"common_card_k"},dict_tablesName:{platformConfig:"",commonConfig:"CommonConfig",chinese:"Chinese",grabConfig:"Grab_mainConfig",audioName:"Enum_audioName"},uiName:cc.Enum({account:"UI_account",announcement:"UI_announcement",dealerList:"UI_dealerList",playerList:"UI_playerList",record:"UI_record",rules:"UI_rules",rulesInHome:"UI_rulesInHome",systemSet:"UI_systemSet",trend:"UI_trend"}),audioUrl:"resources/Sounds/%s.ogg"};window.G_RES_URL=n,cc._RFpop()},{}],DataObject_socketMsg:[function(e,t,i){"use strict";cc._RFpush(t,"a0e2268/ERBzaXmjmotkm3P","DataObject_socketMsg");var n=function(){this.pos=0,this.data="",this.len=0,this.deepCount=0};n.TYPE_NUM=0,n.TYPE_NUMS=1,n.TYPE_STRING=2,n.TYPE_STRINGS=3,n.TYPE_BOOL=4,n.TYPE_BOOLS=5,n.Type=function(e,t){return this.isList=e,this.jsonClass=t,this},n.getMsg=function(e){var t=new n;return t.data=e,t},n.objIndexStart=8,n.prototype.loadJsons=function(){for(var e=function(e){return NetBean[e]||(NetBean[e]=function(){return this}),NetBean[e]},t=this.getLong(),i=0;i<t;i++){var o=this.getLong(),s=e(o);s.event=o,s.className=this.getString(),s.sendBy=this.getLong(),0!=(1&s.sendBy),NetBean[s.className]=s;var a=this.getLong();s.fields=new Array,s.types=new Array,s.requireds=new Array;for(var r=0;r<a;r++){var l=this.getLong();s.requireds[l]=1==this.getLong(),s.fields[l]=this.getString();var c=this.getLong(),_=!1;c<0&&(_=!0,c=-c),c<n.objIndexStart?s.types[l]=c:s.types[l]=new n.Type(_,e(c-n.objIndexStart))}}},n.toObject=function(e){var t=n.getMsg(e),i=(t.getLong(),t.getLong());return i==-1?(t.loadJsons(),-1):t.toObject(NetBean[i])},n.toMsg=function(e){var t=new n;return t.putLong(e.constructor.event),t.toMsg(e),t.data},n.prototype.toMsg=function(e){var t=(e instanceof Array,0);this.mark();var i=(e.constructor.types,e.constructor.fields),n=e.constructor.requireds;for(var o in i){var s=e[i[o]];if(void 0!=s&&null!=s)t++,this.putLong(o),this.toFieldMsg(s);else if(n[o])throw new Error("required的值不能为空,NetBean."+e.constructor.className+"."+e.constructor.fields[o])}this.putByteOnMark(t)},n.prototype.toFieldMsg=function(e){if("number"==typeof e)this.putLong(e);else if("string"==typeof e)this.putString(e);else if("boolean"==typeof e)this.putBoolean(e);else if(e instanceof Array){this.putLong(e.length);for(var t in e)this.toFieldMsg(e[t])}else this.toMsg(e)},n.prototype.toObject=function(e){var t;try{t=new e}catch(i){console.log(i)}for(var o=this.getByte(),s=0;s<o;s++){var a=this.getLong(),r=e.types[a],l="number"!=typeof r;if(!l&&r&!0||l&&r.isList){l||r--;var c=this.getFiled(n.TYPE_NUM);t[e.fields[a]]=new Array;for(var _=0;_<c;_++)t[e.fields[a]][_]=this.getFiled(r)}else t[e.fields[a]]=this.getFiled(r)}return t},n.prototype.getFiled=function(e){switch(e){case n.TYPE_NUM:return this.getLong();case n.TYPE_STRING:return this.getString();case n.TYPE_BOOL:return this.getBoolean();default:return this.toObject(e.jsonClass)}},n.prototype.getLen=function(){var e=this.data.charCodeAt(this.pos++),t=e>>4&7;e=15&e;for(var i=0;i<t;i++)e|=this.data.charCodeAt(this.pos++)<<7*i+4;return e+this.pos},n.prototype.putLong=function(e){var t=e>0;t||(e*=-1);for(var i=0,n=e;n>0;)n=parseInt(n/2),i++;i=parseInt((i+3)/7),this.data+=String.fromCharCode(i<<4|(t?0:1)<<3|7&e),e=parseInt(e/8);for(var o=0;o<i;o++)this.data+=String.fromCharCode(127&e),e=parseInt(e/128)},n.prototype.getLong=function(){for(var e=this.data.charCodeAt(this.pos++),t=7&e,i=e>>4&7,n=8,o=0;o<i;o++)t+=(255&this.data.charCodeAt(this.pos++))*n,n*=128;return t*=0==(8&e)?1:-1},n.prototype.mark=function(){this.marks||(this.marks=new Array),this.marks.push(this.data),this.data=""},n.prototype.putByteOnMark=function(e){this.data=this.marks.pop()+String.fromCharCode(127&e)+this.data},n.prototype.putByte=function(e){return this.data+=String.fromCharCode(127&e)},n.prototype.getByte=function(){return 127&this.data.charCodeAt(this.pos++)},n.prototype.putBoolean=function(e){return this.data+=String.fromCharCode(e?1:0)},n.prototype.getBoolean=function(){return 1==this.data.charCodeAt(this.pos++)},n.prototype.putString=function(e){for(var t=0,i=0;i<e.length;i++){var n=e.charCodeAt(i);t+=n<127?1:n<=2047?2:n<=65535?3:4}for(var o=0,s=t;s>0;)s>>=1,o++;o=parseInt((o+2)/7),s=t,this.data+=String.fromCharCode(o<<5|31&s),s>>=5;for(var i=0;i<o;i++)this.data+=String.fromCharCode(127&s),s>>=7;this.len+=t-e.length,this.data+=e},n.prototype.getString=function(){for(var e=this.data.charCodeAt(this.pos++),t=e>>5&3,i=31&e,n=0;n<t;n++)i|=(255&this.data.charCodeAt(this.pos++))<<7*n+5;if(0==i)return"";for(var o=0,s=this.pos,n=this.pos;n<this.data.length;n++){var a=this.data.charCodeAt(this.pos++);if(o+=a<127?1:a<=2047?2:a<=65535?3:4,o>=i)break}return this.data.substring(s,this.pos)},t.exports=n,cc._RFpop()},{}],GameData:[function(e,t,i){"use strict";cc._RFpush(t,"bc6ad5lIgpKkqG/gsjUbiiI","GameData");var n={getChinese:function(e){var t=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.chinese);return t?t.getDataByID(e):null},getBottomTipPos:function(){return cc.p(.5*cc.visibleRect.width,.17*cc.visibleRect.height)},getTopTipPos:function(){return cc.p(.5*cc.visibleRect.width,.8*cc.visibleRect.height)},getCenterTipPos:function(){return cc.p(.5*cc.visibleRect.width,.55*cc.visibleRect.height)},getPokerInfo:function(e){return this.pokerValue=(e>>2)+1,this.pokerType=4-(3&e),this},getResNetRoot:function(e){if(G_Config_common.isLocal){var t=window.location.href,i=t.lastIndexOf(":");return t=t.substring(0,i+5),t+="/static/",t+e}return resRoot+"/"+e},getIdlePlayersSeatIndex:function(){return-2},getDealerSeatIndex:function(){return-1},getSceneName:function(e){var t;switch(e){case G_TYPE.gameModule.bull100:t="Poker_Bull100";break;case G_TYPE.gameModule.classic:t="Poker_classic";break;case G_TYPE.gameModule.grab:t="Poker_Grab"}return t}};window.G_DATA=n,cc._RFpop()},{}],GameStart:[function(e,t,i){"use strict";cc._RFpush(t,"0bb59bZNjlOg7qETPpsxzXm","GameStart");var n=cc.Enum({platform:0,bull100:1,grab:2,classic:3});cc.Class({"extends":cc.Component,properties:{_gameState:null,node_gameScene:{"default":null,type:cc.Node,displayName:"整个游戏的父层"},gameType:{"default":0,type:n,displayName:"游戏模式"}},onLoad:function(){this.node_gameScene.active=!1,GG.whenGameStart(),this._reloadTable(),this._gameState=G_TYPE.webGameState.running,this._addWebPauseListener()},_reloadTable:function(){var e=[];switch(this.gameType){case n.platform:break;case n.classic:e.push(G_RES_URL.dict_tablesName.classicConfig);break;case n.grab:e.push(G_RES_URL.dict_tablesName.grabConfig);break;case n.bull100:}e.push(G_RES_URL.dict_tablesName.commonConfig,G_RES_URL.dict_tablesName.chinese,G_RES_URL.dict_tablesName.audioName),GG.tableMgr.reloadTables(e,this._addConfigCallFunc.bind(this))},_addConfigCallFunc:function(){switch(this.gameType){case n.platform:break;case n.classic:var e=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.classicConfig);if(e){var t=e.getFirstData();this._addConfig(G_Config_classic,t)}break;case n.grab:var e=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.grabConfig);if(e){var t=e.getFirstData();this._addConfig(G_Config_grab,t)}break;case n.bull100:var e=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.bull100Config);if(e){var t=e.getFirstData();this._addConfig(G_Config_grab,t)}}var e=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.commonConfig);if(e){var t=e.getFirstData();this._addConfig(G_Config_common,t)}this.node_gameScene.active=!0},_addConfig:function(e,t){if(t)for(var i in t)e[i]=t[i]},_addWebPauseListener:function(){},_pauseWebGame:function(){if(this._gameState!=G_TYPE.webGameState.pause){this._gameState=G_TYPE.webGameState.pause,cc.audioEngine.pauseAll();var e=GG.curMgr;e&&e.whenPauseGame&&e.whenPauseGame()}},_resumeWebGame:function(){if(this._gameState!=G_TYPE.webGameState.running){this._gameState=G_TYPE.webGameState.running,cc.audioEngine.resumeAll();var e=GG.curMgr;e&&e.whenResumeGame&&e.whenResumeGame(),GG.socketMgr.parsePauseInfo()}},getGameState:function(){return this._gameState},getGameType:function(){return this.gameType},onDestroy:function(){cc.game.off(cc.game.EVENT_HIDE,this._pauseWebGame,this),cc.game.off(cc.game.EVENT_SHOW,this._resumeWebGame,this)}}),cc._RFpop()},{}],Global:[function(e,t,i){"use strict";cc._RFpush(t,"fe86ejAMf9Av4e2z1Y1HOfE","Global");var n=n||{};window.GG=n,GG.classicMgr=null,GG.grabMgr=null,GG.platformMgr=null,GG.bull100Mgr=null,GG.getModuleMgr=function(){for(var e=[GG.grabMgr,GG.classicMgr,GG.platformMgr,GG.bull100Mgr],t=0;t<e.length;t++)if(e[t])return e[t];return null},GG.curMgr=null,GG.tipsMgr=null,GG.topTouchLayer=null,GG.resMgr=null,GG._player=null,GG.getPlayer=function(){if(!this._player){var t=e("M_Player");this._player=new t}return this._player},GG.getPlayerID=function(){return this.getPlayer().getPlayerID()},GG.httpMgr=GG.httpMgr||function(){var t=e("HTTPMgr");return new t}(),GG.socketMgr=GG.socketMgr||function(){var t=e("SocketMgr");return new t}(),GG.tableMgr=GG.tableMgr||function(){var t=e("TablesMgr");return new t}(),GG.audioMgr=GG.audioMgr||function(){var t=e("AudioMgr");return new t}(),GG.getGameState=function(){var e=cc.find("Canvas");if(e){var t=e.getComponent("GameStart");if(t)return t.getGameState()}return null},GG.getGameType=function(){var e=cc.find("Canvas");if(e){var t=e.getComponent("GameStart");if(t)return t.getGameType()}return null},GG.resMgr=GG.resMgr||function(){var t=e("ReloadResMgr");return new t}(),GG.exitHome=function(){var e={gameType:this.getGameType()};this.getPlayer().setOutHomeData(e),GG.changeScene(G_TYPE.sceneName.platform)},GG.exitGame=function(){GG.httpMgr.sendHttpLogin(G_DIALOG_URL.logout,null,function(e){cc.director.end(),location.replace(location.href)}.bind(this))},GG.changeScene=function(e){GG.getPlayer().setReloadSceneInfo({sceneName:e}),cc.director.preloadScene("InHomeLoading",function(){cc.director.loadScene("InHomeLoading")})},GG.showReconnect=function(e){if(GG.tipsMgr){var t=G_DATA.getChinese(62);GG.tipsMgr.showConfirmTip_TWO(t.content,e,function(){cc.director.end(),location.replace(location.href)})}},GG.getIsLoading=function(){return this._isLoading},GG.setIsLoading=function(e){this._isLoading=e},GG.loginSocket=function(e){GG.socketMgr.SendMsg(NetType.s_login,{token:GG.getPlayer().getPlayerToken(),userId:GG.getPlayer().getUID()},e)},GG._isFirstEnterPlatform=!0,GG.whenGameStart=function(){if(GG._isFirstEnterPlatform){GG._isFirstEnterPlatform=!1;var e=cc.view.getDesignResolutionSize();cc.view.setDesignResolutionSize(e.width,e.height,cc.ResolutionPolicy.EXACT_FIT),cc.view.resizeWithBrowserSize(!1),cc.view.adjustViewPort(!0),cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE),window.addEventListener("resize",function(){var e=cc.view.getFrameSize();e.width>e.height&&cc.view.resizeWithBrowserSize(!0)}),this._gameState=G_TYPE.webGameState.running,cc.game.on(cc.game.EVENT_HIDE,this._pauseWebGame,this),cc.game.on(cc.game.EVENT_SHOW,this._resumeWebGame,this)}},GG._pauseWebGame=function(){if(this._gameState!=G_TYPE.webGameState.pause){this._gameState=G_TYPE.webGameState.pause,cc.audioEngine.pauseAll();var e=GG.curMgr;e&&e.whenPauseGame&&e.whenPauseGame()}},GG._resumeWebGame=function(){if(this._gameState!=G_TYPE.webGameState.running){this._gameState=G_TYPE.webGameState.running,cc.audioEngine.resumeAll();var e=GG.curMgr;e&&e.whenResumeGame&&e.whenResumeGame(),GG.socketMgr.parsePauseInfo()}},cc._RFpop()},{AudioMgr:"AudioMgr",HTTPMgr:"HTTPMgr",M_Player:"M_Player",ReloadResMgr:"ReloadResMgr",SocketMgr:"SocketMgr",TablesMgr:"TablesMgr"}],Grab_Manager:[function(e,t,i){"use strict";cc._RFpush(t,"44fc1hvIW1Cf70BkdECoI0L","Grab_Manager"),cc.Class({"extends":e("BaseManager"),properties:{_gameState:null,_list_winResult:null,_maxBettingGold:null,_homeID:null,_maxBettingTimes:null,_list_pokerIndex:null,_matchID:null,_playerID:null,_nextStartTime:null,_curEndGrabTime:null,_enterHomeData:null,_idleTip:null,_grabTip:null,_isPauseOverMatch:null,comp_topLayer:{"default":null,type:e("Grab_topLayer"),displayName:"顶部层"},comp_goldContainer:{"default":null,type:e("Grab_goldContainer"),displayName:"金币容器"},comp_playersContainer:{"default":null,type:e("Grab_playersLayer"),displayName:"玩家容器"},comp_btnsContainer:{"default":null,type:e("Grab_btnContainer"),displayName:"底部按钮"},comp_tablesContainer:{"default":null,type:e("Grab_tablesLayer"),displayName:"压住格子层"},comp_pokersLayer:{"default":null,type:e("Grab_pokerLayer"),displayName:"卡牌层"},comp_uiLayer:{"default":null,type:e("Obj_uiContainer"),displayName:"窗口UI层"},label_bettingTimes:{"default":null,type:cc.Label,displayName:"投注次数"}},onLoad:function(){GG.grabMgr=this,this._super(),this._list_pokerIndex=[],this._list_winResult=[],this._isPauseOverMatch=!0,this._bettingTimesStr=G_CHINESE.limitBetting,this.comp_topEffect=this.comp_topLayer.getTopEffect()},start:function(){if(G_Config_common.isLocal);else{this.addLongListenOnStart();var e=GG.getPlayer().getInHomeData();e&&(e.net_resetHomeData?(this._dealInHomeNetData(e.net_inHomeData),this.updateEnterHomeData(e.net_resetHomeData),this.refreshHome()):this.net_setHomeData(e.net_inHomeData))}},resetShow:function(){this.node.stopAllActions(),this.comp_pokersLayer.setStartInfo(this.comp_btnsContainer.getWheelPos(),this.comp_playersContainer.getPokerPos()),this._isPauseOverMatch&&(this._list_pokerIndex=[],this._list_winResult=[],this.comp_pokersLayer.clearData(),this.comp_tablesContainer.clearData(),this.comp_tablesContainer.setTouchEnable(!1)),this._isPauseOverMatch=!0,this.comp_goldContainer.clearAll(),this.comp_playersContainer.clearData(),this.comp_btnsContainer.setBtnGroupEnable(!1),this.comp_topEffect.clearAll()},on_Wait:function(e,t){this.setGameState(G_TYPE.grabState.wait),this._grabTip&&this._grabTip.getIsShow()&&this._grabTip.forceEnd();new Date(GG.socketMgr.getServerTime()),new Date(this._nextStartTime);if(this._idleTip&&this._idleTip.getIsShow())this._idleTip.forceChangeCountDown(e);else{var i=G_DATA.getBottomTipPos(),n={tipIndex:19,isCountDown:!0,showPos:cc.p(i.x,1.3*i.y),callBack:null};n.retainTime=e,t&&(n.callBack=t),this._idleTip=GG.tipsMgr.showOnlyOne(n)}this._clearByWait()},on_beforeStart:function(){this.setGameState(G_TYPE.grabState.readyStart),this.comp_topEffect.playGameStartAni(this.on_startTouchTables.bind(this)),this.on_giveOnePoker()},on_giveOnePoker:function(){this.setGameState(G_TYPE.grabState.givePoker);var e=G_OBJ.data_grabPokerInfo();e.pokerInfoList=[{pokerIndex:this._list_pokerIndex[0],isOpen:!0}],e.startPokerIndex=1,e.pokerResult=this._list_winResult[0],e.isFlyEffect=!0,this.comp_pokersLayer.showPokerEX(e)},on_startTouchTables:function(e){if(this.setGameState(G_TYPE.grabState.touchTables),this._idleTip&&this._idleTip.getIsShow()&&this._idleTip.forceEnd(),this.comp_tablesContainer.setTouchEnable(!0),this.comp_btnsContainer.chooseDefaultMoney(),this._grabTip&&this._grabTip.getIsShow())this._grabTip.forceChangeCountDown(e);else{var t,i=G_DATA.getBottomTipPos(),n={tipIndex:18,showPos:cc.p(i.x,1.3*i.y),isCountDown:!0};G_Config_common.isLocal?(t=100,n.callBack=this._touchTableEnd.bind(this)):t=this._getOffSeconds(GG.socketMgr.getServerTime(),this._curEndGrabTime),e&&(t=e),n.retainTime=t,this._grabTip=GG.tipsMgr.showOnlyOne(n)}},_touchTableEnd:function(){if(this.comp_tablesContainer.setTouchEnable(!1),this.comp_btnsContainer.setBtnGroupEnable(!1),G_Config_common.isLocal){var e={pokers:[{code:"33,34,4,36,2",odds:1,cardsPoint:parseInt(5)}]},t=this.setBettingEndInfo(e);t&&this.comp_topEffect.playGrabDoneAni(this.on_giveFivePokers.bind(this),t),this.on_Wait(15),this.comp_playersContainer.setMyselfMoney(this.getWinGold(),58888),this.comp_playersContainer.getSystemComp().setGoldValue(88888888)}},on_giveFivePokers:function(e){this.setGameState(G_TYPE.grabState.givePoker);var t=G_OBJ.data_grabPokerInfo();t.pokerInfoList=e,t.pokerResult=this._list_winResult[0],t.isFlyEffect=!0,t.startPokerIndex=2,t.callFunc=this._giveFivePokersEnd.bind(this),this.comp_pokersLayer.showPokerEX(t)},_giveFivePokersEnd:function(){var e=G_Config_grab.time_openDelay,t=cc.delayTime(e);this.node.runAction(cc.sequence(t,cc.callFunc(function(){this.comp_pokersLayer.openPokers(this.on_showResult.bind(this))},this)))},on_showResult:function(){if(this.setGameState(G_TYPE.grabState.showFlag),!(this._list_winResult.length<1)){var e,t;for(var i in this._list_winResult)e=this._list_winResult[i],t=this.comp_tablesContainer.setTableWin(e),this.comp_topEffect.playOneFlag(t);this.comp_tablesContainer.showOwnerGold(this.getMyselfComp().getAllGrabTable()),this.node.runAction(cc.sequence(cc.delayTime(G_Config_grab.time_showFlag),cc.callFunc(this.on_flyGold,this)))}},on_flyGold:function(){this.setGameState(G_TYPE.grabState.flyGold),this.comp_playersContainer.setWinTableResult(this._list_winResult)},_flyGoldEnd:function(){var e=this.comp_playersContainer.showAllGoldResult();if(e){var t=cc.delayTime(G_Config_grab.time_goldFlyOnHead);this.node.runAction(cc.sequence(t,cc.callFunc(this.on_showGoldResultEnd,this)))}else this.on_showGoldResultEnd()},on_showGoldResultEnd:function(){G_Config_common.isLocal},playMyGoldMove:function(e){e.isMine=!0,this.getMyselfComp().touchGrabArea(e,this._ownerGrabContinue.bind(this))},_ownerGrabContinue:function(e){e.goldValue>0&&(this.comp_goldContainer.moveAddGolds(e,function(){}.bind(this)),this.comp_tablesContainer.getTable(e.tableIndex).addOwnerGold(e.goldValue))},playResultGoldMove:function(e){e.length<1?this._flyGoldEnd():this.comp_goldContainer.addResultGolds(e,this._flyGoldEnd.bind(this))},setGameState:function(e){var t=this._gameState;switch(this._gameState=e,e){case G_TYPE.grabState.wait:break;case G_TYPE.grabState.readyStart:break;case G_TYPE.grabState.givePoker:break;case G_TYPE.grabState.readyTouchTable:break;case G_TYPE.grabState.touchTables:break;case G_TYPE.grabState.showFlag:break;case G_TYPE.grabState.flyGold:break;case G_TYPE.grabState.isBetting:break;default:return void(this._gameState=t)}},initButtonInfo:function(){this.comp_btnsContainer.setStartInfo()},changeIdleTip:function(e){if(this._idleTip&&this._idleTip.getIsShow()){var t=this._getOffSeconds(GG.socketMgr.getServerTime(),this._nextStartTime);this._idleTip.forceChangeCountDown(t)}},changeGrabTip:function(e){var t=this._getOffSeconds(GG.socketMgr.getServerTime(),this._curEndGrabTime);if(this._grabTip&&this._grabTip.getIsShow())this._grabTip.forceChangeCountDown(t);else{if(this.comp_topEffect.clearAll(),!this.comp_pokersLayer.getPokerNum()){var i=G_OBJ.data_grabPokerInfo();i.pokerInfoList=[{pokerIndex:this._list_pokerIndex[0],isOpen:!0}],i.pokerResult=this._list_winResult[0],i.isFlyEffect=!1,i.startPokerIndex=1,this.comp_pokersLayer.showPokerEX(i)}this.on_startTouchTables(t)}},showDialogUI:function(e){return this.comp_uiLayer.addUI(e)},setBettingTimes:function(e){this.label_bettingTimes.string=G_TOOL.formatStr(this._bettingTimesStr,e)},getGameState:function(){return this._gameState},getMyselfComp:function(){return this.comp_playersContainer.getMyselfComp()},getTable:function(e){return this.comp_tablesContainer.getTable(e)},getBtnsComp:function(){return this.comp_btnsContainer},getMaxGrabGold:function(){return this._maxBettingGold},getWinGold:function(){var e,t,i=[];for(var n in this._list_winResult)e=this._list_winResult[n],t=this.getMyselfComp().getWinGoldNum(e),t&&i.push(e);return this.comp_tablesContainer.getWinGold(i)},getMaxGrabTimes:function(){return this._maxBettingTimes},getMatchID:function(){return this._matchID},getOwnerID:function(){return this._playerID},_getOffSeconds:function(e,t){return GG.socketMgr.getOffSeconds(e,t)},getCurGrabResult:function(){return this._list_winResult[0]},getHomeID:function(){return this._homeID},getIsGrab:function(){return this.getMyselfComp().getIsBettingEnd()},getIsBetStart:function(e,t){e||(e=this._nextStartTime),t||(t=this._curEndGrabTime);var i=GG.socketMgr.getServerTime();return!(e>i&&i>=t)},getEnterHomeData:function(){return this._enterHomeData},_clearByWait:function(){this.getMyselfComp().clearRecord()},forceStart:function(){if(G_Config_common.isLocal){var e=[100,500,1e3,2e3,5e3],t={myselfData:{chooseDict:e,roomName:null},othersData:[{player:{coin:7568,icon:null,nickname:"black1",playerId:5,usableBalance:7568},seatIndex:1},{player:{coin:7568,icon:null,nickname:"black",playerId:5,usableBalance:7568},seatIndex:2},{player:{coin:888888,icon:null,nickname:"solider",playerId:6,usableBalance:888888},seatIndex:3},{player:{coin:888888,icon:null,nickname:"jin",playerId:7,usableBalance:888888},seatIndex:4},{player:{coin:888888,icon:null,nickname:"jin1",playerId:8,usableBalance:888888},seatIndex:5},{player:{coin:888888,icon:null,nickname:"jin2",playerId:9,usableBalance:888888},seatIndex:6},{player:{coin:888888,icon:null,nickname:"jin3",playerId:9,usableBalance:888888},seatIndex:7}],dealerData:{coin:297300,icon:null,nickname:"系统大牛",playerId:7,usableBalance:74325},homeData:{roomId:1,userId:6,betTimes:10,matchId:1,beginTimeNext:1487559489225,settleTime:1487559474225,betChip:e,minDealerGold:1e5,areaInfo:{0:2,1:13,2:13,3:13,4:13,5:13,6:13,7:13,8:13,9:13,10:12}}};this._initInHomeData(t);var i=1487559484012;if(i<this._curEndGrabTime){this.resetShow();var n=30,o=this._getOffSeconds(i,this._curEndGrabTime);if(n>0)if(this._list_pokerIndex[0]=n,o>G_Config_grab.time_grabWillEnd){var s=G_OBJ.data_grabPokerInfo();s.pokerInfoList=[{pokerIndex:n,isOpen:!0}],s.pokerResult=0,s.isFlyEffect=!1,s.startPokerIndex=1,this.comp_pokersLayer.showPokerEX(s)}else this.comp_pokersLayer.onlyShowPoker([{pokerIndex:n,isOpen:!0}]);this.on_startTouchTables(o)}else{this._isPauseOverMatch=!0,this.resetShow();var o=this._getOffSeconds(i,this._nextStartTime);this.on_Wait(2,this.on_beforeStart.bind(this))}}},testGetPoker:function(e){var t=[40,44,48,5,10],i=[36,37,39,10,11],n=[39,41,50,13,22],o=[5,31,38,0,29],s=[33,34,4,36,2],a=[{5:t},{6:i},{10:n},{9:o},{1:s}];if(this._testPokerList||(this._testPokerList=a[G_TOOL.getRandomArea(0,4)]),1==e){var r={};for(var l in this._testPokerList){r.value=l,r.pokerIndex=this._testPokerList[l][0];break}return r}var r={};for(var l in this._testPokerList)r.value=l,r.pokerIndex=this._testPokerList[l];return r},_initInHomeData:function(e){if(e.homeData){var t=e.homeData;this._homeID||(this._homeID=t.roomId),this._matchID||(this._matchID=t.matchId),this._nextStartTime=t.beginTimeNext,this._curEndGrabTime=t.settleTime,t.userId&&GG.getPlayer().setPlayerID(t.userId),t.betTimes&&(this._maxBettingTimes=t.betTimes,this.setBettingTimes(this._maxBettingTimes)),t.betChip&&(this._chipValueList=t.betChip,this._maxBettingGold=this._maxBettingTimes*t.betChip[t.betChip.length-1]),t.areaInfo&&this.comp_tablesContainer.setStartInfo(t.areaInfo)}this.comp_playersContainer.setStartInfo(e.othersData,e.myselfData,e.dealerData),e.dealerData&&e.dealerData.playerId==GG.getPlayerID()},net_setHomeData:function(e){var t=e.tip;if(t.code==G_TYPE.serverCodeType.success){this._dealInHomeNetData(e);var i=GG.socketMgr.getServerTime();if(i<this._curEndGrabTime){this.resetShow();var n=e.poker,o=this._getOffSeconds(i,this._curEndGrabTime);if(n>=0){this._list_pokerIndex[0]=n;var s=G_OBJ.data_grabPokerInfo();s.pokerInfoList=[{pokerIndex:n,isOpen:!0}],s.isFlyEffect=!1,s.startPokerIndex=1,this.comp_pokersLayer.showPokerEX(s)}this.on_startTouchTables(o)}else{this._isPauseOverMatch=!0,this.resetShow();var o=this._getOffSeconds(i,this._nextStartTime);if(o<=0){var n=e.poker;if(o=this._getOffSeconds(i,this._curEndGrabTime),n>=0){this._list_pokerIndex[0]=n;var s=G_OBJ.data_grabPokerInfo();s.pokerInfoList=[{pokerIndex:n,isOpen:!0}],s.isFlyEffect=!1,s.startPokerIndex=1,this.comp_pokersLayer.showPokerEX(s)}this.on_startTouchTables(o)}else this.on_Wait(o)}}},_dealInHomeNetData:function(e){this._enterHomeData=e;var t=e.match,i=(new Date(GG.socketMgr.getServerTime()),new Date(t.settleTime),GG.getPlayerID()),n={myselfData:{chooseDict:e.betChip,roomName:e.roomName},othersData:e.seats,dealerData:t.dealer,homeData:{roomId:e.roomId,userId:i,betTimes:e.betTimes,matchId:t.matchId,beginTimeNext:t.beginTimeNext,settleTime:t.settleTime,betChip:e.betChip,minDealerGold:e.minDealerCoin,areaInfo:e.betAreas}};this._initInHomeData(n)},net_resetGameData:function(e){var t=e.tip;if(t.code==G_TYPE.serverCodeType.success){this.updateEnterHomeData(e),this.resetShow();var i=e.match,n=(GG.getPlayerID(),{myselfData:{chooseDict:null,roomName:null},othersData:e.seats,dealerData:i.dealer,homeData:{beginTimeNext:i.beginTimeNext,settleTime:i.settleTime}});this._initInHomeData(n),this._list_pokerIndex[0]=e.poker,this.on_beforeStart()}},net_otherGrab:function(e){var t=e.tip;if("0"==t.code)for(var i,n=e.bets,o=0;o<n.length;o++){i=n[o];var s=parseInt(i.item.split("_")[0]),a=G_OBJ.data_grabBetting();switch(a.goldNum=G_Config_grab.num_otherGrabGoldNum,a.goldValue=i.gold,a.tableIndex=s,a.isMine=!1,i.seatIndex){case this.getMyselfComp().getSeatIndex():break;case G_DATA.getIdlePlayersSeatIndex():if(a.startPos=this.comp_btnsContainer.getIdleBettingPos(),!this.getMyselfComp().getSeatIndex()&&this.getMyselfComp().getIsBettingEnd()&&(a.goldValue=this.getMyselfComp().reduceGoldEX(a.goldValue)),a.goldValue<=0)break;a=this.comp_tablesContainer.touchOneTable(a.tableIndex,a),this.comp_goldContainer.moveAddGolds(a);break;case G_DATA.getDealerSeatIndex():break;default:var r=this.comp_playersContainer.getCompByIndex(i.seatIndex);r&&(a.startPos=r.getWorldPos()),a=this.comp_tablesContainer.touchOneTable(a.tableIndex,a),this.comp_goldContainer.moveAddGolds(a)}}},net_grabEnd:function(e){this._touchTableEnd();var t=this.setBettingEndInfo(e);
t&&this.comp_topEffect.playGrabDoneAni(this.on_giveFivePokers.bind(this),t),this.on_Wait(this._getOffSeconds(GG.socketMgr.getServerTime(),this._nextStartTime))},setBettingEndInfo:function(e){var t,i,n;if(G_Config_common.isLocal);else{var o=e.tip;switch(o.code){case G_TYPE.serverCodeType.success:break;case G_TYPE.serverCodeType.noBetting:break;default:return null}this._super(e)}n=e.pokers[0];var s=n.code.split(",");t=[];for(var a=0;a<s.length;a++)i=parseInt(s[a]),isNaN(i)||t.push({pokerIndex:i,isOpen:!1});this._list_winResult.push(n.cardsPoint);var r=e.players;if(r)for(var l,c,a=0;a<r.length;a++)switch(l=r[a],l.seatIndex){case G_DATA.getDealerSeatIndex():this.comp_playersContainer.getSystemComp().setGoldValue(l.balance);break;case G_DATA.getIdlePlayersSeatIndex():break;default:c=this.comp_playersContainer.getCompByIndex(l.seatIndex),c&&c.setResultInfo(l.coin,l.balance)}return t},net_mineHasGrab:function(e){var t=e.tip;if("0"==t.code){var i=e.player;this.comp_playersContainer.setMyselfMoney(i.coin,i.balance)}},net_someOneInHome:function(e){var t=e.tip;if("0"==t.code)for(var i,n=e.seats,o=GG.getPlayerID(),s=0;s<n.length;s++)i=n[s],i&&i.player.playerId!=o&&this.comp_playersContainer.enterOnePlayer(i.seatIndex,i.player)},net_exitHome:function(e){var t=e.tip;"0"==t.code&&GG.exitHome()},net_idleTimeOut:function(e){GG.tipsMgr.showConfirmTip_ONE(e.tip.tip,function(){GG.exitHome()}.bind(this))},_getWaitTimeSec:function(e){var t=GG.socketMgr.getServerTime(),i=new Date(e-t);return i.getSeconds()},addLongListenOnStart:function(){GG.socketMgr.registerLong(NetType.r_grab_reStartGame,this.net_resetGameData.bind(this)),GG.socketMgr.registerLong(NetType.r_grabEnd,this.net_grabEnd.bind(this)),GG.socketMgr.registerLong(NetType.r_mineHaveGrab,this.net_mineHasGrab.bind(this)),GG.socketMgr.registerLong(NetType.r_oneInHome,this.net_someOneInHome.bind(this)),GG.socketMgr.registerLong(NetType.r_grab_exitReturn,this.net_exitHome.bind(this)),GG.socketMgr.registerLong(NetType.r_idleTimeOut,this.net_idleTimeOut.bind(this)),GG.socketMgr.registerLong(NetType.r_otherGrab,this.net_otherGrab.bind(this))},onDestroy:function(){this._super(),GG.grabMgr=null}}),cc._RFpop()},{BaseManager:"BaseManager",Grab_btnContainer:"Grab_btnContainer",Grab_goldContainer:"Grab_goldContainer",Grab_playersLayer:"Grab_playersLayer",Grab_pokerLayer:"Grab_pokerLayer",Grab_tablesLayer:"Grab_tablesLayer",Grab_topLayer:"Grab_topLayer",Obj_uiContainer:"Obj_uiContainer"}],Grab_btnContainer:[function(e,t,i){"use strict";cc._RFpush(t,"26aca2lT0ZA06ebEnuK1Os6","Grab_btnContainer"),cc.Class({"extends":e("AutoDealing"),properties:{_lastBtn:null,node_btnGroup:cc.Node,node_effectOnButton:cc.Node,node_effectUnderButton:cc.Node,node_exitHomeBtn:cc.Node,node_playersList:cc.Node,node_rules:cc.Node,node_trend:cc.Node},onLoad:function(){this._init(),this._registerAllBtn()},setStartInfo:function(){var e=GG.grabMgr.getMyselfComp().getMoneyChooseDict();this._setBtnInfo(e),this.setBtnGroupEnable(!1)},_init:function(){this._btnCompName="Button_multiple"},changeBet:function(e){var t,i=GG.grabMgr.getMyselfComp().getMoneyChooseDict();t=e?e:GG.grabMgr.getMyselfComp().getGoldValue(),this._changeBtn(i,t)},_changeBtn:function(e,t){for(var i,n=this.node_btnGroup.children,o=0;o<n.length;o++)i=parseInt(o),e[i]>t&&this.setOneBtnEnable(o)},_registerAllBtn:function(){var e=this.node_btnGroup.children;for(var t in e)this.registerButton(e[t],this.OnClick_chooseMoney,this,parseInt(t),!0);this.node_exitHomeBtn.parent.getComponent("Obj_leftTopMenu").bindFunc(this.OnClick_exit.bind(this),this.OnClick_changeDesk.bind(this)),this.registerButton(this.node_playersList,this.OnClick_playerList,this),this.registerButton(this.node_rules,this.OnClick_rules,this),this.registerButton(this.node_trend,this.OnClick_trend,this)},OnClick_chooseMoney:function(e,t){var i=parseInt(t);GG.grabMgr.getMyselfComp().setChooseLevel(i),this._showEffect(e.target)},OnClick_changeDesk:function(){},OnClick_exit:function(e){if(G_Config_common.isLocal)return void GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText1,function(){GG.exitHome()});if(GG.grabMgr.getIsGrab())GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText1,function(){var e={roomId:GG.grabMgr.getHomeID(),isBreak:!0};GG.socketMgr.SendMsg(NetType.s_grab_Exit,e)});else{var t={roomId:GG.grabMgr.getHomeID(),isBreak:!0};GG.socketMgr.SendMsg(NetType.s_grab_Exit,t)}},OnClick_playerList:function(){var e=1,t=GG.grabMgr.showDialogUI(G_RES_URL.uiName.playerList);t.showLayer(),t.setData(e)},OnClick_rules:function(){var e=G_TYPE.gameModule.grab,t=GG.grabMgr.showDialogUI(G_RES_URL.uiName.rulesInHome);t.showLayer(),t.setData(e)},OnClick_trend:function(){var e=GG.grabMgr.getHomeID(),t=GG.grabMgr.showDialogUI(G_RES_URL.uiName.trend);t.showLayer(),t.setData(e)},_testGet:function(){},_setBtnInfo:function(e){for(var t,i=this.node_btnGroup.children,n=0;n<i.length;n++)t=parseInt(n),i[n].tag=e[t],i[n].getComponent(this._btnCompName).showMoney(e[t],!1)},_getBtnByIndex:function(e){return this.node_btnGroup.children[e]},chooseDefaultMoney:function(){this.setBtnGroupEnable(!0),this.changeBet(),this.chooseMoney(GG.grabMgr.getMyselfComp().getChooseLevel())},chooseMoney:function(e){var t=this._getBtnByIndex(e);this._showEffect(t)},_showEffect:function(e){this._chooseBtn(e),this.node_effectUnderButton.active=!0,this.node_effectUnderButton.x=e.x,this.node_effectUnderButton.y=-e.height/2},_hideEffect:function(){this.node_effectOnButton.active=!1,this.node_effectUnderButton.active=!1},_chooseBtn:function(e){this._cancelChoose(),e.getComponent(this._btnCompName).showMoney(null,!0),this.setBtnEnable(e,!1,!0),this._lastBtn=e},_cancelChoose:function(){this._lastBtn&&(this._hideEffect(),this._lastBtn.getComponent(this._btnCompName).showMoney(null,!1),this.setBtnEnable(this._lastBtn,!0),this._lastBtn.y=0,this._lastBtn=null)},setBtnGroupEnable:function(e){this._cancelChoose();var t=this.node_btnGroup.children;for(var i in t)this.setBtnEnable(t[i],e)},setOneBtnEnable:function(e){var t,i,n=this.node_btnGroup.children;for(t in n)i=parseInt(t),e-1<i&&(this.setBtnEnable(n[t],!1),n[t].y=0,n[t].getComponent(this._btnCompName).showMoney(null,!1))},getWheelPos:function(){var e=cc.visibleRect;return cc.p(.8*e.width,.2*e.height)},getIdleBettingPos:function(){var e=this.node_playersList.position,t=this.node_playersList.parent.parent.position,i=e.x+this.node_playersList.parent.x+t.x+this.node_playersList.width/2,n=e.y+this.node_playersList.parent.y+t.y+this.node_playersList.height/2;return cc.p(i,n)}}),cc._RFpop()},{AutoDealing:"AutoDealing"}],Grab_goldContainer:[function(e,t,i){"use strict";cc._RFpush(t,"93263ztXJhLmK5n7/NR+HHn","Grab_goldContainer"),cc.Class({"extends":cc.Component,properties:{_pool:null,_callFunc:null,frame_gold:cc.SpriteFrame},onLoad:function(){this._goldScale=G_Config_common.scale_moveGold,this._addGoldTime=G_Config_grab.time_goldFly_Add,this._resultGoldTime=G_Config_grab.time_goldFly_Result,this._pool=new cc.NodePool("Grab_goldContainer")},moveAddGolds:function(e,t){GG.audioMgr.playSound(15);for(var i,n,o,s=0,a=G_Config_grab.time_goldFly_delay,r=0;r<e.goldNum;r++)i=this._getGold(),i.position=e.startPos,i._flyCallFunc=e.callFunc,n=cc.delayTime(s),o=cc.moveTo(this._addGoldTime,e.targetPos),i.runAction(cc.sequence(n,o,cc.callFunc(this._flyAddGoldEnd,this,e))),s+=a;i&&(i._endCallFunc=t)},_flyAddGoldEnd:function(e,t){var i=e;i._flyCallFunc&&(i._flyCallFunc(),i._flyCallFunc=null),i._endCallFunc&&(i._endCallFunc(),i._endCallFunc=null),this._removeGold(i)},addResultGolds:function(e,t){e.length<1||(this._callFunc=t,this._list_resultGold=e,this._resultGoldNum=0,this._update_resultGold(),this.schedule(this._update_resultGold,G_Config_grab.time_goldFly_delay),GG.audioMgr.playSound(18))},_update_resultGold:function(){if(this._list_resultGold.length>0)for(var e,t,i,n,o=this._list_resultGold.length-1;o>=0;o--)e=this._list_resultGold[o],e.goldNum>0?(t=this._getGold(),this._resultGoldNum+=1,i=GG.grabMgr.getTable(e.tableIndex),i.removeOneGoldImg(),t.position=i.getWorldPos(),n=cc.moveTo(this._resultGoldTime,e.targetPos),t.runAction(cc.sequence(n,cc.callFunc(this._flyResultGoldEnd,this,this._resultGoldNum))),e.goldNum-=1):(e.callFunc&&e.callFunc(e.tableIndex),this._list_resultGold.splice(o,1),this._list_resultGold.length<=0&&(this.unschedule(this._update_resultGold),this._list_resultGold=null))},_flyResultGoldEnd:function(e,t){this._removeGold(e),this._list_resultGold||t!=this._resultGoldNum||(this._resultGoldNum=0,this._callFunc&&(this._callFunc(),this._callFunc=null))},_getGold:function(){var e=this._pool.get();if(!e){e=new cc.Node;var t=e.addComponent(cc.Sprite);t.spriteFrame=this.frame_gold}return e.parent=this.node,e.scale=this._goldScale,e.active=!0,e},_removeGold:function(e){e.active=!1,this._pool.put(e)},clearAll:function(){this.node.stopAllActions();for(var e=this.node.children,t=e.length,i=t-1;i>=0;i--)this._removeGold(e[i])}}),cc._RFpop()},{}],Grab_oneTable:[function(e,t,i){"use strict";cc._RFpush(t,"cd914lZMLpN6b4JTXgsnLK+","Grab_oneTable"),cc.Class({"extends":cc.Component,properties:{_ownerGold:0,_areaGold:0,_goldFrame:null,_bullType:null,_multiple:1,_maxAdaptGold:null,_curGoldNum:null,_isWin:null,num_result:{"default":0,type:cc.Integer,displayName:"代表的结果值"},label_multiple:{"default":null,type:cc.Label,displayName:"倍数"},node_goldContainer:{"default":null,type:cc.Node,displayName:"金币容器"},label_areaValue:{"default":null,type:cc.Label,displayName:"格子内总金币"},label_ownerValue:{"default":null,type:cc.Label,displayName:"投注值"},label_resultMultiple:{"default":null,type:cc.Label,displayName:"结果倍数"}},onLoad:function(){this._init()},_init:function(){this._ownerFormatStr="<b>%s</b>";var e=G_Config_grab.num_goldImgArea;this._minGoldX=-this.node.width*e*1.3,this._maxGoldX=-this._minGoldX,this._minGoldY=-this.node.height*e*.65,this._maxGoldY=-this._minGoldY,this._maxAdaptGold=50,this._curGoldNum=0,this._loseColor=new cc.Color(253,41,31),this._winColor=this.label_ownerValue.node.color,this._goldScale=G_Config_grab.scale_moveGold,this.comp_scrollValue=this.getComponent("Obj_scrollValue")},setInfo:function(e,t,i){this._goldFrame=e,this._bullType=t,this._multiple=parseInt(i)},clearData:function(){this._ownerGold=0,this._areaGold=0,this._isWin=!1,this._setMultiple(),this._clearGoldImg(),this.label_areaValue.string="",this.label_ownerValue.node.color=this._winColor,this._setOwnerGold(0),this.label_ownerValue.fontSize=60},OnClick_table:function(e){var t=G_OBJ.data_grabBetting();t.tableIndex=this.getResultType(),t.targetPos=this.getWorldPos(),t.callFunc=this._goldAdd.bind(this),GG.grabMgr.playMyGoldMove(t)},_goldAdd:function(){this._addOneGoldImg()},otherAddGold:function(e){e.targetPos=this.getWorldPos(),e.callFunc=this._goldAdd.bind(this);var t=e.goldValue;return e.isMine?this.addOwnerGold(t):this._addOthersGold(t),e},addOwnerGold:function(e){e&&(this._ownerGold+=e,this._setOwnerGold(this._ownerGold),this._addOthersGold(e))},_addOthersGold:function(e){e||(e=0),this._areaGold+=e,this._setAreaGold(this._areaGold)},_setOwnerGold:function(e){e?(this.label_ownerValue.node.parent.active=!0,this.label_ownerValue.string=G_TOOL.changeMoney(e),this.label_resultMultiple.string="",this._changeDownLabel(this.label_ownerValue.node,!1)):this.label_ownerValue.node.parent.active=!1},_setAreaGold:function(e){e?this.label_areaValue.string=G_TOOL.changeMoney(e):this.label_areaValue.string=""},showOwnerResult:function(){if(!(this._ownerGold<1)){var e=G_TOOL.changeMoney(this._ownerGold);if(this._changeDownLabel(this.label_ownerValue.node,this._isWin),this._isWin){this.label_resultMultiple.string="X"+this._multiple,this.label_ownerValue.fontSize=50;var t=this._ownerGold*this._multiple,i={startNum:0,targetNum:t,label:this.label_ownerValue,formatStr:"",callFunc:function(){this.label_ownerValue.string=G_TOOL.changeMoney(t)}.bind(this)};this.comp_scrollValue.scrollLabel(i)}else e="-"+e,this.label_resultMultiple.string="",this.label_ownerValue.string=e,this.label_ownerValue.node.color=this._loseColor}},_scrollCall:function(){},_setMultiple:function(){var e=this._multiple+"倍";this.label_multiple.string=e},_addOneGoldImg:function(){if(this._goldFrame){var e=this._curGoldNum/this._maxAdaptGold;e=Math.min(Math.max(e,.55),1);var t=G_TOOL.getRandomArea(this._minGoldX*e,this._maxGoldX*e),i=G_TOOL.getRandomArea(this._minGoldY*e,this._maxGoldY*e),n=this._getGold();n.position=cc.p(0,0),n.runAction(cc.moveTo(.35,t,i)),this._curGoldNum+=1}},removeOneGoldImg:function(){var e=this.node_goldContainer.children[0];e&&this._removeGold(e),this._curGoldNum-=1},_getGold:function(){this._pool||(this._pool=new cc.NodePool("Grab_oneTable"+this.num_result));var e=this._pool.get();if(!e){e=new cc.Node;var t=e.addComponent(cc.Sprite);t.spriteFrame=this._goldFrame}return e.parent=this.node_goldContainer,e.scale=1/this.node.parent.scale*this._goldScale,e.active=!0,e},_removeGold:function(e){e.stopAllActions(),e.active=!1,this._pool.put(e)},_clearGoldImg:function(){var e=this.node_goldContainer.children;for(var t in e)e[t].destroy();this._curGoldNum=0},setTouchEnable:function(e){e?this.node.on(cc.Node.EventType.TOUCH_START,this.OnClick_table,this):this.node.off(cc.Node.EventType.TOUCH_START,this.OnClick_table,this)},_changeDownLabel:function(e,t){t?(e.anchorX=1,e.x=.47*e.parent.width):(e.anchorX=.5,e.x=0)},getWorldPos:function(){var e=this.node.parent.position,t=this.node.parent.scale;return cc.p(e.x+this.node.x*t,e.y+this.node.y*t-.08*this.node.height)},getResultType:function(){return this.num_result},setTableWin:function(){this._isWin=!0},getGrabGold:function(){return this._ownerGold*this._multiple},getLostGold:function(){return this._ownerGold}}),cc._RFpop()},{}],Grab_playerBlock:[function(e,t,i){"use strict";cc._RFpush(t,"96991gtPcZLnLBL5qF9FsyE","Grab_playerBlock"),cc.Class({"extends":cc.Component,properties:{_siteImg:null,_chooseMoneyLevel:null,_dict_chooseMoney:null,_callFunc:null,_defaultHeadFrame:null,_valueDict:null,_seatMyselfComp:null,_data_betting:null,_goldValueEX:null,_isSending:null,_dict_choosed:null,_curGoldValue:null,_grabGold:null,_playerName:null,_headUrl:null,_grabTimes:null,_seatIndex:null,_resultChangeMoney:null,_playerID:null,node_headImg:{"default":null,type:cc.Node,displayName:"头像"},label_playerName:{"default":null,type:cc.Label,displayName:"玩家名"},node_goldValue:{"default":null,type:cc.Node,displayName:"拥有金币"},_playerType:0,playerType:{set:function(e){this._playerType=e},get:function(){return this._playerType},type:G_TYPE.playerType,displayName:"玩家类型"},prefab_goldValue:cc.Prefab},onLoad:function(){this._init()},_init:function(){this._dict_chooseLevel=G_Config_grab.dict_moveGoldNum,this._goldValueCompName="Obj_goldResultEffect",this._chooseMoneyLevel=0,this._valueDict=GG.grabMgr.getMyselfComp().getMoneyChooseDict()},start:function(){},setPlayerData:function(e){e&&(this.node.active=!0,this.clearData(),e.coin>=0?this.setGoldValue(e.coin):this.setGoldValue(0),e.seatIndex&&(this._seatIndex=e.seatIndex),this._playerName=e.nickname,this._setPlayerName(this._playerName),this._setHeadImg(e.icon),this._playerID=e.playerId)},setSelfInfo:function(e){e.chooseDict&&(this._dict_chooseMoney=e.chooseDict);var t=this.node.getChildByName("homeName");t&&e.roomName&&(t.getComponent(cc.Label).string=e.roomName)},clearData:function(){this._dict_choosed={},this._grabGold=0,this._goldValueEX=0,this._grabTimes=0,this._isSending=!1,this._data_betting=null,this._resultChangeMoney=null},_refreshGoldShow:function(){this.node_goldValue.getComponent(cc.Label).string=G_TOOL.changeMoney(this._curGoldValue)},_doChoose:function(e,t){this._dict_choosed[e]?this._dict_choosed[e]+=t:this._dict_choosed[e]=t},touchGrabArea:function(e,t){var i=this._dict_chooseMoney[this._chooseMoneyLevel];if(this._callFunc=t,i>this._curGoldValue){var n={tipIndex:21};GG.tipsMgr.showTxtTip(n)}else if(G_Config_common.isLocal)e.startPos=this.getWorldPos(),this.forceGrabReturn(e,i,e.tableIndex);else{if(this._isSending)return;e.startPos=this.getWorldPos(),e.goldValue=i,this._data_betting=e;var o={matchId:GG.grabMgr.getMatchID(),type:G_TYPE.net_gameModule.grab,item:e.tableIndex+"_W",gold:i};this._isSending=!0,GG.socketMgr.SendMsg(NetType.s_doGrab,o),GG.socketMgr.registerLong(NetType.r_doGrab_return,this.net_grabReturn.bind(this))}},net_grabReturn:function(e){this._isSending=!1;var t=e.tip;if(t.code!=G_TYPE.serverCodeType.success){var i={tipIndex:19,retainTime:3,showStr:t.tip};return void GG.tipsMgr.showTxtTip(i)}if(t.code==G_TYPE.serverCodeType.matchNonExistent)return void GG.tipsMgr.showConfirmTip_ONE(t.tip,function(){var e={roomId:GG.bull100Mgr.getHomeID(),isBreak:!0};GG.socketMgr.SendMsg(NetType.s_grab_Exit,e)});if(this._data_betting){var n=G_OBJ.data_grabBetting();for(var o in this._data_betting)o&&(n[o]=this._data_betting[o]);this._data_betting=null,n.goldValue=e.bet.gold,n.goldNum=parseInt(this._dict_chooseLevel[this._chooseMoneyLevel+1]),this._doChoose(n.tableIndex,n.goldNum),this._grabGold+=n.goldValue,this._goldValueEX+=n.goldValue,this.setGoldValue(e.nbSelf.balance),GG.grabMgr.getBtnsComp().changeBet(this._curGoldValue),this._grabTimes+=1,this._callFunc&&(this._callFunc(n),this._callFunc=null)}},forceGrabReturn:function(e,t,i){e.goldValue=t,this._grabGold+=t,this._goldValueEX+=t,this.setGoldValue(this._curGoldValue-t);var n=parseInt(this._dict_chooseLevel[this._chooseMoneyLevel+1]);e.goldNum=n,this._doChoose(i,n),this._grabTimes+=1,this._callFunc&&(this._callFunc(e),this._callFunc=null)},setResultInfo:function(e,t){t&&this.setGoldValue(t),this._resultChangeMoney=e},setResultGoldInfo:function(e){return e.targetPos=this.getWorldPos(),e},showResultGold:function(){return!!this._resultChangeMoney&&(this._refreshGoldShow(),this._showGoldCount(this._resultChangeMoney),!0)},_showGoldCount:function(e){if(e){var t=cc.instantiate(this.prefab_goldValue);t.parent=this.node,t.zIndex=2,t.getComponent(this._goldValueCompName).showGrabGold(e),t.scale=.1;var i,n;n=.3*this.node.width,this.playerType==G_TYPE.playerType.owner?i=this.node.scale:this.playerType==G_TYPE.playerType.others&&(i=this.node.parent.scale,this.node.parent.x>cc.visibleRect.width/2&&(n*=-1));var o=G_Config_grab.time_goldOnHead,s=cc.moveTo(o,n,.75*this.node.height),a=cc.scaleTo(o,1),r=cc.fadeOut(2*o);t.runAction(cc.sequence(cc.spawn(s,a),r,cc.callFunc(this._labelMoveEnd,this,e)))}},_labelMoveEnd:function(e,t){e.destroy()},_payGold:function(e){if(this._curGoldValue-=e,this._curGoldValue<=0){this._curGoldValue=0;var t=G_DATA.getChinese(21);if(t){({showStr:t.content,showPos:G_Config_common.bottomTipPos,retainTime:t.retainTime})}}},_setHeadImg:function(e){this._defaultHeadFrame||(this._defaultHeadFrame=this.node_headImg.getComponent(cc.Sprite).spriteFrame),e?G_Config_common.isLocal?(this._headUrl="Heads/head01",cc.loader.loadRes(this._headUrl,cc.SpriteFrame,function(e,t){this.node_headImg.getComponent(cc.Sprite).spriteFrame=t}.bind(this))):(this._headUrl=G_DATA.getResNetRoot(e),GG.resMgr.getHeadImg(this._headUrl,function(e){this.node_headImg.getComponent(cc.Sprite).spriteFrame=e}.bind(this))):this.node_headImg.getComponent(cc.Sprite).spriteFrame=this._defaultHeadFrame},_setPlayerName:function(e){e||(e=""),e=G_TOOL.getNameLimit(e,10,!0),this.label_playerName.string=e},bindSeatMyself:function(e){this._seatMyselfComp=e},bindSiteImg:function(e){this._siteImg=e},setGoldValue:function(e){this._curGoldValue=e,this.node_goldValue.getComponent(cc.Label).string=G_TOOL.changeMoney(e),this._seatMyselfComp&&this._seatMyselfComp.setGoldValue(e)},setPlayerType:function(e){this.playerType=e},reduceGoldEX:function(e){if(this._goldValueEX>=e)return this._goldValueEX-=e,0;var t=e-this._goldValueEX;return this._goldValueEX=0,t},getMoneyChooseDict:function(){return this._dict_chooseMoney},getPokerPoint:function(){return cc.p(this.node.x,this.node.y-this.node.height*this.node.scaleX*.5)},setChooseLevel:function(e){this._chooseMoneyLevel=e},getChooseLevel:function(){return this._chooseMoneyLevel},getWinGoldNum:function(e){return this._dict_choosed[e]},getAllGrabTable:function(){return this._dict_choosed},getWorldPos:function(){switch(this.playerType){case G_TYPE.playerType.owner:return this.node.position;case G_TYPE.playerType.system:return this.node.position;case G_TYPE.playerType.others:var e=this.node.parent;return cc.p(e.parent.x+e.x,e.parent.y+e.y)}},getPlayerName:function(){return this._playerName},getHeadUrl:function(){return this._headUrl},getGoldValue:function(){return this._curGoldValue},_getIsOverMaxGrabTimes:function(){return this._grabTimes>=GG.grabMgr.getMaxGrabTimes()},getSeatIndex:function(){return this._seatIndex},getIsGrab:function(){if(!this._dict_choosed)return!1;var e=0;for(var t in this._dict_choosed)if(e+=this._dict_choosed[t],e>0)break;return Boolean(e)},getIsBettingEnd:function(){return Boolean(this._grabGold)},getPlayerID:function(){return this._playerID},getIsShow:function(){return this.node.active},clearRecord:function(){this._grabGold=0,this._goldValueEX=0},hidePlayer:function(){this.node.active=!1},remove:function(){this.node.destroy()},onDestroy:function(){}}),cc._RFpop()},{}],Grab_playersLayer:[function(e,t,i){"use strict";cc._RFpush(t,"e3d36NeeddC047NW/XvKcvH","Grab_playersLayer"),cc.Class({"extends":cc.Component,properties:{_playerNum:null,_dict_playerBlocks:null,_dict_playerByID:null,node_owner:cc.Node,node_system:cc.Node,node_playerContainer:{"default":null,type:cc.Node,displayName:"所有玩家容器"},prefab_playerBlock:cc.Prefab,comp_seatsContainer:{"default":null,type:e("Obj_seatsContainer"),displayName:"座位容器"}},onLoad:function(){this._init()},_init:function(){this._playerCompName="Grab_playerBlock",this._dict_playerBlocks={},this._dict_playerByID={},this._playerNum=0},setStartInfo:function(e,t,i){for(var n,o,s,a,r={},l=GG.getPlayer().getPlayerID(),c=e.length,_=0;_<c;_++)o=e[_],n=o.seatIndex,s=o.player,s.seatIndex=n,r[n]=s;for(var n in r){if(s=r[n],s&&(this._dict_playerByID[s.playerId]=n),s&&s.playerId==l)for(var h in s)"seatIndex"==h&&0==s[h]||(t[h]=s[h]);n<1||(a=this._addOnePlayer(n),a&&a.setPlayerData(s),s&&s.playerId==l&&this.getMyselfComp().bindSeatMyself(a))}for(var u=this.comp_seatsContainer.getSeatsNum(),_=0;_<u;_++)n=_+1,r[n]||this._removeOnePlayer(n);GG.grabMgr.checkMyselfInfo(e)&&(!isNaN(t.playerId)&&t.playerId>0&&this.showOwner(t),this.showSystem(i))},showOwner:function(e){this.getMyselfComp().setPlayerData(e),this.getMyselfComp().setSelfInfo(e),GG.grabMgr.initButtonInfo()},enterOnePlayer:function(e,t){var i=/^\+?[1-9][0-9]*$/;if(i.test(e)){t.seatIndex=e,this._hidePlayer(e,t.playerId);var n=this._addOnePlayer(e);n&&n.setPlayerData(t)}},showSystem:function(e){e.moneyChoose=0,this.node_system.getComponent(this._playerCompName).setPlayerData(e)},clearData:function(){},_hidePlayer:function(e,t){var i;for(var n in this._dict_playerBlocks)i=this._dict_playerBlocks[n],n==e||i&&i.getPlayerID()==t&&this._removeOnePlayer(n)},_addOnePlayer:function(e){var t=this._dict_playerBlocks[e];if(!t){var i=cc.instantiate(this.prefab_playerBlock),n=G_TOOL.adaptSize(i.width,i.height);i.width=n.width,i.height=n.height,i.parent=this.node_playerContainer,i.position=this.comp_seatsContainer.addOnePlayer(e);var t=i.getComponent(this._playerCompName);this._dict_playerBlocks[e]=t}return this._playerNum+=1,t},_removeOnePlayer:function(e){var t=this._dict_playerBlocks[e];t&&t.getIsShow()&&(t.hidePlayer(),this.comp_seatsContainer.onePlayerLeave(e),this._playerNum-=1)},_clearAllPlayer:function(){for(var e in this._dict_playerBlocks)this._removeOnePlayer(e)},setWinTableResult:function(e){var t,i=[];for(var n in this._dict_playerBlocks)t=this._dict_playerBlocks[n],t.getIsShow()&&(i=i.concat(this._checkResult(e,t)));t=this.getMyselfComp(),i=i.concat(this._checkResult(e,t)),GG.grabMgr.playResultGoldMove(i)},_checkResult:function(e,t){var i,n,o=[];for(var s in e)if(i=e[s],n=t.getWinGoldNum(i)){var a={};a.goldNum=n,a.tableIndex=i,a=t.setResultGoldInfo(a),o.push(a)}return o},showAllGoldResult:function(){var e,t,i;for(var n in this._dict_playerBlocks)e=this._dict_playerBlocks[n],e.getIsShow()&&(i=e.showResultGold(),t||(t=i));return i=this.getMyselfComp().showResultGold(),t||(t=i),t},setMyselfMoney:function(e,t){this.getMyselfComp().setResultInfo(e,t)},getCompByIndex:function(e){return this._dict_playerBlocks[e]},getPlayerByID:function(e){return this.getCompByIndex(this._dict_playerByID[e])},getMyselfComp:function(){return this.node_owner.getComponent(this._playerCompName)},getPokerPos:function(){return this.node_system.getComponent(this._playerCompName).getPokerPoint()},getSystemComp:function(){return this.node_system.getComponent(this._playerCompName)}}),cc._RFpop()},{Obj_seatsContainer:"Obj_seatsContainer"}],Grab_pokerLayer:[function(e,t,i){"use strict";cc._RFpush(t,"7367eR4I8tHuLC3vrJVwjYL","Grab_pokerLayer"),cc.Class({"extends":cc.Component,properties:{_pokerShowPos:null,_pokerNum:null,_StartPos:null,_pokerW:null,_pokerH:null,_pokerOffX:null,_callFunc:null,_curResultNum:null,_list_pokers:null,prefab_poker:cc.Prefab,atlas_pokerResult:{"default":null,type:cc.SpriteAtlas,displayName:"显示牛几图集"}},onLoad:function(){this._init()},_init:function(){this._pokerCompName="Obj_poker",this._moveTime=G_Config_grab.time_pokerMove,this._delayTime=G_Config_grab.delayTime_pokerMove,this._openMoveTime=G_Config_grab.time_openMovePoker,this._winPokerOff=G_Config_grab.num_winPokerOff,this._maxPokerNum=5,this._pokerNum=0,this._list_pokers=[]},setStartInfo:function(e,t){this._StartPos=e,this._pokerShowPos=cc.p(t.x,t.y),this._pokerW&&(this._pokerShowPos=cc.p(this._pokerShowPos.x-.5*this._pokerW,this._pokerShowPos.y-.5*this._pokerH))},clearData:function(){this.node.stopAllActions(),this._pokerNum=0,this._flyNum=0;for(var e=0;e<this._maxPokerNum;e++)this._list_pokers[e]&&this._delOnePoker(this._list_pokers[e]);this._pokerResult&&(this._pokerResult.destroy(),this._pokerResult=null)},showPokerEX:function(e){this._curResultNum=e.pokerResult?e.pokerResult:0,this._flyNum=0;var t=e.pokerInfoList;if(t){var i;if(1==e.startPokerIndex)this._pokerNum=0,i=this._addOnePokerEX(0,t[0],e.isFlyEffect);else for(var n=1;n<t.length;n++)i=this._addOnePokerEX(n,t[n],e.isFlyEffect);i&&(i._flyCall=e.callFunc),GG.audioMgr.playSound(14)}},_addOnePokerEX:function(e,t,i){var n=this._list_pokers[e];return n||(n=this._createPoker(),n.zIndex=e,this._list_pokers[e]=n),this._resetPokerInfo(n,t.pokerIndex),n.getComponent(this._pokerCompName).clearAllActions(),n.getComponent(this._pokerCompName).showPokerNegative(),n.active=!0,i?(n.position=this._StartPos,this._addFlyAction(n,t.isOpen)):(this._addNoFly(n),t.isOpen&&n.getComponent(this._pokerCompName).showPokerPlus()),this._pokerNum+=1,this._flyNum+=1,n},_createPoker:function(){var e=new cc.instantiate(this.prefab_poker);return e.parent=this.node,e.scale=.5,e.active=!0,e},_resetPokerInfo:function(e,t){var i=G_DATA.getPokerInfo(t),n=e.getComponent(this._pokerCompName);n.setPokerInfo(i.pokerType,i.pokerValue,!1)},_addFlyAction:function(e,t){e.getComponent(this._pokerCompName);this._pokerW||this._setPokerConfigInfo(e);var i=cc.delayTime(this._delayTime*this._flyNum),n=cc.moveTo(this._moveTime,this._getTargetPos());e.runAction(cc.sequence(i,n,cc.callFunc(this._moveEnd,this,t)))},_addNoFly:function(e){this._pokerW||this._setPokerConfigInfo(e),e.position=this._getTargetPos()},_moveEnd:function(e,t){if(t){var i=e.getComponent(this._pokerCompName);i.openPoker()}e._flyCall&&(e._flyCall(),e._flyCall=null)},_setPokerConfigInfo:function(e){var t=e.getComponent(this._pokerCompName),i=t.getPokerSize();this._pokerW=i.width*e.scaleX,this._pokerH=i.height*e.scaleX,this._pokerOffX=this._pokerW*G_Config_grab.num_pokerOffX,this._pokerShowPos=cc.p(this._pokerShowPos.x-.5*this._pokerW,this._pokerShowPos.y-.5*this._pokerH)},openPokers:function(e){this._callFunc=e;var t,i,n,o,s=0,a=(this.node.children,0);this._curResultNum>0&&(a=this._winPokerOff);for(var r=0;r<this._list_pokers.length;r++)t=this._list_pokers[r],t&&(n=t.getComponent(this._pokerCompName),n.showPokerPlus(),this._pokerW||this._setPokerConfigInfo(t),o=this._pokerShowPos.x,r>2&&(o+=a),t.position=cc.p(o,this._pokerShowPos.y),this._actOpenPoker(t,s*this._pokerOffX),s+=1,i=t);i._callFunc=this._showResult.bind(this),GG.audioMgr.playSound(16)},_actOpenPoker:function(e,t){var i=cc.moveTo(this._openMoveTime,e.x+t,e.y);e.runAction(cc.sequence(i,cc.callFunc(function(e){e._callFunc&&(e._callFunc(),e._callFunc=null)},this)))},_showResult:function(){var e=this._curResultNum,t=0==e?12:e;GG.audioMgr.playSound(t);var i=new cc.Node,n=this.node.children.length;this.node.addChild(i,n),i.position=cc.p(this._pokerShowPos.x+1*this._pokerW,this._pokerShowPos.y-10);var o,s=i.addComponent(cc.Sprite);o=e<1?G_RES_URL.atlas_pokerResult.noResult:G_RES_URL.atlas_pokerResult.resultImgName+e,s.spriteFrame=this.atlas_pokerResult.getSpriteFrame(o),i.scale=0;var a=cc.scaleTo(.25,.7),r=cc.scaleTo(.1,.42),l=cc.scaleTo(.1,.5);i.runAction(cc.sequence(a,r,l,cc.callFunc(this._showResultEnd,this))),this._pokerResult=i},_showResultEnd:function(){this._callFunc&&(this._callFunc(),this._callFunc=null)},_getTargetPos:function(){return G_TOOL.adaptPos(cc.p(this._pokerShowPos.x+this._pokerOffX*this._pokerNum,this._pokerShowPos.y))},_delOnePoker:function(e){e.getComponent(this._pokerCompName).clearAllActions(),e.getComponent(this._pokerCompName).showPokerNegative(),e.active=!1},getPokerNum:function(){return this._pokerNum}}),cc._RFpop()},{}],Grab_tablesLayer:[function(e,t,i){"use strict";cc._RFpush(t,"e4ec3rqaY5I0qKUPfGwL5Fi","Grab_tablesLayer"),cc.Class({"extends":cc.Component,properties:{_dict_tables:null,frame_gold:{"default":null,type:cc.SpriteFrame,displayName:"金币图片"}},onLoad:function(){this._init()},_init:function(){if(this._talbeCompName="Grab_oneTable",!this._dict_tables){this._dict_tables={};for(var e=this.node.children,t=0;t<e.length;t++){var i=e[t].getComponent(this._talbeCompName);this._dict_tables[i.getResultType()]=i}}},setStartInfo:function(e){var t={};t=e;var i;for(var n in this._dict_tables)i=this._dict_tables[n],i.setInfo(this.frame_gold,n,t[n])},clearData:function(){for(var e in this._dict_tables)this._dict_tables[e].clearData()},touchOneTable:function(e,t){return this._dict_tables[e].otherAddGold(t)},setTouchEnable:function(e){for(var t in this._dict_tables)this._dict_tables[t].setTouchEnable(e)},setTableWin:function(e){var t=this._dict_tables[e];return t.setTableWin(!0),t.getWorldPos()},showOwnerGold:function(e){for(var t in e)this._dict_tables[t].showOwnerResult()},getTablePos:function(e){return this._dict_tables[e].getWorldPos()},getTable:function(e){return this._dict_tables[e]},getWinGold:function(e){var t=function(t){for(var i=0;i<e.length;i++)if(t==e[i])return!0;return!1},i=0,n=0;for(var o in this._dict_tables){var s=t(o);s?n+=this._dict_tables[o].getGrabGold():i+=this._dict_tables[o].getLostGold()}var a=n-i;return a},startGoldEffect:function(){}}),cc._RFpop()},{}],Grab_topEffect:[function(e,t,i){"use strict";cc._RFpush(t,"cb93fp5RkNDeb3yh6PN0aG/","Grab_topEffect"),cc.Class({"extends":cc.Component,properties:{_aniCallFunc:null,_grabDoneCallFunc:null,_list_flags:null,node_aniContainer:{"default":null,type:cc.Node,displayName:"动画容器"},prefab_startAni:{"default":null,type:cc.Prefab,displayName:"开始动画"},prefab_winFlagAni:{"default":null,type:cc.Prefab,displayName:"赢钱旗帜"},prefab_grabDoneAni:{"default":null,type:cc.Prefab,displayName:"押注完成"}},onLoad:function(){},playGameStartAni:function(e){this.playStartAni("bull_start",e),GG.audioMgr.playSound(13)},playStartAni:function(e,t){e||(e=""),this._aniCallFunc=t,this._startGrabAni||(this._startGrabAni=cc.instantiate(this.prefab_startAni),this._startGrabAni.parent=this.node_aniContainer,this._startGrabAni.position=cc.visibleRect.center,this._startGrabAni.getComponent(dragonBones.ArmatureDisplay).addEventListener(dragonBones.EventObject.COMPLETE,this._startAniEnd,this)),this._startGrabAni.active=!0,this._startGrabAni.getComponent(dragonBones.ArmatureDisplay).playAnimation(e,1)},_startAniEnd:function(e){this._startGrabAni&&(this._startGrabAni.active=!1),this._aniCallFunc&&(this._aniCallFunc(),this._aniCallFunc=null)},forceStopStart:function(){
this._startGrabAni&&(this._startGrabAni.active=!1),this._aniCallFunc=null},playTouchStartAni:function(e){this.playGrabAni("platform_bet",e)},playGrabDoneAni:function(e,t){this.playGrabAni("platform_betOver",e,t)},playGrabAni:function(e,t,i){e||(e=""),this._grabDoneCallFunc=t,this._grabDoneAni||(this._grabDoneAni=cc.instantiate(this.prefab_grabDoneAni),this._grabDoneAni.parent=this.node_aniContainer,this._grabDoneAni.scale=G_Config_common.frameScale,this._grabDoneAni.position=cc.visibleRect.center,this._grabDoneAni.getComponent(dragonBones.ArmatureDisplay).addEventListener(dragonBones.EventObject.COMPLETE,this._grabDoneAniEnd,this)),this._grabDoneAni.pokerInfo=i,this._grabDoneAni.active=!0,this._grabDoneAni.getComponent(dragonBones.ArmatureDisplay).playAnimation(e,1)},_grabDoneAniEnd:function(e){this._grabDoneCallFunc&&(this._grabDoneCallFunc(this._grabDoneAni.pokerInfo),this._grabDoneCallFunc=null),this._grabDoneAni&&(this._grabDoneAni.active=!1)},playOneFlag:function(e){var t=this._getOneFlag();t.position=e,t.active=!0;var i=t.getComponent(dragonBones.ArmatureDisplay);i.playAnimation("",1)},clearFlag:function(){this.forceStopAllAni()},_getOneFlag:function(){return this._flagAni||(this._flagAni=cc.instantiate(this.prefab_winFlagAni),this._flagAni.parent=this.node_aniContainer,this._flagAni.scale=G_Config_common.frameScale),this._flagAni},forceStopAllAni:function(){for(var e,t=this.node_aniContainer.children,i=0;i<t.length;i++)e=t[i],e&&(e.active=!1);this._grabDoneCallFunc=null},clearAll:function(){this.forceStopStart(),this.forceStopAllAni(),this.node.stopAllActions()}}),cc._RFpop()},{}],Grab_topLayer:[function(e,t,i){"use strict";cc._RFpush(t,"dcc54iGPEZLnrgK9grY01fm","Grab_topLayer"),cc.Class({"extends":e("AutoDealing"),properties:{node_startImg:cc.Node},onLoad:function(){this._registerStart()},_registerStart:function(){this.node_startImg&&(this.node_startImg.active=!0,this.registerButton(this.node_startImg,this.OnClick_startImg,this)),G_Config_common.isLocal||(this.node_startImg.active=!1)},OnClick_startImg:function(e){G_Config_common.isLocal?(this.node_startImg.active=!1,GG.grabMgr.forceStart()):GG.socketMgr.connectSocket(this._connectEnd.bind(this))},_connectEnd:function(e){e&&(this.node_startImg.active=!1,this._login())},_login:function(){var e={userId:GG.getPlayer().getPlayerID()};GG.socketMgr.SendMsg(NetType.s_login,e)},getTopEffect:function(){return this.getComponent("Grab_topEffect")}}),cc._RFpop()},{AutoDealing:"AutoDealing"}],HTTPMgr:[function(e,t,i){"use strict";cc._RFpush(t,"d63f2BZmKhJNpeBm9NQSiKV","HTTPMgr");var n=cc.Class({_list_request:null,_isRequesting:null,_isAddHeart:null,_failTime:null,properties:{},ctor:function(){this._list_request=[],this._isRequesting=!1,this._isAddHeart=!1},_initTimeOutList:function(){this._list_longTimeOutUrl=[G_DIALOG_URL.recordUrl,G_DIALOG_URL.accountUrl]},sendHttpLogin:function(e,t,i){this._list_longTimeOutUrl||this._initTimeOutList(),this._failTime=G_Config_common.connectTimeOut;for(var n=0;n<this._list_longTimeOutUrl.length;n++)e==this._list_longTimeOutUrl[n]&&(this._failTime=15);e.split("/");this._list_request.splice(0,0,{url:e,sendData:t,callFunc:i}),this._nextRequest()},_nextRequest:function(){if(!this._isRequesting){var e=this._list_request.pop();this._cancelTimeOutCheck(),e?this._sendHttp(e.url,e.sendData,e.callFunc):GG.topTouchLayer.closeNetRequest()}},_sendHttp:function(e,t,i){var n=new XMLHttpRequest;this._isRequesting=!0,GG.topTouchLayer.showNetRequest();var o=this;this._startTimeOutCheck(function(){o._sendHttp(e,t,i)}),n.onreadystatechange=function(){e.split("/");if(4==n.readyState&&200==n.status){var o=n.responseText;o[0];if(e==G_DIALOG_URL.logout)o=!0;else try{o=JSON.parse(n.responseText)}catch(s){return o=null,void GG.showReconnect(function(){this._sendHttp(e,t,i)}.bind(this))}i&&i(o),this._isRequesting=!1,this._nextRequest()}}.bind(this),n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(t)},addHeart:function(){if(!this._isAddHeart){this._isAddHeart=!0;var e=this;setInterval(function(){e.timedRefresh()},6e4)}},timedRefresh:function(){this.sendHttpLogin(G_DIALOG_URL.timedRefreshUrl,{t:new Date},function(e){}.bind(this))},_startTimeOutCheck:function(e){var t=cc.find("Canvas/emptyNode");t&&(t.stopAllActions(),t.runAction(cc.sequence(cc.delayTime(this._failTime),cc.callFunc(function(){GG.topTouchLayer.closeNetRequest(),GG.showReconnect(function(){e&&(e(),e=null),GG.topTouchLayer.showNetRequest()})},this))))},_cancelTimeOutCheck:function(){var e=cc.find("Canvas/emptyNode");e&&e.stopAllActions()}});t.exports=n,cc._RFpop()},{}],M_Player:[function(e,t,i){"use strict";cc._RFpush(t,"20f361J4TtC0qM5pIHpvoN4","M_Player");var n=cc.Class({_playerID:null,_playerToken:null,_playerName:null,_playerUID:null,_playerGold:null,_dict_systemSet:null,_dict_baseInfo:null,_inHomeData:null,_outHomeData:null,_reloadSceneInfo:null,_goldListenerFunc:null,ctor:function(){},setPlayerToken:function(e){this._playerToken=e.token,this._playerUID=e.uid},setPlayerID:function(e){this._playerID=e},setPlayerName:function(e){this._playerName=e},setSystemSet:function(e){this._dict_systemSet=e},setBaseInfo:function(e){this._dict_baseInfo||(this._dict_baseInfo={});var t=e.data[0];if(t)for(var i in t)switch(this._dict_baseInfo[i]=t[i],i){case"id":this.setPlayerID(t[i]);break;case"coin":this.setPlayerGold(t[i])}},setInHomeData:function(e){this._inHomeData=e},setOutHomeData:function(e){this._outHomeData=e},setReloadSceneInfo:function(e){this._reloadSceneInfo=e},setPlayerGold:function(e){this._playerGold=e,this._goldListenerFunc&&this._goldListenerFunc(e)},getPlayerGold:function(){return this._playerGold},getPlayerID:function(){return this._playerID},getPlayerToken:function(){return this._playerToken},getPlayerName:function(){return this._dict_baseInfo.nickname},getSystemSet:function(){return this._dict_systemSet},getBaseInfo:function(){return this._dict_baseInfo},getHeadImgUrl:function(){return this._dict_baseInfo.avatarUrl},getInHomeData:function(){var e=this._inHomeData;return this._inHomeData=null,e},getOutHomeData:function(){var e=this._outHomeData;return this._outHomeData=null,e},getUID:function(){return this._playerUID},getGameID:function(){return 1},getReloadSceneInfo:function(){var e=this._reloadSceneInfo;return this._reloadSceneInfo=null,e},registerGoldListener:function(e,t){t?this._goldListenerFunc=e:this._goldListenerFunc=null},whenExit:function(){}});t.exports=n,cc._RFpop()},{}],M_PokerConfig:[function(e,t,i){"use strict";cc._RFpush(t,"569adFbOfBJaJs2ypDlVtW8","M_PokerConfig"),cc._RFpop()},{}],Mask_extend:[function(e,t,i){"use strict";cc._RFpush(t,"57e04/dWKlETa5e+LjTXGw7","Mask_extend");var n=cc._RendererInSG,o=cc.Enum({RECT:0,ELLIPSE:1,IRR:2});cc.Class({"extends":n,editor:{requireComponent:cc.PolygonCollider},properties:{_clippingStencil:{"default":null,serializable:!1},_Case:null,_type:2,_segements:64,_area:{"default":function(){return[cc.v2(-50,-50),cc.v2(-50,50),cc.v2(50,50),cc.v2(50,-50)]},type:[cc.Vec2]},live:{"default":!0,tooltip:"是否实时刷新多边形（编辑时开启，运行看需求，主要怕影响性能？）"},type:{get:function(){return this._type},set:function(e){this._type=e,this._refreshStencil()},type:o},segements:{get:function(){return this._segements},set:function(e){e<3&&(e=3),this._segements=e,this._refreshStencil()},type:cc.Integer}},statics:{Type:o},lateUpdate:function(){this.live&&this._refreshStencil()},_createSgNode:function(){return this._clippingStencil=new cc.DrawNode,this._Case=new cc.ClippingNode(this._clippingStencil),this._Case.setInverted(0),this._Case.setAlphaThreshold(1),this._Case},_initSgNode:function(){},_hitTest:function(e){var t=this.node.getContentSize(),i=t.width,n=t.height,s=this.node.getNodeToWorldTransform();if(this._type===o.RECT){var a=cc.rect(0,0,i,n);cc._rectApplyAffineTransformIn(a,s);var r=e.x-a.x,l=a.x+a.width-e.x,c=e.y-a.y,_=a.y+a.height-e.y;return r>=0&&l>=0&&_>=0&&c>=0}var h=i/2,u=n/2,d=s.a*h+s.c*u+s.tx,p=s.b*h+s.d*u+s.ty,m=e.x-d,f=e.y-p;return m*m/(h*h)+f*f/(u*u)<1},onEnable:function(){this._refreshStencil(),this._super(),this.node.on("size-changed",this._refreshStencil,this),this.node.on("anchor-changed",this._refreshStencil,this)},onDisable:function(){this._super(),this.node.off("size-changed",this._refreshStencil,this),this.node.off("anchor-changed",this._refreshStencil,this)},_calculateCircle:function(e,t,i){for(var n=[],o=2*Math.PI/i,s=0;s<i;++s)n.push(cc.v2(t.x*Math.cos(o*s)+e.x,t.y*Math.sin(o*s)+e.y));return n},_refreshStencil:function(){this._area=this.getComponent(cc.PolygonCollider).points;var e=this.node.getContentSize(),t=this.node.getAnchorPoint(),i=e.width,n=e.height,s=-i*t.x,a=-n*t.y,r=cc.color(255,255,255,0);if(this._clippingStencil.clear(),this._type===o.RECT){var l=[cc.v2(s,a),cc.v2(s+i,a),cc.v2(s+i,a+n),cc.v2(s,a+n)];this._clippingStencil.drawPoly(l,r,0,r)}else if(this._type===o.IRR)this._clippingStencil.drawPoly(this._area,r,0,r);else if(this._type===o.SP)this._clippingStencil=this.A;else{var c=cc.v2(s+i/2,a+n/2),_={x:i/2,y:n/2},h=this._segements;this._clippingStencil.drawPoly(this._calculateCircle(c,_,h),r,0,r)}}});cc._RFpop()},{}],NetConfig:[function(e,t,i){"use strict";cc._RFpush(t,"e648ajm8FRKKbTsCIIs0DrC","NetConfig");var n={s_login:"NbLogin",s_enterHouse:"NbIntoRoomIn",r_tips:"NbTip",r_enterHouseReturn:"NbIntoRoomOut",r_idleTimeOut:"NbTimeoutOut",s_doGrab:"NbBet",r_getAnnouncement:"NbGameAnnouncement",r_passiveOut:"NbKickOut",s_calculating:"NbClassicCounting",s_grabDealerOrSetScore:"NbClassicMultipleIn",r_setScoreEnd:"NbClassicBetMultipleOverOut",r_grabDealerEnd:"NbClassicDealerMultipleOverOut",r_getPlayersInfo:"NbClassicInitializeOut",r_oneGrab:"NbClassicMultipleOut",r_startInfo:"NbClassicNewMatchOut",r_oneInsert:"NbClassicSeatOut",r_calculateEnd:"NbClassicSettleOut",r_grab_reStartGame:"NbBullBaoStartMatchOut",r_doGrab_return:"NbBetOut",r_otherGrab:"NbBetBatchOut",r_grabEnd:"NbSettleMatchOut",r_mineHaveGrab:"NbSettlePlayerOut",r_oneInHome:"NbSeatOut",s_grab_Exit:"NbExitRoomIn",r_grab_exitReturn:"NbExitRoomOut",r_bull100_reStartGame:"NbStartMatchOut",s_bull100_dealerUp:"NbUpDealerIn",s_bull100_dealerContinue:"NbKeepDealerIn",s_bull100_dealerDown:"NbDownDealerIn",s_bull100_getDealerList:"NbUpDealerListIn",r_bull100_dealerDownWarning:"NbWarningDealerOut",r_bull100_dealerListReturn:"NbUpDealerOut",r_bull100_downDealerReturn:"NbDownDealerOut"};window.NetType=n,cc._RFpop()},{}],Obj_backgroundEffect1:[function(e,t,i){"use strict";cc._RFpush(t,"28a78rvxppJzKoK8JjQGnX/","Obj_backgroundEffect1"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){var e=this.node.children;for(var t in e){var i=e[t];i&&this._showEffect(i)}},_showEffect:function(e){e.scale=0,e.runAction(cc.sequence(cc.delayTime(G_TOOL.getRandomArea(1,10)/10),cc.callFunc(this._setRepeat,this)))},_setRepeat:function(e){var t=cc.scaleTo(G_Config_classic.list_backgroundEffect1[0],G_Config_classic.list_backgroundEffect1[1]),i=cc.scaleTo(G_Config_classic.list_backgroundEffect1[0],0);e.runAction(cc.repeatForever(cc.sequence(t,i)))}}),cc._RFpop()},{}],Obj_calculateResult:[function(e,t,i){"use strict";cc._RFpush(t,"ef458IN8zhBxrU698dYUZ8d","Obj_calculateResult"),cc.Class({"extends":cc.Component,_choosePokerNum:null,properties:{_tip_trueResult:null,_callFunc:null,label_01:cc.Label,label_02:cc.Label,label_03:cc.Label,label_04:cc.Label},onLoad:function(){this._choosePokerNum=0,this._list_label=[this.label_01,this.label_02,this.label_03,this.label_04]},showCalculate:function(){this.node.active=!0},chooseOnePoker:function(e){if(this._choosePokerNum>=G_Config_classic.num_maxChoose)return!1;if(this._list_label[this._choosePokerNum].string=e.toString(),this._choosePokerNum+=1,this._choosePokerNum>=G_Config_classic.num_maxChoose){var t=this._getResult();this._list_label[this._choosePokerNum].string=t.toString()}return!0},cancelOnePoker:function(){this._tip_trueResult&&(this._tip_trueResult.forceEnd(),this._tip_trueResult=null),this._choosePokerNum-=1,this._list_label[this._choosePokerNum].string="",this._list_label[G_Config_classic.num_maxChoose].string=""},_getResult:function(){for(var e=0,t=0;t<this._choosePokerNum;t++)e+=parseInt(this._list_label[t].string);return e},_checkCalculate:function(e){},_countDownEnd:function(){this._tip_trueResult=null,this._callFunc&&this._callFunc()},showTrueResult:function(e,t){if(!(this._choosePokerNum<G_Config_classic.num_maxChoose)){this._callFunc=t;var i=this._getResult();if(i%10==0){var n=G_DATA.getChinese(17),o=G_DATA.getChinese(16),s=o.content.split(","),a=G_TOOL.formatStr(n.content,s[e]),r={showStr:a,showPos:cc.p(this.node.x,this.node.y+this.node.height),retainTime:n.retainTime,callBack:this._countDownEnd.bind(this)};this._tip_trueResult=GG.tipsMgr.showCountDownTip(r)}}},showOverTouch:function(){var e=G_DATA.getChinese(5),t={showStr:e.content,showPos:cc.p(this.node.x,this.node.y+this.node.height),retainTime:e.retainTime,callBack:this._showCountDown.bind(this)};GG.tipsMgr.showTxtTip(t),this._hideCountDown()},_showCountDown:function(){this._tip_trueResult&&this._tip_trueResult.showByOpacity()},_hideCountDown:function(){this._tip_trueResult&&this._tip_trueResult.hideByOpacity()},hideCalculate:function(){this.node.active&&(this._tip_trueResult&&(this._tip_trueResult.forceEnd(),this._tip_trueResult=null),this.onClear(),this.node.active=!1)},onClear:function(){for(var e in this._list_label)this._list_label[e].string="";this._choosePokerNum=0}}),cc._RFpop()},{}],Obj_cell_trend:[function(e,t,i){"use strict";cc._RFpush(t,"e1879pYLx1Gf6hjS0kLc/eK","Obj_cell_trend"),cc.Class({"extends":cc.Component,properties:{_list_labelSort:null},onLoad:function(){this._failColor=new cc.Color(187,111,110),this._winColor=new cc.Color(58,185,250),this._failStr="小",this._winStr="大",this._list_labelSort={};var e=this.node.children;this._list_labelSort[G_TYPE.pokerTypeStr.spade]=e[0],this._list_labelSort[G_TYPE.pokerTypeStr.heart]=e[1],this._list_labelSort[G_TYPE.pokerTypeStr.club]=e[2],this._list_labelSort[G_TYPE.pokerTypeStr.diamond]=e[3]},setData:function(e){e||(e=[["SPADE",1],["DIAMOND",0],["CLUB",1],["HEART",0]]);for(var t=(this.node.children,0);t<e.length;t++)this._setLabelResult(this._list_labelSort[e[t][0]],parseInt(e[t][1]))},_setLabelResult:function(e,t){t?(e.color=this._winColor,e.getComponent(cc.Label).string=this._winStr):(e.color=this._failColor,e.getComponent(cc.Label).string=this._failStr)}}),cc._RFpop()},{}],Obj_coinEffect:[function(e,t,i){"use strict";cc._RFpush(t,"0f796fh/rJIb4s54HJEIHLg","Obj_coinEffect"),cc.Class({"extends":cc.Component,properties:{_coinAni:null},onLoad:function(){this._initPlayCoinAni()},_initPlayCoinAni:function(){this._coinAni||(this._coinAni=this.node.getComponent(dragonBones.ArmatureDisplay),this._coinAni.addEventListener(dragonBones.EventObject.COMPLETE,this._playCoinsEffectAni,this)),this.node.active=!0,this._coinAni.playAnimation("coins",1)},_playCoinsEffectAni:function(){this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){this._initPlayCoinAni()},this)))}}),cc._RFpop()},{}],Obj_confirmTip:[function(e,t,i){"use strict";cc._RFpush(t,"953a2PNGbdKQpEu8W0IIJ5g","Obj_confirmTip"),cc.Class({"extends":e("AutoDealing"),properties:{_callFunc:null,_callFunc2:null,_registerFunc:null,label_center:cc.Label,node_left:cc.Node,node_right:cc.Node,node_center:cc.Node,node_grayLayer:cc.Node},onLoad:function(){this._showTime=G_Config_common.time_confirmTipShow,this._maxScale=G_Config_common.scale_confirmTipMax,this._touchCompName="Obj_touchLimit"},showContent:function(e,t,i){this._callFunc=t,this._callFunc2=i,this.node.active=!0,this._showOneBtn(!1),this._setContent(e),this._showEffect(!0),this.node_grayLayer.getComponent(this._touchCompName).addTouchLimit(),this._registerFunc&&this._registerFunc(!0)},showContentEx:function(e,t){this._callFunc=t,this.node.active=!0,this._showOneBtn(!0),this._setContent(e),this._showEffect(!0),this.node_grayLayer.getComponent(this._touchCompName).addTouchLimit(),this._registerFunc&&this._registerFunc(!0)},Btn_touchLeft:function(e){this._callFunc2=null,this._showEffect(!1)},Btn_touchRight:function(e){this._callFunc=null,this._showEffect(!1)},Btn_touchCenter:function(e){this._showEffect(!1)},_showEffect:function(e){var t=this.node_center.parent;if(t.stopAllActions(),e){t.scale=0;var i=cc.scaleTo(this._showTime,this._maxScale),n=cc.scaleTo(this._showTime/2,1);t.runAction(cc.sequence(i,n))}else{t.scale=1;var i=cc.scaleTo(this._showTime/2,this._maxScale),n=cc.scaleTo(this._showTime,0);t.runAction(cc.sequence(i,n,cc.callFunc(this._removePage,this)))}},_setContent:function(e){e=e.replace(",","\n"),e=e.replace("，","\n"),this.label_center.string=e},_showOneBtn:function(e){this.node_right.active=!e,this.node_left.active=!e,this.node_center.active=e},_removePage:function(){this._registerFunc&&this._registerFunc(!1),this._callFunc&&(this._callFunc(),this._callFunc=null),this._callFunc2&&(this._callFunc2(),this._callFunc2=null),this.node_grayLayer.getComponent(this._touchCompName).cancelTouchLimit(),this.node.active=!1},closePage:function(){this._callFunc=null,this._callFunc2=null,this._showEffect(!1)},registerFunc:function(e,t){t?this._registerFunc=e:this._registerFunc=null}}),cc._RFpop()},{AutoDealing:"AutoDealing"}],Obj_countDownProgress:[function(e,t,i){"use strict";cc._RFpush(t,"9bcf6jOxYNHGon7BRMofV/U","Obj_countDownProgress"),cc.Class({"extends":cc.Component,_firstFrame:null,_callFunc:null,properties:{node_progress:cc.Node,frame_timeImage1:cc.SpriteFrame,frame_timeImage2:cc.SpriteFrame,label_count:cc.Label,font_green:cc.Font,font_orange:cc.Font,font_red:cc.Font},onLoad:function(){},_initData:function(){this._firstFrame=this.node_progress.getComponentInChildren(cc.Sprite).spriteFrame,this._progressBarSprite=this.node_progress.getComponentInChildren(cc.Sprite),this._progressComp=this.node_progress.getComponent(cc.ProgressBar)},showCountDown:function(e,t){this._firstFrame||this._initData(),isNaN(e)||(this.node.active=!0,this.node_progress.children[0].active=!0,this._callFunc=t,this._runTime=0,this._interval=.97,this._speedRate=1,this._curTime=e,this._firstTime=Math.min(Math.ceil(this._curTime*G_Config_classic.list_centerProgressTime[0]),this._curTime-1),this._secondTime=Math.max(Math.floor(this._curTime*G_Config_classic.list_centerProgressTime[1]),1),this._progressInterval=1/this._curTime,this._curTime+=1,this._runTime=this._interval,this._clearLabels(),this._progressComp.progress=1,this.schedule(this._let_update,.01))},_let_update:function(e){this._progressComp.progress-=this._progressInterval*e,this._runTime>=this._interval?(this._runTime=0,this._setNumImg()):this._runTime+=e},_setNumImg:function(){this._curTime-=1,this._curTime<=this._firstTime?this._curTime<=this._secondTime?this._curTime<=0?(this._callFunc&&this._callFunc(),this._callFunc=null,this._endSchedule()):(this._progressBarSprite.spriteFrame=this.frame_timeImage2,this.label_count.font=this.font_red,this.label_count.string=this._curTime):(this._progressBarSprite.spriteFrame=this.frame_timeImage1,this.label_count.font=this.font_orange,this.label_count.string=this._curTime):(this._progressBarSprite.spriteFrame=this._firstFrame,this.label_count.font=this.font_green,this.label_count.string=this._curTime)},_endSchedule:function(){this._curTime=0,this._progressComp.progress=0,this.unschedule(this._let_update),this.node.active=!1},getLeaveTime:function(){return this._curTime},forceEnd:function(){var e=this._callFunc;return this._callFunc=null,this._curTime=0,this._runTime=this._interval,e},_clearLabels:function(){this.label_count.string=""},onDestory:function(){this.unschedule(this._let_update)}}),cc._RFpop()},{}],Obj_dealScroll:[function(e,t,i){"use strict";cc._RFpush(t,"a9194v8KDNAMoLVXJItM1QP","Obj_dealScroll");cc.Class({"extends":cc.Component,properties:{_itemPrefab:null,_showItemNum:null,_itemHeight:null,_itemWidth:null,_itemOffX:null,_itemOffY:null,_pool:null,_scrollType:null,_viewW2:null,_lineNum:null},onLoad:function(){this._itemOffY=0,this._itemOffX=0},setData:function(e){this._initData(),this._itemPrefab=e.itemPrefab,this._lineNum=e.lineNum,this._scrollType=e.scrollType,this._scrollType||(this._scrollType=G_TYPE.scrollType.vertical)},_initData:function(){this._showItemNum=0,this._viewW2||(this._viewW2=.5*this.node.parent.width)},addOneItem:function(){var e=this._getOnePoolNode();switch(this._scrollType){case G_TYPE.scrollType.vertical:e.y=-this._showItemNum*(this._itemHeight+this._itemOffY);break;case G_TYPE.scrollType.horizontal:var t=-this._viewW2;e.x=t+this._showItemNum*(this._itemWidth+this._itemOffY);break;case G_TYPE.scrollType.bag:var i,t=-this._viewW2;i=0==this._showItemNum?0:this._showItemNum%this._lineNum;var n=Math.floor(this._showItemNum/this._lineNum);e.x=t+i*(this._itemWidth+this._itemOffY)+this._itemWidth/2,e.y=-n*(this._itemHeight+this._itemOffX)}return this._showItemNum+=1,this._resetContainerSize(),e},getItemByIndex:function(e){var t=this.node.children,i=t[e];return i?i:this.addOneItem()},clearItems:function(e){for(var t=this.node.children,i=t.length-1;i>e;i--)t[i]&&this._removePoolNode(t[i])},setContentSize:function(e,t){e&&(this.node.width=e),t&&(this.node.height=t)},_getOnePoolNode:function(){if(!this._itemPrefab)return null;this._pool||(this._pool=new cc.NodePool("Obj_dealScroll"+this._itemPrefab.name));var e=this._pool.get();return e||(e=cc.instantiate(this._itemPrefab),this._itemHeight||(this._itemHeight=e.height),this._itemWidth||(this._itemWidth=e.width)),e.parent=this.node,e.active=!0,e},_removePoolNode:function(e){e.active=!1,this._pool.put(e),this._showItemNum-=1,this._resetContainerSize()},_resetContainerSize:function(){var e,t;switch(this._scrollType){case G_TYPE.scrollType.vertical:t=this._itemWidth+this._itemOffX,e=this._showItemNum*(this._itemHeight+this._itemOffY);break;case G_TYPE.scrollType.horizontal:t=this._showItemNum*(this._itemWidth+this._itemOffX),e=this._itemHeight+this._itemOffY;break;case G_TYPE.scrollType.bag:t=this._lineNum*(this._itemWidth+this._itemOffX);var i=Math.ceil(this._showItemNum/this._lineNum);e=i*(this._itemHeight+this._itemOffY)}this.node.height=e,this.node.width=t},getShowItemNum:function(){return this._showItemNum},onDestroy:function(){this._pool&&this._pool.clear()}}),cc._RFpop()},{}],Obj_dealerListCell:[function(e,t,i){"use strict";cc._RFpush(t,"687f8AC+TdI2q0s9AnuqZPO","Obj_dealerListCell"),cc.Class({"extends":cc.Component,properties:{_dealerWord:null,sprite_headImg:{"default":null,type:cc.Sprite,displayName:"头像"},label_name:{"default":null,type:cc.Label,displayName:"名字"},label_gold:{"default":null,type:cc.Label,displayName:"金币"},prefab_dealerAni:{"default":null,type:cc.Prefab,displayName:"庄字动画"}},onLoad:function(){},setData:function(e){this._setHeadImg(this.sprite_headImg,e.headImg),this._setPlayerName(e.name),this._setGoldValue(e.gold),e.isDealer?this._addDealerWord():this._delDealerWord()},_setHeadImg:function(e,t){this._defaultHeadFrame||(this._defaultHeadFrame=e.spriteFrame),t?G_Config_common.isLocal?(this._headUrl="Heads/unknown1",cc.loader.loadRes(this._headUrl,cc.SpriteFrame,function(t,i){e.spriteFrame=i}.bind(this))):(this._headUrl=G_DATA.getResNetRoot(t),cc.loader.load(this._headUrl,function(t,i){if(t)console.log(t);else if(i){var n=new cc.SpriteFrame(i);e.spriteFrame=n}}.bind(this))):e.spriteFrame=this._defaultHeadFrame},_setPlayerName:function(e){e||(e=""),e=G_TOOL.getNameLimit(e),this.label_name.string=e},_setGoldValue:function(e){e||(e=0),this.label_gold.string=G_TOOL.changeMoney(e)},_addDealerWord:function(){this._dealerWord=cc.instantiate(this.prefab_dealerAni),this._dealerWord.parent=this.node,this._dealerWord.position=cc.p(.15*-this.node.width,.5*-this.node.height)},_delDealerWord:function(){this._dealerWord&&this._dealerWord.destroy()}}),cc._RFpop()},{}],Obj_dealerListSlider:[function(e,t,i){"use strict";cc._RFpush(t,"7110ckrbJVGjadOXy4EREkS","Obj_dealerListSlider"),cc.Class({"extends":cc.Component,properties:{_sliderComp:null,_ui_moveNum:null,_label_moveNum:null,_oneWordWidth:null,_offNum:null,_curMoveNum:null,_handleNode:null,_idleMoney:null,node_lightLine:{"default":null,type:cc.Node,displayName:"进度条"},node_touchLimit:{"default":null,type:cc.Node,displayName:"进度条触摸吞噬层"}},onLoad:function(){this._sliderComp=this.node.getComponent(cc.Slider),this._baseWordNum=4.5,this._time_numHide=2,this._addSliderEvent(),this._initMoveNum(),this._resetLightLine()},_addSliderEvent:function(){this._sliderComp.node.on("slide",this._sliderMove,this),this._sliderComp.node.on(cc.Node.EventType.TOUCH_END,this.sliderEnd,this);var e=this.node.getChildByName("Handle");if(e){e.getComponent(cc.Button);e.on(cc.Node.EventType.TOUCH_CANCEL,this.sliderEnd,this)}},_initMoveNum:function(){var e=this.node.getChildByName("Handle");e.children.length>0&&(this._ui_moveNum=e.children[0],this._label_moveNum=this._ui_moveNum.children[0].getComponent(cc.Label),this._oneWordWidth=this._ui_moveNum.width/this._baseWordNum)},setData:function(e,t,i){if(!e)return void this._setTouchLimit(!0);this._playerGold=e,this._offNum=t,this._minNum=i,this._idleMoney=this._playerGold-this._minNum;var n;this._playerGold<this._minNum?(this._setTouchLimit(!0),n=this._minNum,this._setGoldProgress(0)):this._playerGold<this._minNum+this._offNum?(this._setTouchLimit(!0),this._setGoldProgress(1),this._resetLightLine(),n=this._minNum):(this._setTouchLimit(!1),n=this._minNum,this._setGoldProgress(0)),this._setUIMoveNum(n),this._setMoveNumShow(!0),this._isShow=!0},_sliderMove:function(e){this._resetLightLine();var t=this._idleMoney*this._sliderComp.progress,i=Math.floor(t/this._offNum)*this._offNum;this._setUIMoveNum(i+this._minNum),this._setMoveNumShow(!0)},sliderEnd:function(){this._addTimeHide()},_setGoldProgress:function(e){this._sliderComp.progress=e,this._resetLightLine()},_resetLightLine:function(){this.node_lightLine.width=this.node.width*this._sliderComp.progress},_setUIMoveNum:function(e){this._curMoveNum=e,e+="";var t=e.length;this._ui_moveNum.width=t*this._oneWordWidth,this._label_moveNum.string=e},getMoveNum:function(){return this._curMoveNum},_setMoveNumShow:function(e){if(this._ui_moveNum){if(e&&this._ui_moveNum.active&&255==this._ui_moveNum.opacity)return;this._ui_moveNum.stopAllActions(),this._ui_moveNum.opacity=255,this._ui_moveNum.active=e}},_addTimeHide:function(){this._ui_moveNum&&(this._ui_moveNum.stopAllActions(),this._ui_moveNum.runAction(cc.sequence(cc.fadeOut(this._time_numHide),cc.callFunc(function(){this._setMoveNumShow(!1)},this))))},_setTouchLimit:function(e){e?(this.node_touchLimit.active=!0,this.node_touchLimit.on(cc.Node.EventType.TOUCH_START,this._onClick_Touch,this)):(this.node_touchLimit.off(cc.Node.EventType.TOUCH_START,this._onClick_Touch,this),this.node_touchLimit.active=!1)},_onClick_Touch:function(){}}),cc._RFpop()},{}],Obj_dealerWordEffect:[function(e,t,i){"use strict";cc._RFpush(t,"f34b9gL6nxOYr0lRtDl0NMD","Obj_dealerWordEffect"),cc.Class({"extends":cc.Component,properties:{_dealerWordAni:null},onLoad:function(){},playDealerWordAni:function(){this._dealerWordAni||(this._dealerWordAni=this.node.getComponent(dragonBones.ArmatureDisplay),this._dealerWordAni.addEventListener(dragonBones.EventObject.COMPLETE,this._playDealerWordEffectAni,this)),this.node.active=!0,this._dealerWordAni.playAnimation("zhuang_mark_2",1)},_playDealerWordEffectAni:function(){this._dealerWordAni.playAnimation("zhuang_mark_1",0)},clearDealerWordAni:function(){this.node&&(this.node.active=!1)}}),cc._RFpop()},{}],Obj_dialogAccountCell:[function(e,t,i){"use strict";cc._RFpush(t,"f1326nfQM5IboIc/NP0kvBu","Obj_dialogAccountCell"),cc.Class({"extends":cc.Component,properties:{_fontsColor:null,label_time:{"default":null,type:cc.Label,displayName:"充值时间"},label_type:{"default":null,type:cc.Label,displayName:"操作类型"},label_money:{"default":null,type:cc.Label,displayName:"金额"},label_balance:{"default":null,type:cc.Label,displayName:"余额"}},onLoad:function(){this._fontsColor=new cc.Color(255,0,0)},setData:function(e){this.label_time.string=e.completiontime,this._setType(e.transactiontype),this._setMoney(e.transactionmoney),this.label_balance.string=e.balance},_setType:function(e){"DEPOSIT"!=e?(this.label_type.node.color=this._fontsColor,this.label_type.string="转出"):this.label_type.string="充值"},_setMoney:function(e){e<0&&(this.label_money.node.color=this._fontsColor),this.label_money.string=e}}),cc._RFpop()},{}],Obj_dialogContentCell:[function(e,t,i){"use strict";cc._RFpush(t,"8156bsdEGtATY39dH3NmvBf","Obj_dialogContentCell"),cc.Class({"extends":cc.Component,properties:{sprite_picture:{"default":null,type:cc.Sprite,displayName:"图片资源"},label_textContent:{"default":null,type:cc.Label,displayName:"文本内容"}},onLoad:function(){},setData:function(){this.label_textContent.string="公告与规则内容"}}),cc._RFpop()},{}],Obj_dialogPlayerListCell:[function(e,t,i){"use strict";cc._RFpush(t,"06af7RA1NNLNZrMIRx0CFe8","Obj_dialogPlayerListCell"),cc.Class({"extends":cc.Component,properties:{sprite_headImg:{"default":null,type:cc.Sprite,displayName:"头像"},label_name:{"default":null,type:cc.Label,displayName:"名字"},label_gold:{"default":null,type:cc.Label,displayName:"金币"}},onLoad:function(){},setData:function(e){this._setHeadImg(this.sprite_headImg,e.avatarUrl),this._setPlayerName(e.nickname),this._setGoldValue(e.coin)},_setHeadImg:function(e,t){this._defaultHeadFrame||(this._defaultHeadFrame=e.spriteFrame),t?G_Config_common.isLocal?(this._headUrl="Heads/unknown1",cc.loader.loadRes(this._headUrl,cc.SpriteFrame,function(t,i){e.spriteFrame=i}.bind(this))):(this._headUrl=G_DATA.getResNetRoot(t),cc.loader.load(this._headUrl,function(t,i){if(t)console.log(t);else if(i){var n=new cc.SpriteFrame(i);e.spriteFrame=n}}.bind(this))):e.spriteFrame=this._defaultHeadFrame},_setPlayerName:function(e){e||(e=""),e=G_TOOL.getNameLimit(e,3),this.label_name.string=e},_setGoldValue:function(e){e||(e=0),this.label_gold.string=G_TOOL.changeMoney(e)}}),cc._RFpop()},{}],Obj_dialogRecordCell:[function(e,t,i){"use strict";cc._RFpush(t,"3006d3TqmhAraFdhAM3/ALl","Obj_dialogRecordCell"),cc.Class({"extends":cc.Component,properties:{_fontsColor:null,label_time:{"default":null,type:cc.Label,displayName:"对局时间"},label_roomType:{"default":null,type:cc.Label,displayName:"房间类型"},label_roomName:{"default":null,type:cc.Label,displayName:"房间名称"},label_bet:{"default":null,type:cc.Label,displayName:"押注"},label_result:{"default":null,type:cc.Label,displayName:"结果"},label_outCome:{"default":null,type:cc.Label,displayName:"胜负"}},onLoad:function(){this._fontsColor=new cc.Color(255,0,0)},setData:function(e){this.label_time.string=e.confirmtime,this._setRoom(e.gamemodelname,e.gameroomname),this._setBet(e.effectiveamount),this._setResult(e.profitamount),this._setOutCome(e.profitamount)},_setRoom:function(e,t){this.label_roomType.string=e.substring(0,2)+":",this.label_roomName.string=t},_setBet:function(e){return e?void(this.label_bet.string=e):void(this.label_bet.string="当庄")},_setResult:function(e){e<0&&(this.label_result.node.color=this._fontsColor),this.label_result.string=e},_setOutCome:function(e){var t;e<0?(t="负",this.label_outCome.node.color=this._fontsColor):t="胜",this.label_outCome.string=t}}),cc._RFpop()},{}],Obj_effect_inHomeLoading:[function(e,t,i){"use strict";cc._RFpush(t,"14d3aZ8ia5Aeo4hKGQ1GkG5","Obj_effect_inHomeLoading"),cc.Class({"extends":cc.Component,properties:{_maxProgress:null,_toSceneName:null,_isReload:null,label_tip:{"default":null,type:cc.Label,displayName:"加载时候的提示信息"},label_rate:{"default":null,type:cc.Label,displayName:"显示百分比"}},onLoad:function(){this.node._firstPosY=this.node.y,this._node_sliderImg=this.node.children[0],this._node_sliderImg._firstPosY=this._node_sliderImg.y,this._firstMaxProgress=.9;var e=2;this._curProgress=0,this._progressInSec=this._firstMaxProgress/e,this._isStartEffect=!1,this._isReload=!1},start:function(){GG.setIsLoading(!0),this.preloadedScene()},preloadedScene:function(){this._curProgress=0,this._setSliderValue(this._curProgress),this._isStartEffect=!0;var e=GG.getPlayer().getReloadSceneInfo();if(e&&e.sceneName){var t=this;this._isReload=!1,this._toSceneName=e.sceneName,cc.director.preloadScene(e.sceneName,function(){
t._isReload=!0,t._playAll()})}},_playerSliderEffect:function(e){return this._curProgress>=this._firstMaxProgress?(this._isStartEffect=!1,void(this._isReload&&this._playAll())):(this._curProgress+=e*this._progressInSec,this._setSliderValue(this._curProgress),void(this._curProgress>=1&&(this._curProgress=1,this._setSliderValue(this._curProgress),this._isStartEffect=!1,this._isReload?cc.director.loadScene(this._toSceneName):this._isReload=!0)))},_playAll:function(){this._firstMaxProgress=1,this._isStartEffect=!0},_setSliderValue:function(e){this._setRateInfo(e);var t=e*this.node.height,i=this.node.height-t;this.node.y=-i,this._node_sliderImg.y=i},_setTipInfo:function(e){this.label_tip&&(this.label_tip.string=e)},_setRateInfo:function(e){var t=Math.floor(100*e)+"%";this.label_rate&&(this.label_rate.string=t)},update:function(e){this._isStartEffect&&this._playerSliderEffect(e)},onDestroy:function(){}}),cc._RFpop()},{}],Obj_goldResultEffect:[function(e,t,i){"use strict";cc._RFpush(t,"ffaf0Vp7ShAUbno9OmhAAEZ","Obj_goldResultEffect"),cc.Class({"extends":cc.Component,_callFunc:null,properties:{node_addGold:cc.Node,node_lostGold:cc.Node},onLoad:function(){this._reloadLabel()},_reloadLabel:function(){this._label_add=this.node_addGold.getComponentInChildren(cc.Label),this._label_lost=this.node_lostGold.getComponentInChildren(cc.Label)},showGrabGold:function(e){e&&(this._label_add||this._reloadLabel(),e>0?(e="+"+e,this._label_lost.string="",this._label_add.string=e):(this._label_add.string="",this._label_lost.string=e))},showEffect:function(e,t,i,n){this.node.active=!0,this._callFunc=n,e>0?(this.node_addGold.active=!0,this.node_lostGold.active=!1,this._label_add.string="+"+e,this._showGoldAddEffect(t,i)):e<0?(this.node_lostGold.active=!0,this.node_addGold.active=!1,this._label_lost.string=e,this._showGoldLostEffect(t,i)):(this.node_addGold.active=!0,this.node_lostGold.active=!1,this._label_add.string=e,this._showGoldAddEffect(t,i))},_showGoldAddEffect:function(e,t){this.node.zIndex=-1,this.node.position=e,this.node.scale=0,this.node.opacity=0;var i=G_Config_classic.list_goldAddFly[0],n=cc.moveTo(i,0,t).easing(cc.easeOut(3)),o=cc.scaleTo(i,1),s=cc.fadeTo(i,255),a=cc.callFunc(this._addEffectMid,this,e);this.node.runAction(cc.sequence(cc.spawn(n,o,s),a))},_addEffectMid:function(e,t){this.node.zIndex=1;var i=G_Config_classic.list_goldAddFly[1],n=cc.delayTime(G_Config_classic.list_goldAddFly[2]),o=cc.fadeTo(i,100),s=cc.moveTo(i,t).easing(cc.easeInOut(3)),a=cc.scaleTo(i,.5),r=cc.callFunc(this._effectEnd,this);this.node.runAction(cc.sequence(n,cc.spawn(o,s,a),r))},_showGoldLostEffect:function(e,t){this.node.zIndex=-1,this.node.position=e,this.node.scale=0,this.node.opacity=255;var i=G_Config_classic.list_goldLostFly[0],n=cc.moveTo(i,0,t).easing(cc.easeOut(3)),o=cc.scaleTo(i,1),s=cc.delayTime(G_Config_classic.list_goldLostFly[1]),a=cc.fadeOut(G_Config_classic.list_goldLostFly[2]),r=cc.callFunc(this._effectEnd,this);this.node.runAction(cc.sequence(cc.spawn(n,o),s,a,r))},_effectEnd:function(){this.hideGold(),this._callFunc&&this._callFunc()},hideGold:function(){this.node.active=!1}}),cc._RFpop()},{}],Obj_leftTopMenu:[function(e,t,i){"use strict";cc._RFpush(t,"c17a0Sz5yVIXJmuOlz/I4bH","Obj_leftTopMenu"),cc.Class({"extends":e("AutoDealing"),properties:{_isOpen:null,_isPlayingEff:null,_exitFunc:null,_changeFunc:null,node_dirImg:{"default":null,type:cc.Node,displayName:"菜单方向容器"},node_btnContainer:{"default":null,type:cc.Node,displayName:"按钮容器"}},onLoad:function(){this._isOpen=!1,this._scaleTime=.2,this._waitTime=3.5;var e=this.node_btnContainer.children[0],t=this.node_btnContainer.children[1];this.registerButton(this.node_dirImg,this.OnClick_menu,this),this.registerButton(e,this.OnClick_exit,this),this.registerButton(t,this.OnClick_change,this),this.setBtnEnable(t,!1)},OnClick_menu:function(e){this._isOpen=!this._isOpen,this._changeDirImg(this._isOpen),this._showOpenEffect()},OnClick_exit:function(e){this.OnClick_menu(),this._exitFunc&&this._exitFunc()},OnClick_change:function(e){this.OnClick_menu(),this._changeFunc&&this._changeFunc()},bindFunc:function(e,t){this._exitFunc=e,this._changeFunc=t},_changeDirImg:function(e){this.node_dirImg.children[0].active=!e,this.node_dirImg.children[1].active=e},_showOpenEffect:function(){if(!this._isOpen)return void this._showCloseEffect();this.node_btnContainer.stopAllActions(),this.node_btnContainer.active=!0,this.node_btnContainer.scaleY=0;var e=this._scaleTime,t=cc.scaleTo(e,1,1);this.node_btnContainer.runAction(cc.sequence(t,cc.callFunc(this._addWaitAct,this)))},_addWaitAct:function(){this.node_btnContainer.stopAllActions();var e=this._waitTime;this.node_btnContainer.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(this.OnClick_menu,this)))},_showCloseEffect:function(){this.node_btnContainer.stopAllActions();var e=this._scaleTime/2,t=cc.scaleTo(e,1,0);this.node_btnContainer.runAction(t)},resetShow:function(){this._changeDirImg(!1),this.node_btnContainer.active=!1}}),cc._RFpop()},{AutoDealing:"AutoDealing"}],Obj_loadingEffect:[function(e,t,i){"use strict";cc._RFpush(t,"84acfna9cFK5qjICnuMxaqf","Obj_loadingEffect"),cc.Class({"extends":cc.Component,properties:{_curTime:null,_callFunc:null,node_leftCanvas:cc.Node,node_rightCanvas:cc.Node,node_leftWebGL:cc.Node,node_rightWebGL:cc.Node,node_loadingAni:cc.Node,label_countDown:cc.Label,label_tips:cc.Label},onLoad:function(){this._eyeMoveTime=G_Config_common.time_eyeEffect[0],this._eyePauseTime=G_Config_common.time_eyeEffect[1],this._initShow()},showLoading:function(e){this._callFunc=e;var t=this.node_loadingAni.getComponent(dragonBones.ArmatureDisplay);t.playAnimation(G_RES_URL.boneAni.loading),this.showCountDown(10)},showMatch:function(e){this._callFunc=e;var t=this.node_loadingAni.getComponent(dragonBones.ArmatureDisplay);t.playAnimation(G_RES_URL.boneAni.matching),this.showCountDown(30)},showCountDown:function(e,t){this.node.active=!0,e&&(this._curTime=e,this.label_countDown.string=this._curTime,this.schedule(this._updateFunc,1))},forceStop:function(){this._curTime>0&&this.unschedule(this._updateFunc),this._curTime=0,this._callFunc&&(this._callFunc(),this._callFunc=null,this.node.destroy())},_updateFunc:function(e){if(this._curTime-=1,this.label_countDown.string=this._curTime,this._curTime<=0)return this._curTime=0,this.unschedule(this._updateFunc),void this.forceStop()},_initShow:function(){var e=cc._renderType===cc.game.RENDER_TYPE_CANVAS;e?(this.node_leftWebGL.active=!1,this.node_rightWebGL.active=!1,this.node_leftCanvas.active=!0,this.node_rightCanvas.active=!0,this.node_leftLight=this.node_leftCanvas,this.node_rightLight=this.node_rightCanvas):(this.node_leftCanvas.active=!1,this.node_rightCanvas.active=!1,this.node_leftWebGL.active=!0,this.node_rightWebGL.active=!0,this.node_leftLight=this.node_leftWebGL,this.node_rightLight=this.node_rightWebGL),this._curTime=0;var t=this.node_leftLight.position,i=this.node_rightLight.position,n=this.node_leftLight.parent.getContentSize(),o=this.node_rightLight.parent.getContentSize();n.width||(n=cc.size(61,50),o=cc.size(61,50)),this._runLight(this.node_leftLight,n,t),this._runLight(this.node_rightLight,o,i)},_runLight:function(e,t,i){if(e&&t){e.position=i;var n=cc.moveTo(this._eyeMoveTime,i.x+t.width,i.y-t.height),o=cc.moveTo(0,i),s=cc.delayTime(this._eyePauseTime);e.runAction(cc.repeatForever(cc.sequence(n,o,s)))}},showTips:function(e){this.label_tips.string=e},removeEff:function(){this.node.destory()}}),cc._RFpop()},{}],Obj_notice:[function(e,t,i){"use strict";cc._RFpush(t,"77d28KRz+1JubOiS0r0wfYZ","Obj_notice"),cc.Class({"extends":cc.Component,_moveSpeed:null,_isMove:null,_list_msg:null,_firstPosX:null,properties:{node_view:cc.Node,node_content:cc.Node,node_wifi1:cc.Node,node_wifi2:cc.Node,node_wifi3:cc.Node},onLoad:function(){this._curLabelNode=this.node_content.children[0],this._curLabel1=this._curLabelNode.getComponent(cc.RichText),this._firstPosX=this._curLabelNode.x,this.node_wifi1&&(this.node_wifi1.parent.active=!1),this._resetData()},_resetData:function(){this._isMove=!1,this._moveSpeed=G_Config_common.notice_speed,this._runTime=0,this._interval_next=G_Config_common.notice_showTime,this._list_msg=[]},hideNotice:function(){this._isMove=!1,this.node.active=!1},addMsg:function(e){this._resetShowContent(e)},_resetShowContent:function(e){this.node.active=!0,this._isMove=!0,this._curLabel1.string=e,this._restartLabel()},_restartLabel:function(){this._curLabelNode.x=this._firstPosX,this._runTime=0,this._isMove=!0},update:function(e){this._isMove&&(this._curLabelNode.x-=e*this._moveSpeed,this._runTime>=this._interval_next?(this._isMove=!1,this.node.active=!1):this._runTime+=e)}}),cc._RFpop()},{}],Obj_onPokerResult:[function(e,t,i){"use strict";cc._RFpush(t,"64c66ub77NHYbI6OjWUwiq5","Obj_onPokerResult"),cc.Class({"extends":cc.Component,properties:{node_upImage:cc.Node,node_downImage:cc.Node,Atlas_onPokerResult:cc.SpriteAtlas},onLoad:function(){},_initSprite:function(){this._upSprite=this.node_upImage.getComponent(cc.Sprite),this._downSprite=this.node_downImage.getComponent(cc.Sprite),this._dontFrame=this.Atlas_onPokerResult.getSpriteFrame(G_RES_URL.atlas_pokerResult.dont)},showCalculateSuccess:function(){this.node.active=!0,this._upSprite||this._initSprite(),this.node_downImage.active=!1,this._upSprite.spriteFrame=this._dontFrame},showPokerResultValue:function(e,t){this.node.active=!0,this._upSprite||this._initSprite(),e<=0?(this.node_downImage.active=!1,e="no"):(this.node_downImage.active=!0,t||this._openResultEffect());var i=this.Atlas_onPokerResult.getSpriteFrame(G_RES_URL.atlas_pokerResult.resultImgName+e);this._upSprite.spriteFrame=i},_openResultEffect:function(){this.node_upImage.scale=0,this.node_downImage.scale=0;var e=G_Config_classic.time_pokerResultShow,t=cc.sequence(cc.scaleTo(e,G_Config_classic.scale_pokerResultShow),cc.scaleTo(e/2,1)),i=cc.scaleTo(e,1);this.node_downImage.runAction(t),this.node_upImage.runAction(i)},setTruePos:function(e){this.node.position=e,this.hideOnPokerResult()},hideOnPokerResult:function(){this.node.active=!1},getIsShow:function(){return this.node.active},showResult:function(e,t,i){i?(this.node.position=e,this.showPokerResultValue(t,!0)):(this.setTruePos(e),this.showPokerResultValue(t))}}),cc._RFpop()},{}],Obj_othersGold:[function(e,t,i){"use strict";cc._RFpush(t,"59d126ycJtMSpOA1alnpVbK","Obj_othersGold"),cc.Class({"extends":cc.Component,_defaultFrame:null,properties:{},onLoad:function(){this._defaultFrame=this.node.getComponentInChildren(cc.Sprite).spriteFrame,this._interval=1.15*this.node.width},showInfo:function(e,t,i){this.node.active=!0,i||(i=this._defaultFrame),this.node.getComponentInChildren(cc.Sprite).spriteFrame=i,this.node.getComponentInChildren(cc.Label).string=t.toString(),this.node.x=e*this._interval,this.node.tag=e}}),cc._RFpop()},{}],Obj_pageResult_effect:[function(e,t,i){"use strict";cc._RFpush(t,"501eeONeNlKaYxVHQLZoKF7","Obj_pageResult_effect"),cc.Class({"extends":cc.Component,_isShowWin:null,properties:{node_background:cc.Node,node_winTop:cc.Node,node_failTop:cc.Node,node_winStar1:cc.Node,node_winStar2:cc.Node,node_failStar1:cc.Node,node_failStar2:cc.Node},onLoad:function(){},showBGEffect:function(e){this._isShowWin=e,e?(this.node_winTop.active=!0,this.node_failTop.active=!1):(this.node_winTop.active=!1,this.node_failTop.active=!0),this.node_background.scale=0;var t;t=this._isShowWin?this.node_winTop:this.node_failTop,t.scale=0,t.runAction(cc.sequence(cc.scaleTo(G_Config_classic.time_pageResult[0],1),cc.callFunc(this._playBackgroundEffect,this))),this._showStarEffect()},_showStarEffect:function(){var e=G_Config_classic.time_pageResult[2];this._isShowWin?(this._showOneWinStar(this.node_winStar1,e),this._showOneWinStar(this.node_winStar2,e)):(this._showOneFailStar(this.node_failStar1,e),this._showOneFailStar(this.node_failStar2,e))},_showOneWinStar:function(e,t){e.active=!0,e.opacity=0,e.scale=0;var i=cc.fadeIn(.7*t),n=cc.scaleTo(.7*t,2),o=cc.fadeOut(.3*t);e.runAction(cc.sequence(cc.spawn(i,n),o))},_showOneFailStar:function(e,t){e.active=!0,e.opacity=0,e.scale=0,e.rotation=0;var i=cc.fadeIn(.7*t),n=cc.scaleTo(.7*t,2),o=cc.fadeOut(.3*t),s=cc.rotateBy(t/3,360);e.runAction(cc.sequence(cc.spawn(i,n),o)),e.runAction(cc.repeatForever(s))},_playBackgroundEffect:function(){this.node_background.y=this.node_background.height/2;var e=cc.spawn(cc.scaleTo(G_Config_classic.time_pageResult[1],1),cc.moveTo(G_Config_classic.time_pageResult[1],0,0));this.node_background.runAction(cc.sequence(e,cc.callFunc(this._bgEffectEnd,this)))},_bgEffectEnd:function(){this.node_winStar1.stopAllActions(),this.node_winStar2.stopAllActions(),this.node_failStar1.stopAllActions(),this.node_failStar2.stopAllActions(),this.node_winStar1.active=!1,this.node_winStar2.active=!1,this.node_failStar1.active=!1,this.node_failStar2.active=!1}}),cc._RFpop()},{}],Obj_playerBlock_effect:[function(e,t,i){"use strict";cc._RFpush(t,"4637fWL/kxHwIjrjDvRCVTK","Obj_playerBlock_effect"),cc.Class({"extends":cc.Component,_ani_confirmDealer:null,_ani_dealerWord:null,_confirmEffectName:null,_ani_getGoldEffect:null,_getGoldAniName:null,_goldResultComp:null,properties:{node_playerHead:cc.Node,node_frame:cc.Node,prefab_ani_dealerWord:cc.Prefab,prefab_ani_confirmDealer:cc.Prefab,prefab_ani_getGold:cc.Prefab,node_multiple_base:cc.Node,atlas_multiple:cc.SpriteAtlas,prefab_goldValueFly:cc.Prefab,node_goldLabel:cc.Node},onLoad:function(){this._blockComp=this.getComponent("Classic_playerBlock"),this._goldResultCompName="Obj_goldResultEffect",this._blockComp.getBlockIsHorizontal()?(this._confirmEffectName=G_RES_URL.ani_getDealerName.horizontal,this._getGoldAniName=G_RES_URL.ani_getGoldOnHeadName.horizontal):(this._confirmEffectName=G_RES_URL.ani_getDealerName.vertical,this._getGoldAniName=G_RES_URL.ani_getGoldOnHeadName.vertical),this.node_multiple_left=this.node_multiple_base.children[0],this.node_multiple_right=this.node_multiple_base.children[1],this._multiple_rightPosX=this.node_multiple_right.x},showGrabDealer:function(){this.node_frame.active=!0},hideGrabDealer:function(){this.node_frame.active=!1},showConfirmDealer:function(){this._ani_confirmDealer||(this._ani_confirmDealer=cc.instantiate(this.prefab_ani_confirmDealer),this.node.addChild(this._ani_confirmDealer,0,this._getDealerTag)),this._ani_confirmDealer.active=!0,this._ani_confirmDealer.getComponent(cc.Animation).play(this._confirmEffectName),this.node.runAction(cc.sequence(cc.delayTime(G_Config_classic.time_confirmDealer),cc.callFunc(this._hideConfirmDealer,this)))},_hideConfirmDealer:function(e){this._ani_confirmDealer&&(this._ani_confirmDealer.getComponent(cc.Animation).stop(),this._ani_confirmDealer.active=!1),e&&(this.showGrabDealer(),this._showDealerWord())},_showDealerWord:function(){this._ani_dealerWord?this._ani_dealerWord.active=!0:(this._ani_dealerWord=cc.instantiate(this.prefab_ani_dealerWord),this.node.addChild(this._ani_dealerWord),this._ani_dealerWord.x=this.node_playerHead.parent.x+this.node_playerHead.width/2,this._ani_dealerWord.y=this.node_playerHead.parent.y+this.node_playerHead.height/2),this._ani_dealerWord.getComponent(cc.Animation).play()},_hideDealerWord:function(){this._ani_dealerWord&&(this._ani_dealerWord.active=!1)},showGrabDealerValue:function(e){if(void 0!==e){this.node_multiple_base.active=!0,this.node_multiple_right.x=this._multiple_rightPosX,0!=e?this.node_multiple_left.active=!0:(this.node_multiple_left.active=!1,this.node_multiple_right.x-=this.node_multiple_right.width);var t=this.atlas_multiple.getSpriteFrame(G_RES_URL.atlas_chooseMultipleName["dealer_"+e]);t&&(this.node_multiple_right.getComponent(cc.Sprite).spriteFrame=t)}},showSetScoreValue:function(e){if(e){this.node_multiple_base.active=!0,this.node_multiple_left.active=!1,this.node_multiple_right.x=this._multiple_rightPosX,this.node_multiple_right.x=0;var t=this.atlas_multiple.getSpriteFrame(G_RES_URL.atlas_chooseMultipleName["score_"+e]);t?this.node_multiple_right.getComponent(cc.Sprite).spriteFrame=t:this.hideMultiple()}},hideMultiple:function(){this.node_multiple_base.active=!1},showGetGoldEffect:function(){this._ani_getGoldEffect||(this._ani_getGoldEffect=cc.instantiate(this.prefab_ani_getGold),this._ani_getGoldEffect.parent=this.node),this._ani_getGoldEffect.active=!0,this._ani_getGoldEffect.getComponent(cc.Animation).play(this._getGoldAniName),this._ani_getGoldEffect.getComponent(cc.Animation).on("finished",this._hideGetGoldEffect,this)},_hideGetGoldEffect:function(){this._ani_getGoldEffect.getComponent(cc.Animation).stop(),this._ani_getGoldEffect.active=!1},showGoldValueFly:function(e){if(!this._goldResultComp){var t=cc.instantiate(this.prefab_goldValueFly);t.parent=this.node,this._goldResultComp=t.getComponent(this._goldResultCompName)}var i=null;e>0&&(i=this._showGoldFlyEnd.bind(this)),this._goldResultComp.showEffect(e,this.node_goldLabel.parent.position,this.node_playerHead.height,i)},_showGoldFlyEnd:function(){this.node_goldLabel.runAction(cc.sequence(cc.scaleTo(.15,1.3),cc.scaleTo(.15,1)))},showGoldLostFly:function(e){if(!this._goldResultComp){var t=cc.instantiate(this.prefab_goldValueFly);t.parent=this.node,this._goldResultComp=t.getComponent(this._goldResultCompName)}this._goldResultComp.showGoldLost(e,this.node_goldLabel.parent.position,this.node_playerHead.height,this._showGoldFlyEnd.bind(this))},clearAllEffect:function(){this._hideConfirmDealer(),this._hideDealerWord(),this.hideGrabDealer(),this.hideMultiple()}}),cc._RFpop()},{}],Obj_poker:[function(e,t,i){"use strict";cc._RFpush(t,"e21cbBuH+ZDuJqo2L/4lK4r","Obj_poker"),cc.Class({"extends":cc.Component,_isMyself:null,_ownPlayer:null,_isChoose:null,_callFunc:null,_pokerValue:null,_pokerType:null,_label_value:null,properties:{node_pokerPlus:cc.Node,node_pokerNegative:cc.Node,node_pokerValue:cc.Node,node_minIcon:cc.Node,node_maxIcon:cc.Node,node_specialIcon:cc.Node,frame_pokerUI:cc.SpriteAtlas,font_black:cc.Font,font_red:cc.Font},onLoad:function(){this._init()},_init:function(){this._isChoose=!1,this._label_value=this.node_pokerValue.getComponent(cc.Label),this._sprite_min=this.node_minIcon.getComponent(cc.Sprite),this._sprite_max=this.node_maxIcon.getComponent(cc.Sprite),this._openPokerTime=G_Config_common.time_pokerOpen,this._classic_otherScale=G_Config_classic.scale_noMyPoker,this._classic_flyTime=G_Config_classic.time_pokerFly,this._classic_moveUp=G_Config_classic.num_pokerUp,this.node_pokerPlus.active=!0},bindPlayer:function(e){this._ownPlayer=e},showPokerNegative:function(){this.node_pokerPlus.y=0,this.node_pokerPlus.scale=1,this.node_pokerNegative.active=!0,this.node_pokerNegative.scale=1},showPokerPlus:function(){this.node_pokerNegative.active=!1},flyPoker:function(e,t,i){this.onClear(),this.showPokerNegative(),this._isMyself=i,this._isMyself||(this.node.scale=this._classic_otherScale),this.node.position=e;var n=t.x,o=cc.moveTo(this._classic_flyTime,n,t.y),o=cc.moveTo(.4,n,t.y);this.node.runAction(cc.sequence(o,cc.callFunc(this._flyPokerEnd,this)))},_flyPokerEnd:function(){this._isMyself&&this.openPoker(),this._ownPlayer.addFlyEndPoker()},openPoker:function(e){if(this.node_pokerNegative.active===!1)return!1;this.node_pokerNegative.active=!1,this.node_pokerPlus.active=!1,this._callFunc=e,this.showPokerNegative();var t=cc.scaleTo(.5*this._openPokerTime,0,1);return this.node_pokerNegative.runAction(cc.sequence(t,cc.callFunc(this._openPoker_showValue,this))),!0},_openPoker_showValue:function(){this.node_pokerNegative.active=!1,this.node_pokerPlus.active=!0,this.node_pokerPlus.scaleX=0;var e=cc.scaleTo(.5*this._openPokerTime,1,1);this.node_pokerPlus.runAction(cc.sequence(e,cc.callFunc(this._openPoker_end,this)))},_openPoker_end:function(){this._callFunc&&this._callFunc(),this._callFunc=null},setPokerInfo:function(e,t,i){switch(this.node.active=!0,this.node_maxIcon.active=!0,this.node_specialIcon.active=!1,this._pokerValue=t,this._pokerType=e,i?this.showPokerPlus():this.showPokerNegative(),e){case G_TYPE.pokerType.block:this._label_value.font=this.font_red,this._sprite_min.spriteFrame=this.frame_pokerUI.getSpriteFrame(G_RES_URL.pokerType.blockMin),this._sprite_max.spriteFrame=this.frame_pokerUI.getSpriteFrame(G_RES_URL.pokerType.blockMax);break;case G_TYPE.pokerType.blackHeart:this._label_value.font=this.font_black,this._sprite_min.spriteFrame=this.frame_pokerUI.getSpriteFrame(G_RES_URL.pokerType.blackHeartMin),this._sprite_max.spriteFrame=this.frame_pokerUI.getSpriteFrame(G_RES_URL.pokerType.blackHeartMax);break;case G_TYPE.pokerType.redHeart:this._label_value.font=this.font_red,this._sprite_min.spriteFrame=this.frame_pokerUI.getSpriteFrame(G_RES_URL.pokerType.redHeartMin),this._sprite_max.spriteFrame=this.frame_pokerUI.getSpriteFrame(G_RES_URL.pokerType.redHeartMax);break;case G_TYPE.pokerType.flower:this._label_value.font=this.font_black,this._sprite_min.spriteFrame=this.frame_pokerUI.getSpriteFrame(G_RES_URL.pokerType.flowerMin),this._sprite_max.spriteFrame=this.frame_pokerUI.getSpriteFrame(G_RES_URL.pokerType.flowerMax)}var n;switch(t){case 1:n="A";break;case 10:n="1";break;case 11:n="J";break;case 12:n="Q";break;case 13:n="K";break;default:n=t}this._label_value.string=n},getPokerValue:function(){return this._pokerValue},getPokerType:function(){return this._pokerType},getPokerSize:function(){return this.node_pokerNegative.getContentSize()},getIsBlack:function(){return this.isBlackColor},setPokerTouchEnable:function(e){e?this.node_pokerPlus.on(cc.Node.EventType.TOUCH_START,this._callback_clickPoker,this):this.node_pokerPlus.off(cc.Node.EventType.TOUCH_START,this._callback_clickPoker,this)},_callback_clickPoker:function(e){var t=e.target;if(this._isChoose)t.y-=this._classic_moveUp,this._isChoose=!1,this._ownPlayer.touchThePokerDown();else{var i=this.getPokerValue();i>10&&(i=10);var n=this._ownPlayer.touchThePokerUp(i);n&&(t.y+=this._classic_moveUp,this._isChoose=!0)}},onClear:function(){this._isChoose=!1,this.node.scale=1},clearAllActions:function(){this.node_pokerNegative.stopAllActions(),this.node_pokerPlus.stopAllActions(),this.node.stopAllActions()},onDestroy:function(){}}),cc._RFpop()},{}],Obj_rankItem_friend:[function(e,t,i){"use strict";cc._RFpush(t,"c45a8ez/DpOGqvONZJKQxoV","Obj_rankItem_friend"),cc.Class({"extends":cc.Component,properties:{richRankBG:{"default":[],type:cc.SpriteFrame,displayName:"富豪榜排名背景"},gainRankBG:{"default":[],type:cc.SpriteFrame,displayName:"盈利榜排名背景"},sprite_hat:{"default":null,type:cc.Sprite,displayName:"皇冠"},labelRank:{"default":null,type:cc.Label,displayName:"排名数字"},sprite_headImg:{"default":null,type:cc.Sprite,displayName:"头像"},label_name:{"default":null,type:cc.Label,displayName:"名字"},label_goldValue:{"default":null,type:cc.Label,displayName:"金币数值"},node_goldBG:{"default":null,type:cc.Node,displayName:"金币背景"}},onLoad:function(){},init:function(e,t,i){this._setHat(e,t),this._setPlayerName(i.nickname),this._setGoldValue(i.walletbalance?i.walletbalance:i.profitamount),this._setHeadImg(this.sprite_headImg,i.avatarurl)},_setHat:function(e,t){t<3?(this.labelRank.node.active=!1,e?this.sprite_hat.spriteFrame=this.gainRankBG[t]:this.sprite_hat.spriteFrame=this.richRankBG[t]):(this.labelRank.node.active=!0,this.labelRank.string=(t+1).toString())},_setHeadImg:function(e,t){this._defaultHeadFrame||(this._defaultHeadFrame=e.spriteFrame),t?(this._headUrl=G_DATA.getResNetRoot(t),cc.loader.load(this._headUrl,function(t,i){if(t)console.log(t);else if(i){var n=new cc.SpriteFrame(i);e.spriteFrame=n}}.bind(this))):G_Config_common.isLocal&&(this._headUrl="Heads/unknown1",cc.loader.loadRes(this._headUrl,cc.SpriteFrame,function(t,i){e.spriteFrame=i}.bind(this)))},_setPlayerName:function(e){e||(e=""),e=G_TOOL.getNameLimit(e,16,!1),this.label_name.string=e},_setGoldValue:function(e){var t;e?(t=e+"",t=t.length>=17?"9999兆":G_TOOL.changeMoney(e),this.node_goldBG.active=!0):(t="本周暂无数据",this.node_goldBG.active=!1),this.label_goldValue.string=t},_resetBackground:function(e){this._widthRate||(this._widthRate=this.node_goldBG.width/6),this.node_goldBG._firstW||(this.node_goldBG._firstW=this.node_goldBG.width);for(var t,i=0,n=e,o=/^[\u4E00-\u9FA5]+$/,s=0;s<n.length;s++)t=n[s],i+=o.test(t)?2:1;var a=i*this._widthRate;this.node_goldBG.width=Math.max(this.node_goldBG._firstW,a)}}),cc._RFpop()},{}],Obj_roomListCell:[function(e,t,i){"use strict";cc._RFpush(t,"e303fXC4KlIfIXdry/z8Mz2","Obj_roomListCell"),cc.Class({"extends":e("BaseUI"),properties:{_enterType:null,_homeID:null,node_backgroundBtn:{"default":null,type:cc.Node,displayName:"进入房间"},sprite_name:{"default":null,type:cc.Sprite,displayName:"房间名字"},label_intoLimit:{"default":null,type:cc.Label,displayName:"进房限制"},label_onNumber:{"default":null,type:cc.Label,displayName:"在房人数"},sprite_otherRoomBG:{"default":[],type:cc.SpriteFrame,displayName:"其他房间背景"},sprite_otherRoomName:{"default":[],type:cc.SpriteFrame,displayName:"其他房间名字"}},onLoad:function(){this.registerButton(this.node,this.onClick_into,this)},setData:function(e){e&&(this._enterType=e.enterType,this._homeID=e.id,this._setRoomName(e.id-1),this._setRoomBG(e.id-1),this.label_intoLimit.string="进房下限"+G_TOOL.changeMoney(e.minLimitPlayerBlance),this.label_onNumber.string=e.currentPlayerCount)},_setRoomBG:function(e){this.node_backgroundBtn.getComponent(cc.Sprite).spriteFrame=this.sprite_otherRoomBG[e]},_setRoomName:function(e){this.sprite_name.spriteFrame=this.sprite_otherRoomName[e]},onClick_into:function(e){if(G_Config_common.isLocal)this._doEnter();else{var t=null;switch(this._enterType){case G_TYPE.gameModule.bull100:t=G_TYPE.net_gameModule.bull100;break;case G_TYPE.gameModule.grab:t=G_TYPE.net_gameModule.grab;break;case G_TYPE.gameModule.classic:t=G_TYPE.net_gameModule.classic}var i={roomId:this._homeID,gameModel:t};GG.socketMgr.SendMsg(NetType.s_enterHouse,i),GG.socketMgr.registerLong(NetType.r_enterHouseReturn,this.net_setHomeData.bind(this))}},net_setHomeData:function(e){var t=e.tip;if(t.code!=G_TYPE.serverCodeType.success)return void GG.tipsMgr.showConfirmTip_ONE(t.tip,function(){});var i=G_OBJ.data_inHomeData();i.net_inHomeData=e,GG.getPlayer().setInHomeData(i),this._doEnter()},_doEnter:function(){var e=GG.platformMgr.getIsReload();e?GG.changeScene(G_DATA.getSceneName(this._enterType)):GG.platformMgr.confirmSceneChange()}}),cc._RFpop()},{BaseUI:"BaseUI"}],Obj_roomList:[function(e,t,i){"use strict";cc._RFpush(t,"74c85ih1/9EDLwK8JVpSl/f","Obj_roomList"),cc.Class({"extends":e("BaseUI"),properties:{node_intoBtn:{"default":null,type:cc.Node,displayName:"进入按钮"},prefab_data:{"default":null,type:cc.Prefab,displayName:"房间条目"},comp_itemContainer:{"default":null,type:e("Obj_dealScroll"),displayName:"条目容器"}},onLoad:function(){var e={itemPrefab:this.prefab_data};this.comp_itemContainer.setData(e);for(var t=0;t<9;t++){this.comp_itemContainer.addOneItem()}},_registerEvent:function(){this.registerButton(this.node_intoBtn,this._onClick_into,this)},_onClick_into:function(e){}}),cc._RFpop()},{BaseUI:"BaseUI",Obj_dealScroll:"Obj_dealScroll"}],Obj_scrollValue:[function(e,t,i){"use strict";cc._RFpush(t,"6f6ceHVjj1Dn7Voy9rX4nwo","Obj_scrollValue");cc.Class({"extends":cc.Component,properties:{_curLabel:null,_curNum:null,_maxNum:null,_formatStr:null,_callFunc:null,_isStartScroll:null,_interval:null,_maxScrollTimes:null},onLoad:function(){this._maxScrollTimes=50,this._isStartScroll=!1},scrollLabel:function(e){e&&(this._isStartScroll=!1,this._curNum=e.startNum,this._maxNum=e.targetNum,this._curLabel=e.label,this._formatStr=e.formatStr+"%s",this._callFunc=e.callFunc,this._initScrollData())},_initScrollData:function(){this._interval=Math.max(Math.floor((this._maxNum-this._curNum)/this._maxScrollTimes),0),this._isStartScroll=!0},_change:function(){this._curNum+=this._interval,this._curNum>=this._maxNum&&(this._curNum=this._maxNum,this._isStartScroll=!1),this._showValue(),this._isStartScroll||(this._clearData(),this._callFunc&&(this._callFunc(),this._callFunc=null))},_showValue:function(){var e=G_TOOL.formatStr(this._formatStr,G_TOOL.changeMoney(this._curNum));this._curLabel.string=e},_clearData:function(){this._curNum=0,this._maxNum=0,this._curLabel=null,this._formatStr="",this._interval=0},forceEnd:function(){this._callFunc=null,this._curNum=this._maxNum},update:function(e){this._isStartScroll&&this._change()}}),cc._RFpop()},{}],Obj_seatsContainer:[function(e,t,i){"use strict";cc._RFpush(t,"e779eMDuShEOqiJv281BvTL","Obj_seatsContainer"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},addOnePlayer:function(e){var t=this.node.children[e-1];return t?(t.active=!1,cc.p(t.x/this.node.width*cc.visibleRect.width,t.y/this.node.height*cc.visibleRect.height)):null},onePlayerLeave:function(e){var t=this.node.children[e-1];t&&(t.active=!0)},getSeatsNum:function(){return this.node.children.length}}),cc._RFpop()},{}],Obj_setTouchEffect:[function(e,t,i){"use strict";cc._RFpush(t,"2d913IYK5xMtoEMitw8o0jr","Obj_setTouchEffect"),cc.Class({"extends":cc.Component,properties:{_touchEffect:null,frame_touchEffect:cc.SpriteFrame},onLoad:function(){this.addTouchListener()},addTouchListener:function(){this.frame_touchEffect&&this.node.on(cc.Node.EventType.TOUCH_START,this.touchCall,this)},touchCall:function(e){var t=cc.p(e.getLocationX(),e.getLocationY());this._showTouchEff(t)},_showTouchEff:function(e){if(!this._touchEffect){this._touchEffect=new cc.Node,this._touchEffect.parent=this.node;var t=new cc.Node;this._touchEffect.addChild(t,0,1);var i=(t.addComponent(cc.Sprite).spriteFrame=this.frame_touchEffect,new cc.Node);this._touchEffect.addChild(i,0,2);i.addComponent(cc.Sprite).spriteFrame=this.frame_touchEffect}this._touchEffect.active=!0,this._touchEffect.position=e;var t=this._touchEffect.getChildByTag(1),i=this._touchEffect.getChildByTag(2);t.stopAllActions(),i.stopAllActions(),t.scale=.1,t.opacity=255;var n=.5,o=cc.scaleTo(n,1),s=cc.fadeTo(n,70);t.runAction(cc.sequence(cc.spawn(o,s),cc.callFunc(this._effCall,this))),i.scale=.1,i.opacity=255,o=cc.delayTime(.2*n),s=cc.scaleTo(.6*n,.7);var a=cc.fadeTo(0,0);i.runAction(cc.sequence(o,s,a))},_effCall:function(){this._touchEffect&&(this._touchEffect.active=!1)}}),cc._RFpop()},{}],Obj_systemTip:[function(e,t,i){"use strict";cc._RFpush(t,"8fea3wUoYNOl5pJOGqAF8VX","Obj_systemTip"),cc.Class({"extends":cc.Component,properties:{node_labelBG:cc.Node,label_center:cc.Label},onLoad:function(){this._firstPos=cc.p(this.node.x,this.node.y)},showContent:function(e,t,i,n){this.node.active=!0,this.label_center.string=e,t||(t=this._firstPos),this.node.position=t,isNaN(i)?this._hideTip():(this._countDownNum&&this._forceEnd(),this._curStr=e,this._callFunc=n,this._setCenterValue(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.delayTime(i),cc.callFunc(this._hideTip,this)))),this._setBackgroundLen(e)},hideSystemTip:function(){this.node.stopAllActions(),this.node.active=!1},_forceEnd:function(){this._callFunc=null,this.node.stopAllActions(),this._hideTip()},_hideTip:function(){this.node.active=!1,this._callFunc&&(this._callFunc(),this._callFunc=null)},_setCenterValue:function(){this.label_center.string=this._curStr},_setBackgroundLen:function(e){this._widthRate||(this._widthRate=this.node_labelBG.width/14),this.node_labelBG._firstW||(this.node_labelBG._firstW=this.node_labelBG.width);for(var t,i=0,n=e,o=/^[\u4E00-\u9FA5]+$/,s=0;s<n.length;s++)t=n[s],i+=o.test(t)?2:1;var a=i*this._widthRate;this.node_labelBG.width=Math.max(this.node_labelBG._firstW,a)}}),cc._RFpop()},{}],Obj_topOneLayer:[function(e,t,i){"use strict";cc._RFpush(t,"3827cXUXVxGSJC8QOIXG/UF","Obj_topOneLayer"),cc.Class({"extends":cc.Component,properties:{_isConfirmTipOpen:null,_isHasOpen:null,prefab_loadingAni:{"default":null,type:cc.Prefab,displayName:"网络请求动画"}},onLoad:function(){GG.topTouchLayer=this,this._isConfirmTipOpen=!1,this._touchLimitLayer=this.getComponent("Obj_touchLimit")},start:function(){this._registerFunc(!0)},showNetRequest:function(e){if(this.prefab_loadingAni){if(!this._netAni){this._netAni=cc.instantiate(this.prefab_loadingAni),this._netAni.parent=this.node;var t=cc.visibleRect.center;this._netAni.position=cc.p(t.x,1.35*t.y),this._netAni.active=!1}if(!this._netAni.active){
if(this._isConfirmTipOpen)return void(this._isHasOpen=!0);this._netAni.active=!0,this._showReconnectTip(e),this._netAni.getComponent(dragonBones.ArmatureDisplay).playAnimation(""),this._touchLimitLayer&&this._touchLimitLayer.addTouchLimit()}}},closeNetRequest:function(){this._netAni&&(this._netAni.active=!1,this._touchLimitLayer&&this._touchLimitLayer.cancelTouchLimit())},_showReconnectTip:function(e){var t=this._netAni.getChildByName("tip");if(t){var i;if(e){var n=G_DATA.getChinese(61);i=n.content}else i="";t.getComponent(cc.Label).string=i}},_registerFunc:function(e){GG.tipsMgr&&GG.tipsMgr.registerConfirm(this._whenConfirmTipChange.bind(this),e)},_whenConfirmTipChange:function(e){if(this._isConfirmTipOpen=e,this._netAni.active)e&&(this._isHasOpen=!0,this.closeNetRequest());else if(!e&&this._isHasOpen){var t=this._netAni.getChildByName("tip"),i=!1;t&&(i=Boolean(t.getComponent(cc.Label).string)),this.showNetRequest(i)}},onDestroy:function(){this._registerFunc(!1)}}),cc._RFpop()},{}],Obj_touchLimit:[function(e,t,i){"use strict";cc._RFpush(t,"28cc9CnmIZBXLGDeIMG+yuu","Obj_touchLimit"),cc.Class({"extends":cc.Component,properties:{_netAni:null},onLoad:function(){},addTouchLimit:function(e){this.node.on(cc.Node.EventType.TOUCH_START,this._touchThisLayer,this)},_touchThisLayer:function(){},cancelTouchLimit:function(){this.node.off(cc.Node.EventType.TOUCH_START,this._touchThisLayer,this)},setIsShowGray:function(e){!this._grayLayer}}),cc._RFpop()},{}],Obj_txtTip:[function(e,t,i){"use strict";cc._RFpush(t,"0779d1B55VI+5GfT/GEwecN","Obj_txtTip"),cc.Class({"extends":cc.Component,properties:{_maxCountDown:null,_curCountDown:null,_callBack:null,_curBaseStr:null,_tipIndex:null,_tipMgr:null,_widthRate:null,_hideFunc:null,node_centerLabel:cc.Node},onLoad:function(){this._init()},_init:function(){this._mainLabel=this.node_centerLabel.getComponent(cc.Label),this._defaultTime=G_Config_common.time_tipDefault},bindMgr:function(e){this._tipMgr=e},showTip:function(e){var t;if(e.tipIndex){var i=G_DATA.getChinese(e.tipIndex);i&&(this._curBaseStr=i.content,t=i.retainTime)}this.node.active=!0;var n=e.showPos;n||(n=G_DATA.getCenterTipPos()),this.node.position=n,this.showByOpacity(),e.showStr&&(this._curBaseStr=e.showStr),isNaN(e.retainTime)||(t=Math.max(e.retainTime,0)),this._callBack=e.callBack;var o=e.formatStr;if(this._tipIndex=e.tipIndex,e.isCountDown){if(!t)return this._hideTip(),void(this._callBack&&(this._callBack(),this._callBack=null));this._addCountDown(t),this._resetBackground(G_TOOL.formatStr(this._curBaseStr,123))}else{t||(t=this._defaultTime),this._showTxt(),this._resetBackground(G_TOOL.formatStr(this._curBaseStr,o));var s=cc.fadeOut(t);this.node.runAction(cc.sequence(s,cc.callFunc(this._clearTxtTip,this)))}},forceChangeStr:function(e){this._curBaseStr=e,this._resetBackground(G_TOOL.formatStr(this._curBaseStr,""))},forceChangeCountDown:function(e){this._maxCountDown=e,this._curCountDown=this._maxCountDown,this._showTxt(this._curCountDown)},forceEnd:function(){this._curCountDown&&this.unschedule(this.let_update),this._curCountDown=0,this._callBack=null,this._hideTip()},resetTxtAndTime:function(e,t){t||(t=this._defaultTime),this.node.stopAllActions(),this._curBaseStr=e,this._showTxt(),this._resetBackground(G_TOOL.formatStr(this._curBaseStr,""));var i=cc.fadeOut(t);this.node.runAction(cc.sequence(i,cc.callFunc(this._clearTxtTip,this)))},showByOpacity:function(){this.node.opacity=255},hideByOpacity:function(){this.node.opacity=0},_showTxt:function(e){e?this._mainLabel.string=G_TOOL.formatStr(this._curBaseStr,e):this._mainLabel.string=this._curBaseStr},_resetBackground:function(e){this._widthRate||(this._widthRate=this.node.width/13),this.node.width=e.length*this._widthRate},_addCountDown:function(e){this._curCountDown&&this._countDownEnd(),this._maxCountDown=e,this._curCountDown=this._maxCountDown,this._interval=1,this.schedule(this.let_update,this._interval),this._showTxt(this._curCountDown)},_countDownEnd:function(){this.unschedule(this.let_update),this._clearTxtTip()},let_update:function(e){this._curCountDown>0&&(this._curCountDown-=1,this._showTxt(this._curCountDown),this._curCountDown<=0&&this._countDownEnd())},_clearTxtTip:function(){this._callBack&&(this._callBack(),this._callBack=null),this._hideTip()},bindHideFunc:function(e){this._hideFunc=e},_hideTip:function(){this._tipMgr.oneTipHide(this.node),this.node.active=!1,this._hideFunc&&(this._hideFunc(),this._hideFunc=null)},getIsShow:function(){return this.node.active},setIsShow:function(e){this.node.active=e},getTipIndex:function(){return this._tipIndex},onDestroy:function(){this._curCountDown&&this.unschedule(this.let_update)}}),cc._RFpop()},{}],Obj_uiContainer:[function(e,t,i){"use strict";cc._RFpush(t,"82b09GVpxBPap6yQdYUAPAT","Obj_uiContainer"),cc.Class({"extends":cc.Component,properties:{_dict_ui:null,node_grayLayer:{"default":null,type:cc.Node,displayName:"灰色层"},UI_announcement:{"default":null,type:cc.Prefab,displayName:"公告窗口"},UI_rules:{"default":null,type:cc.Prefab,displayName:"规则窗口"},UI_record:{"default":null,type:cc.Prefab,displayName:"记录窗口"},UI_account:{"default":null,type:cc.Prefab,displayName:"账目窗口"},UI_dealerList:{"default":null,type:cc.Prefab,displayName:"上庄列表窗口"},UI_rulesInHome:{"default":null,type:cc.Prefab,displayName:"房间规则窗口"},UI_systemSet:{"default":null,type:cc.Prefab,displayName:"系统设置窗口"},UI_trend:{"default":null,type:cc.Prefab,displayName:"走势图窗口"},UI_playerList:{"default":null,type:cc.Prefab,displayName:"玩家列表窗口"}},onLoad:function(){this._dict_ui={}},addUI:function(e){var t=this._dict_ui[e];if(!t){var i=e;if(!this[i])return null;var n=cc.instantiate(this[i]);n.parent=this.node;this._getDialogPos();n.position=this._getDialogPos(),t=n.getComponent(e),t.setUIName(e),t.bindContainer(this),this._dict_ui[e]=t}return t.hideLayer(),t},addUIEx:function(e,t){t&&(t.setUIName(e),this._dict_ui[e]=t)},closeUI:function(e){this._dict_ui[e]&&this._dict_ui[e].hideLayer()},getUIComp:function(e){var t=this._dict_ui[e];return t||(t=this.addUI(e)),t},closeAllUI:function(){for(var e in this._dict_ui)this.closeUI(e)},_getDialogPos:function(){return cc.p(.5*cc.visibleRect.width,.5*cc.visibleRect.height)},setGrayLayerIsShow:function(e){this.node_grayLayer&&(this.node_grayLayer.active=e)}}),cc._RFpop()},{}],Obj_winRankHead:[function(e,t,i){"use strict";cc._RFpush(t,"21a84l8GWhGaJ4cPQfmakvy","Obj_winRankHead"),cc.Class({"extends":cc.Component,properties:{_defaultHeadFrame:null,sprite_headImg:{"default":null,type:cc.Sprite,displayName:"头像精灵"},label_playerName:{"default":null,type:cc.Label,displayName:"玩家名字"},label_gold:{"default":null,type:cc.Label,displayName:"金币数值"}},onLoad:function(){},setData:function(e){this._setPlayerName(e.name),this._setGoldValue(e.addGold),this._setHeadImg(e.icon)},_setPlayerName:function(e){e||(e=""),e=G_TOOL.getNameLimit(e,8,!0),this.label_playerName.string=e},_setGoldValue:function(e){this.label_gold.string=G_TOOL.changeMoney(e)},_setHeadImg:function(e){this._defaultHeadFrame||(this._defaultHeadFrame=this.sprite_headImg.spriteFrame),e?G_Config_common.isLocal?(this._headUrl="Heads/head01",cc.loader.loadRes(this._headUrl,cc.SpriteFrame,function(e,t){this.sprite_headImg.spriteFrame=t}.bind(this))):(this._headUrl=G_DATA.getResNetRoot(e),GG.resMgr.getHeadImg(this._headUrl,function(e){this.sprite_headImg.spriteFrame=e}.bind(this))):this.sprite_headImg.spriteFrame=this._defaultHeadFrame},setIsShow:function(e){this.node.active=e},getIsShow:function(){return this.node.active}}),cc._RFpop()},{}],Object_config:[function(e,t,i){"use strict";cc._RFpush(t,"b6eb4DffzpAE7fb1TCIU67g","Object_config"),window.G_OBJ=window.G_OBJ||{},G_OBJ.data_bullBetting=function(){return{tableIndex:null,posList:null,startPos:null,goldValue:null,goldNum:null,isMine:null}},G_OBJ.data_grabBetting=function(){return{tableIndex:null,targetPos:null,callFunc:null,startPos:null,goldValue:null,goldNum:null,isMine:null}},G_OBJ.data_grabPokerInfo=function(){return{pokerInfoList:null,pokerResult:null,isFlyEffect:null,startPokerIndex:null,callFunc:null}},G_OBJ.data_inHomeData=function(){return{net_inHomeData:null,net_resetHomeData:null}},cc._RFpop()},{}],Platform_Manager:[function(e,t,i){"use strict";cc._RFpush(t,"c9e2amfcZJE94McrGnyuBWh","Platform_Manager"),cc.Class({"extends":e("BaseManager"),properties:{_dict_ui:null,_richRankData:null,comp_uiContainer:{"default":null,type:e("Obj_uiContainer"),displayName:"UI容器"},comp_enterBtn:{"default":null,type:e("Platform_ui_enter"),displayName:"房间入口"},comp_homeList:{"default":null,type:e("Platform_ui_roomContainer"),displayName:"房间列表容器"},comp_leftRank:{"default":null,type:e("Platform_leftRank"),displayName:"左边列表容器"},comp_bottomBtns:{"default":null,type:e("Platform_bottomBtns"),displayName:"底部按钮容器"},comp_topInfo:{"default":null,type:e("Platform_topInfo"),displayName:"大厅顶部信息"}},onLoad:function(){this._super(),GG.platformMgr=this},start:function(){if(G_Config_common.isLocal){this._richRankData={},this._richRankData.code=1,this._richRankData.data=[];for(var e=0;e<20;e++)this._richRankData.data.push({nickname:"997",walletbalance:667,avatarurl:""});this.comp_leftRank.setRichData(this._richRankData),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){this.showHomeList(!1,!0),GG.audioMgr.playMusic(19)},this)))}else this._sendLogin()},_sendLogin:function(){var e=null;GG.getPlayer().getPlayerToken()?this._initData():GG.httpMgr.sendHttpLogin(G_DIALOG_URL.loginTokenUrl,e,function(e){GG.getPlayer().setPlayerToken(e),GG.socketMgr.connectSocket(),this._initData()}.bind(this))},_initData:function(){this._requestNum=0;var e=null;this._richRankData||(this._requestNum+=1,GG.httpMgr.sendHttpLogin(G_DIALOG_URL.playerTreasuresUrl,e,function(e){this._richRankData=e,this._oneRequestEnd()}.bind(this))),GG.getPlayer().getBaseInfo()||(this._requestNum+=1,GG.httpMgr.sendHttpLogin(G_DIALOG_URL.personalInfoUrl,e,function(e){GG.getPlayer().setBaseInfo(e),this._oneRequestEnd()}.bind(this))),GG.audioMgr.getAudioConfig()||(this._requestNum+=1,GG.httpMgr.sendHttpLogin(G_DIALOG_URL.loginToSetUrl,e,function(e){var t=e[0];(!e||e.length<1)&&(t={music:!0,sound:!0}),GG.audioMgr.setAudioConfig(t),this._oneRequestEnd()}.bind(this)))},_oneRequestEnd:function(){if(this._requestNum-=1,this._requestNum<1){this.comp_topInfo.initShow(),this.comp_leftRank.setRichData(this._richRankData);var e=GG.getPlayer().getOutHomeData();e?this.comp_enterBtn.showHomeListFirst(e.gameType,!0):this.showHomeList(!1,!0),GG.audioMgr.playMusic(19)}},_loginSocket:function(){},openUI:function(e){return this.comp_uiContainer.addUI(e)},showHomeList:function(e,t){this.comp_enterBtn.moveOutScene(e,t),this.comp_leftRank.moveOutScene(e,t),this.comp_bottomBtns.moveOutScene(e,t),this.comp_topInfo.setHomeListShow(e,t),e||this.comp_homeList.hideLayer()},showHomeListInfo:function(e){this.comp_homeList.setDataList(e)},getIsReload:function(){return this.comp_homeList.getIsReload()},confirmSceneChange:function(){this.comp_homeList.setIsChangeNow(!0)},onDestroy:function(){this._super(),GG.platformMgr=null}}),cc._RFpop()},{BaseManager:"BaseManager",Obj_uiContainer:"Obj_uiContainer",Platform_bottomBtns:"Platform_bottomBtns",Platform_leftRank:"Platform_leftRank",Platform_topInfo:"Platform_topInfo",Platform_ui_enter:"Platform_ui_enter",Platform_ui_roomContainer:"Platform_ui_roomContainer"}],Platform_bottomBtns:[function(e,t,i){"use strict";cc._RFpush(t,"25e9d3pzRtN9IL5uJp1EWk8","Platform_bottomBtns"),cc.Class({"extends":e("BaseUI"),properties:{node_buttonContainer:{"default":null,type:cc.Node,displayName:"按钮容器"}},onLoad:function(){this._registerEvent()},_registerEvent:function(){for(var e=this.node_buttonContainer.children,t=0;t<e.length;t++)e[t].tag=t,this.registerButton(e[t],this._onClick_touchBtn,this)},_onClick_touchBtn:function(e){switch(e.currentTarget.tag){case 0:var t=G_RES_URL.uiName.announcement,i=GG.platformMgr.openUI(t);i.showLayer();break;case 1:var t=G_RES_URL.uiName.rules,i=GG.platformMgr.openUI(t);i.showLayer();break;case 2:var t=G_RES_URL.uiName.record,i=GG.platformMgr.openUI(t);i.setData();break;case 3:var t=G_RES_URL.uiName.account,i=GG.platformMgr.openUI(t);i.setData()}},moveOutScene:function(e,t){if(this.node_buttonContainer._firstBtnPosY||(this.node_buttonContainer._firstBtnPosY=-this.node_buttonContainer.y),t)this.node_buttonContainer.y=this.node_buttonContainer._firstBtnPosY-(e?this.node_buttonContainer.height*this.node_buttonContainer.scale:0);else{var i=.5;this.node_buttonContainer.stopAllActions();var n=cc.p(this.node_buttonContainer.x,this.node_buttonContainer._firstBtnPosY);e&&(n.y=-(this.node_buttonContainer.height*this.node_buttonContainer.scale/2)),this.node_buttonContainer.runAction(cc.moveTo(i,n))}}}),cc._RFpop()},{BaseUI:"BaseUI"}],Platform_leftRank:[function(e,t,i){"use strict";cc._RFpush(t,"834471qZIhPe7wXg+6nY9a4","Platform_leftRank");var n={type1:1,type2:2};cc.Class({"extends":e("BaseUI"),properties:{_list_idleFriends:null,_curRankType:null,_gainsRankData:null,_firstShowNum:null,_list_richData:null,_list_gainsData:null,sprite_listGainOn:{"default":null,type:cc.Sprite,displayName:"盈利榜图标"},sprite_listRichOn:{"default":null,type:cc.Sprite,displayName:"富豪榜图标"},sprite_listRankingBG:{"default":null,type:cc.Sprite,displayName:"高亮显示条"},node_listGainBtn:{"default":null,type:cc.Node,displayName:"盈利榜按钮"},node_listRichBtn:{"default":null,type:cc.Node,displayName:"富豪榜按钮"},comp_itemContainer:{"default":null,type:e("Obj_dealScroll"),displayName:"好友排行榜容器"},prefab_friendItem:{"default":null,type:cc.Prefab,displayName:"好友条目"},label_null:{"default":null,type:cc.Label,displayName:"无数据时显示"},comp_scroll:{"default":null,type:cc.ScrollView,displayName:"滚动的容器"}},onLoad:function(){this._itemCompName="Obj_rankItem_friend",this._firstShowNum=6,this.registerButton(this.node_listGainBtn,this.onClick_tabBtn,this,n.type1,!0),this.registerButton(this.node_listRichBtn,this.onClick_tabBtn,this,n.type2,!0),this.comp_scroll.node.on("scroll-to-bottom",this._scrollToBottom,this);var e={itemPrefab:this.prefab_friendItem};this.comp_itemContainer.setData(e)},start:function(){this._curRankType=n.type2,this._setRankTitle(this._curRankType)},onClick_tabBtn:function(e,t){this._curRankType!=t&&(this._curRankType=t,this._setRankTitle(t))},_setRankTitle:function(e){var t,i=!1;switch(e){case n.type1:if(this._gainsRankData)i=!0,t=this.node_listGainBtn.x,this.setGainData(this._gainsRankData);else{if(!G_Config_common.isLocal){var o="gameId="+GG.getPlayer().getGameID();return void GG.httpMgr.sendHttpLogin(G_DIALOG_URL.playerProfitUrl,o,function(e){this._gainsRankData=e,i=!0,t=this.node_listGainBtn.x,this.setGainData(this._gainsRankData),this.sprite_listRankingBG.node.x=t,this.sprite_listGainOn.node.active=i,this.sprite_listRichOn.node.active=!i}.bind(this))}i=!0,t=this.node_listGainBtn.x,this._gainsRankData={},this._gainsRankData.code=1,this._gainsRankData.data=[];for(var s=0;s<20;s++)this._gainsRankData.data.push({nickname:"1111",walletbalance:3333,avatarurl:""});this.setGainData(this._gainsRankData)}break;case n.type2:this.setRichData(),t=this.node_listRichBtn.x}this.sprite_listRankingBG.node.x=t,this.sprite_listGainOn.node.active=i,this.sprite_listRichOn.node.active=!i},setGainData:function(e){if(this._scrollToUp(),!e||!e.data)return this.comp_itemContainer.clearItems(-1),!1;if("0"==e.code)this._setNull(e.msg);else{this._list_gainsData=e.data.concat([]);for(var t,i,n=0;n<this._firstShowNum;n++){var o=this._list_gainsData.splice(0,1)[0];if(!o)break;t=this.comp_itemContainer.getItemByIndex(n),t&&(i=t.getComponent(this._itemCompName),i.init(!0,n,o))}this.comp_itemContainer.clearItems(n-1)}},setRichData:function(e){if(this._scrollToUp(),this._richData)e=this._richData;else{if(!e||!e.data)return this.comp_itemContainer.clearItems(-1),!1;this._richData=e}if("0"==e.code)this._setNull(e.msg);else{var t,i;this._list_richData=e.data.concat([]);for(var n=0;n<this._firstShowNum;n++){var o=this._list_richData.splice(0,1)[0];if(!o)break;t=this.comp_itemContainer.getItemByIndex(n),t&&(i=t.getComponent(this._itemCompName),i.init(!1,n,o))}this.comp_itemContainer.clearItems(n-1)}return!0},_updateBottom:function(){switch(this._curRankType){case n.type1:for(var e,t,i=this.comp_itemContainer.getShowItemNum(),o=i;o<i+this._firstShowNum;o++){var s=this._list_gainsData.splice(0,1)[0];if(!s)break;e=this.comp_itemContainer.getItemByIndex(o),e&&(t=e.getComponent(this._itemCompName),t.init(!0,o,s))}break;case n.type2:for(var e,t,i=this.comp_itemContainer.getShowItemNum(),o=i;o<i+this._firstShowNum;o++){var s=this._list_richData.splice(0,1)[0];if(!s)break;e=this.comp_itemContainer.getItemByIndex(o),e&&(t=e.getComponent(this._itemCompName),t.init(!1,o,s))}}},_scrollToBottom:function(e){this._updateBottom()},_scrollToUp:function(e){this.comp_scroll.scrollToTop()},_setNull:function(e){this.label_null.string=e},moveOutScene:function(e,t){if(this._firstPosX||(this._firstPosX=-this.node.x),t)this.node.x=this.node.width*this.node.scale/2*(e?-1:1);else{var i=.5;this.node.stopAllActions();var n=cc.p(this._firstPosX,this.node.y);e&&(n.x=-(this.node.width*this.node.scale/2+this.node.x)),this.node.runAction(cc.moveTo(i,n))}}}),cc._RFpop()},{BaseUI:"BaseUI",Obj_dealScroll:"Obj_dealScroll"}],Platform_topEffect:[function(e,t,i){"use strict";cc._RFpush(t,"e4cc4YH/zRDyK1swL8hLL4k","Platform_topEffect"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){}}),cc._RFpop()},{}],Platform_topInfo:[function(e,t,i){"use strict";cc._RFpush(t,"94707lnJddKIpBS9jaL9Sif","Platform_topInfo"),cc.Class({"extends":e("AutoDealing"),properties:{sprite_head:{"default":null,type:cc.Sprite,displayName:"头像"},label_name:{"default":null,type:cc.Label,displayName:"昵称"},label_coin:{"default":null,type:cc.Label,displayName:"金币"},node_exit:{"default":null,type:cc.Node,displayName:"退出按钮"},node_back:{"default":null,type:cc.Node,displayName:"返回按钮"},node_setting:{"default":null,type:cc.Node,displayName:"设置按钮"}},onLoad:function(){this._registerButton(),this.node.active=!1},_registerButton:function(){this.registerButton(this.node_exit,this.onClick_exit,this),this.registerButton(this.node_back,this.onClick_back,this),this.registerButton(this.node_setting,this.onClick_setting,this),GG.getPlayer().registerGoldListener(this.on_goldChange.bind(this),!0)},onClick_exit:function(e){GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText2,function(){GG.exitGame()})},onClick_back:function(e){GG.platformMgr.showHomeList(!1)},onClick_setting:function(e){var t=GG.platformMgr.openUI(G_RES_URL.uiName.systemSet);t.setData()},on_goldChange:function(e){this.label_coin&&(this.label_coin.string=e)},initShow:function(){var e=GG.getPlayer().getBaseInfo();e&&(this._setHeadImg(this.sprite_head,e.avatarUrl),this._setName(e.nickname),this.label_coin.string=GG.getPlayer().getPlayerGold())},_setHeadImg:function(e,t){this._defaultHeadFrame||(this._defaultHeadFrame=e.spriteFrame),t?(this._headUrl=G_DATA.getResNetRoot(t),cc.loader.load(this._headUrl,function(t,i){if(t)console.log(t);else if(i){var n=new cc.SpriteFrame(i);e.spriteFrame=n}}.bind(this))):G_Config_common.isLocal&&(this._headUrl="Heads/unknown1",cc.loader.loadRes(this._headUrl,cc.SpriteFrame,function(t,i){e.spriteFrame=i}.bind(this)))},setHomeListShow:function(e){this.node.active||(this.node.active=!0),this.node_exit.active=!e,this.node_back.active=e},_setName:function(e){e||(e=""),this.label_name.string=G_TOOL.getNameLimit(e,16)},onDestroy:function(){GG.getPlayer().registerGoldListener(this.on_goldChange,!1)}}),cc._RFpop()},{AutoDealing:"AutoDealing"}],Platform_ui_enter:[function(e,t,i){"use strict";cc._RFpush(t,"f10c7FbLoVAZ7LCP0U5t4AP","Platform_ui_enter"),cc.Class({"extends":e("BaseUI"),properties:{_homeData_bull100:null,_homeData_classic:null,_homeData_grab:null,node_classic:{"default":null,type:cc.Node,displayName:"经典玩法"},node_bull100:{"default":null,type:cc.Node,displayName:"百人大战"},node_grab:{"default":null,type:cc.Node,displayName:"押宝大战"}},onLoad:function(){this._registerButton(this.node_bull100,this._btn_clickEnter,this,G_TYPE.gameModule.bull100),this._registerButton(this.node_classic,this._btn_clickEnter,this,G_TYPE.gameModule.classic),this._registerButton(this.node_grab,this._btn_clickEnter,this,G_TYPE.gameModule.grab)},_btn_clickEnter:function(e,t){if(G_Config_common.isLocal){var i={};i.data=[];for(var n=0;n<10;n++){var o={id:1,minLimitPlayerBlance:1111111,currentPlayerCount:9999};i.data.push(o)}return i.enterType=t,GG.platformMgr.showHomeListInfo(i),void GG.platformMgr.showHomeList(!0,!1)}this.showHomeList(t)},showHomeList:function(e,t){switch(e){case G_TYPE.gameModule.bull100:this._homeData_bull100?(GG.platformMgr.showHomeListInfo(this._homeData_bull100),GG.platformMgr.showHomeList(!0,t)):GG.httpMgr.sendHttpLogin(G_DIALOG_URL.gameRoomListUrl,"gameModel="+G_TYPE.net_gameModule2.bull100,function(i){i.enterType=e,this._homeData_bull100=i,GG.platformMgr.showHomeListInfo(i),GG.platformMgr.showHomeList(!0,t)}.bind(this));break;case G_TYPE.gameModule.grab:this._homeData_grab?(GG.platformMgr.showHomeListInfo(this._homeData_grab),GG.platformMgr.showHomeList(!0,t)):GG.httpMgr.sendHttpLogin(G_DIALOG_URL.gameRoomListUrl,"gameModel="+G_TYPE.net_gameModule2.grab,function(i){i.enterType=e,this._homeData_grab=i,GG.platformMgr.showHomeListInfo(i),GG.platformMgr.showHomeList(!0,t)}.bind(this));break;case G_TYPE.gameModule.classic:GG.tipsMgr.showConfirmTip_ONE("暂未开放！")}},showHomeListFirst:function(e,t){GG.platformMgr.showHomeList(!0,t),this.showHomeList(e,t)},_registerButton:function(e,t,i,n,o){var s=this;e._isTouchEnabledEx=!0,e.on(cc.Node.EventType.TOUCH_START,function(e){var t=e.target.children[0];e.target._isTouchEnabledEx&&!o&&(s._setAniPause(t,!0),e.target.scale=1.1,GG.audioMgr.playSound(17))},i),e.on(cc.Node.EventType.TOUCH_END,function(e){var o=e.target.children[0];e.target.scale=1,s._setAniPause(o,!1),e.target._isTouchEnabledEx&&t.call(i,e,n)},i),e.on(cc.Node.EventType.TOUCH_CANCEL,function(e){var t=e.target.children[0];s._setAniPause(t,!1),e.target.scale=1},i)},_setAniPause:function(e,t){var i=e.getComponent(dragonBones.ArmatureDisplay);t?(i._lastTimeScale=i.timeScale,i.timeScale=.01):i._lastTimeScale&&(i.timeScale=i._lastTimeScale)},_resumeAni:function(e){},moveOutScene:function(e,t){if(this._firstPosX||(this._firstPosX=2*cc.visibleRect.width-this.node.x),t)this.node.x=this._firstPosX+(e?cc.visibleRect.width:0);else{var i=.5;this.node.stopAllActions();var n=cc.p(this._firstPosX,this.node.y);e&&(n.x=cc.visibleRect.width+this.node.width*this.node.scale/2),this.node.runAction(cc.moveTo(i,n))}}}),cc._RFpop()},{BaseUI:"BaseUI"}],Platform_ui_roomContainer:[function(e,t,i){"use strict";cc._RFpush(t,"45c8dc1TENGMo9nIQJY25EY","Platform_ui_roomContainer"),cc.Class({"extends":e("BaseUI"),properties:{_dict_loadScene:null,_isChangeNow:null,_curEnterType:null,prefab_item:{"default":null,type:cc.Prefab,displayName:"房间预制体"},comp_itemContainer:{"default":null,type:e("Obj_dealScroll"),displayName:"房间列表容器"}},onLoad:function(){this._dealerItemCompName="Obj_roomListCell",this._dict_loadScene={};var e={itemPrefab:this.prefab_item,lineNum:3,scrollType:G_TYPE.scrollType.bag};this.comp_itemContainer.setData(e)},setDataList:function(e){e&&(this.showLayer(),this._isChangeNow=!1,this._curEnterType=e.enterType,this._reloadScene(this._curEnterType),this.setRoomList(e.data,e.enterType))},setRoomList:function(e,t){if(e)for(var i,n,o,s=0;s<e.length;s++)i=this.comp_itemContainer.getItemByIndex(s),i&&(n=i.getComponent(this._dealerItemCompName),o=e[s],o.enterType=t,n.setData(o));else var s=-1;this.comp_itemContainer.clearItems(s)},_reloadScene:function(e){if(!this._dict_loadScene[e]){var t=this,i=G_TYPE.sceneName.loadingScene;cc.director.preloadScene(i,function(){t._isChangeNow?cc.director.loadScene(i):t._dict_loadScene[e]=!0})}},setIsChangeNow:function(e){this._isChangeNow=e},getIsReload:function(){return this._dict_loadScene[this._curEnterType]}}),cc._RFpop()},{BaseUI:"BaseUI",Obj_dealScroll:"Obj_dealScroll"}],ReloadResMgr:[function(e,t,i){"use strict";cc._RFpush(t,"45da4o85DFHhavko98DhvWK","ReloadResMgr");var n=cc.Class({_dict_urlRes:null,_dict_headImg:null,_list_headImg:null,ctor:function(){},getHeadImg:function(e,t){if(this._dict_headImg||(this._dict_headImg={},this._list_headImg=[]),this._dict_headImg[e]){t&&t(this._dict_headImg[e]);var i=this._list_headImg.indexOf(e);i>-1&&(this._list_headImg.splice(i,1),this._list_headImg.splice(0,0,e))}else cc.loader.load(e,function(i,n){if(i)console.log(i);else{if(n){var o=new cc.SpriteFrame(n);if(o){if(this._dict_headImg[e]=o,this._list_headImg.splice(0,0,e),this._list_headImg.length>15){var s=this._list_headImg.pop();this.removeOneHeadImg(s)}return void(t&&t(o))}}t&&t(null)}}.bind(this))},removeOneHeadImg:function(e){this._dict_headImg[e]&&(delete this._dict_headImg[e],cc.loader.releaseRes(e))},removeAllImages:function(){for(var e in this._dict_headImg)cc.loader.releaseRes(e)}});t.exports=n,cc._RFpop()},{}],SocketCenter:[function(e,t,i){"use strict";cc._RFpush(t,"e36ccbGsY1MGLLYmQC2ljPd","SocketCenter"),void 0!=window.netBeanInited&&window.netBeanInited||(window.NetBean=new Object);var n=function(){this.pos=0,this.data="",this.len=0,this.deepCount=0},o=14e8,s=function(e,t,i){this.wsUrl=e,this.msgHandle=t,this.printMsg=i,this.timeDiff=o,this.getServerTime=function(){return(new Date).getTime()-this.timeDiff},this.resetServerTime=function(e){this.timeDiff=Math.min(this.timeDiff,(new Date).getTime()-e)}};s.prototype.isConnected=function(){return this.socket&&this.socket.readyState==WebSocket.OPEN},s.prototype.connect=function(){if(window.WebSocket||(window.WebSocket=window.MozWebSocket),window.WebSocket){this.socket=new WebSocket(this.wsUrl);var e=this;return this.socket.onmessage=function(t){var i=n.toObject(t.data,e);if(i==-1)e.onOpen&&e.onOpen();else{var o=!0;e.msgReceived&&(o=e.msgReceived(i.constructor.className,i)),e.printMsg}},this.socket.onopen=function(e){this.send("0")},this.socket.onclose=function(t){e.onClose&&e.onClose()},this}},s.prototype.sendHeart=function(){if(this.socket.readyState==WebSocket.OPEN)return this.socket.send(String.fromCharCode(9)),!0;throw new Error("Disconnect from Server,Please try again...")},s.prototype.send=function(e,t){if(this.socket.readyState==WebSocket.OPEN){try{var i=n.toMsg(e,t);this.socket.send(i)}catch(o){console.error(o)}return!0}throw new Error("Disconnect from Server,Please try again...")},n.TYPE_NUM=0,n.TYPE_NUMS=1,n.TYPE_NUM_MAP=2,n.TYPE_STRING=4,n.TYPE_STRINGS=5,n.TYPE_STRING_MAP=6,n.TYPE_BOOL=8,n.TYPE_BOOLS=9,n.TYPE_BOOL_MAP=10,n.Type=function(e,t){return this.collectionType=e,this.jsonClass=t,this},n.getMsg=function(e){var t=new n;return t.data=e,t};var a=0,r=3;n.prototype.loadJsons=function(e){for(var t=function(e){return NetBean[e]||(NetBean[e]=function(){return this}),NetBean[e]},i=this.getLong(),o=0;o<i;o++){var s=this.getLong(),a=t(s);a.event=s,a.className=this.getString(),a.sendBy=this.getLong(),NetBean[a.className]=a;var r=this.getLong();a.fields=new Array,a.types=new Array,a.requireds=new Array;for(var l=0;l<r;l++){var c=this.getLong();a.requireds[c]=1==this.getLong(),a.fields[c]=this.getString();var _=this.getLong(),h=this.getLong();h<8?(h=4*h+_,a.types[c]=h):a.types[c]=new n.Type(_,t(h-8))}}window.netBeanInited=!0},n.toObject=function(e,t){var i=n.getMsg(e),o=i.getLong();t.resetServerTime(o);var s=i.getLong();return s==-1?(i.loadJsons(t),-1):i.toObject(NetBean[s])},n.toMsg=function(e,t){var i=new n,o=NetBean[e];return i.putLong(o.event),i.toMsg(o,t),i.data},n.prototype.toMsg=function(e,t){var i=0;this.mark();var n=e.types,o=e.fields,s=e.requireds;for(var a in o){var r=t[o[a]];if(void 0!=r&&null!=r){i++,this.putLong(a);var l=this.toFieldMsg(n[a],r);if(null!=l)throw new Error("变量赋值错误,NetBean."+e.className+"."+e.fields[a]+"="+r+",数据类型应该为:"+l)}else if(s[a])throw new Error("required的值不能为空,NetBean."+e.className+"."+e.fields[a])}this.putByteOnMark(i)},n.prototype.toFieldMsg=function(e,t){switch(e){case n.TYPE_NUM:if(!Number.isInteger(t))return"数字整型";this.putLong(t);break;case n.TYPE_STRING:if("string"!=typeof t)return"字符串类型";this.putString(t);break;case n.TYPE_BOOL:if("boolean"!=typeof t)return"布尔类型";this.putBoolean(t);break;default:var i=a,o=n.TYPE_NUM;switch("number"==typeof e?(i=3&e,o=e-i):(i=e.collectionType,o=-1),i){case a:this.toMsg(e,t);break;case r:this.mark();var s=0;for(var l in t)this.toFieldMsg(n.TYPE_STRING,l+""),o!=-1?this.toFieldMsg(o,t[l]):this.toMsg(e.jsonClass,t[l]),s++;this.putLongOnMark(t.length);break;default:this.putLong(t.length);for(var l in t)o!=-1?this.toFieldMsg(o,t[l]):this.toMsg(e.jsonClass,t[l])}}return null},n.prototype.toObject=function(e){var t;try{t=new e}catch(i){console.log(i)}for(var o=this.getByte(),s=0;s<o;s++){var l=this.getLong(),c=e.types[l],_="number"!=typeof c;if(!_&&c&!0||_&&c.collectionType!=a){var h=!1;_?h=c.collectionType==r:(3==(3&c)&&(h=!0),c-=3&c);var u=this.getFiled(n.TYPE_NUM);h?t[e.fields[l]]={}:t[e.fields[l]]=new Array;for(var d=0;d<u;d++){var p=h?this.getFiled(n.TYPE_STRING):d;t[e.fields[l]][p]=this.getFiled(c)}}else t[e.fields[l]]=this.getFiled(c)}return t},n.prototype.getFiled=function(e){switch(e){case n.TYPE_NUM:return this.getLong();case n.TYPE_STRING:return this.getString();case n.TYPE_BOOL:return this.getBoolean();default:return this.toObject(e.jsonClass)}},n.prototype.getLen=function(){var e=this.data.charCodeAt(this.pos++),t=e>>4&7;e=15&e;for(var i=0;i<t;i++)e|=this.data.charCodeAt(this.pos++)<<7*i+4;return e+this.pos},n.prototype.putLong=function(e){var t=e>0;t||(e*=-1);for(var i=0,n=e;n>0;)n=parseInt(n/2),i++;i=parseInt((i+3)/7),this.data+=String.fromCharCode(i<<4|(t?0:1)<<3|7&e),e=parseInt(e/8);for(var o=0;o<i;o++)this.data+=String.fromCharCode(127&e),e=parseInt(e/128)},n.prototype.getLong=function(){for(var e=this.data.charCodeAt(this.pos++),t=7&e,i=e>>4&7,n=8,o=0;o<i;o++)t+=(255&this.data.charCodeAt(this.pos++))*n,n*=128;return t*=0==(8&e)?1:-1},n.prototype.mark=function(){this.marks||(this.marks=new Array),this.marks.push(this.data),this.data=""},n.prototype.putByteOnMark=function(e){this.data=this.marks.pop()+String.fromCharCode(127&e)+this.data},n.prototype.putLongOnMark=function(e){var t=this.marks.pop(),i=e>0;i||(e*=-1);for(var n=0,o=e;o>0;)o=parseInt(o/2),n++;n=parseInt((n+3)/7),t+=String.fromCharCode(n<<4|(i?0:1)<<3|7&e),e=parseInt(e/8);for(var s=0;s<n;s++)t+=String.fromCharCode(127&e),e=parseInt(e/128);this.data=t+this.data},n.prototype.putByte=function(e){return this.data+=String.fromCharCode(127&e)},n.prototype.getByte=function(){return 127&this.data.charCodeAt(this.pos++)},n.prototype.putBoolean=function(e){return this.data+=String.fromCharCode(e?1:0)},n.prototype.getBoolean=function(){return 1==this.data.charCodeAt(this.pos++)},n.prototype.putString=function(e){for(var t=0,i=0;i<e.length;i++){var n=e.charCodeAt(i);t+=n<127?1:n<=2047?2:n<=65535?3:4}for(var o=0,s=t;s>0;)s>>=1,o++;o=parseInt((o+2)/7),s=t,this.data+=String.fromCharCode(o<<5|31&s),s>>=5;for(var i=0;i<o;i++)this.data+=String.fromCharCode(127&s),s>>=7;this.len+=t-e.length,this.data+=e},n.prototype.getString=function(){for(var e=this.data.charCodeAt(this.pos++),t=e>>5&3,i=31&e,n=0;n<t;n++)i|=(255&this.data.charCodeAt(this.pos++))<<7*n+5;if(0==i)return"";for(var o=0,s=this.pos,n=this.pos;n<this.data.length;n++){var a=this.data.charCodeAt(this.pos++);if(o+=a<127?1:a<=2047?2:a<=65535?3:4,o>=i)break}return this.data.substring(s,this.pos)},t.exports=s,cc._RFpop()},{}],SocketMgr:[function(e,t,i){"use strict";cc._RFpush(t,"0988511JJBLsZEgA1+HGHAL","SocketMgr");var n=e("SocketCenter"),o=cc.Class({_socketCenter:null,_dict_shortEvents:null,_dict_longEvents:null,_dict_pauseInfo:null,_list_sendFail:null,_isHasBreak:null,properties:{},ctor:function(){this._dict_shortEvents={},this._dict_longEvents={},this._isHasBreak=!1},connectSocket:function(e){if(!this._socketCenter){var t=window.netServer;if(t&&t.isConnected())e&&e(!0),t.msgReceived=this.receiveMsg.bind(this),this._socketCenter=t;else{var i=window.location.host;i.indexOf(":")>=0&&(i=i.substring(0,i.indexOf(":"))),""==i&&(i="localhost");var o=8888;window.wsPort&&(o=window.wsPort),this._socketCenter=new n("ws://"+i+":"+o+"/ws",null,(!1)),
this._socketCenter.msgReceived=this.receiveMsg.bind(this);var s=this;this._socketCenter.onOpen=function(){if(GG.topTouchLayer.closeNetRequest(),e&&e(!0),this._list_sendFail)for(var t,i=0;i<this._list_sendFail.length;i++)t=this._list_sendFail[i],this.SendMsg(t.netType,t.msgDict,t.callFunc);this._list_sendFail=null,this._isHasBreak&&(this._isHasBreak=!1,GG.getGameType()!=G_TYPE.gameModule.platform&&GG.exitHome()),GG.loginSocket()}.bind(this),this._socketCenter.onClose=function(){s._connect(),s._isHasBreak=!0,s._startTimeOutCheck()},this._connect(),GG.topTouchLayer.showNetRequest()}}},_connect:function(){this._socketCenter&&(this._socketCenter.connect(),this._addHeartInfo())},getServerTime:function(){return this._socketCenter?this._socketCenter.getServerTime():(new Date).getTime()},SendMsg:function(e,t,i){if(!this._dict_shortEvents.hasOwnProperty(e)){var n;if(!NetBean[e])return this._list_sendFail||(this._list_sendFail=[]),void this._list_sendFail.push({netType:e,msgDict:t,callFunc:i});n=new NetBean[e];for(var o in t)n[o]=t[o];i&&(this._dict_shortEvents[e]=i),this._socketCenter.send(e,n)}},receiveMsg:function(e,t){var i=cc.find("Canvas/GameMain");if(!i||!i.active)return!0;if(GG.getGameState()==G_TYPE.webGameState.pause)return this._savePauseInfo(e,t),!1;var n=this._checkCode(t);if(!n)return!1;if(this._refreshPlayerGold(e,t),GG.getIsLoading())return void this._setLoadingNetData(e,t);var o=!0;return this._dict_shortEvents&&this._dict_shortEvents[e]?(this._dict_shortEvents[e](t),delete this._dict_shortEvents[e],o=!1):this._dict_longEvents&&this._dict_longEvents[e]&&(this._dict_longEvents[e](t),o=!1),o},registerLong:function(e,t){this._dict_longEvents[e]=t},cancelLong:function(e){delete this._dict_longEvents[e]},cancelAllLongListen:function(){for(var e in this._dict_longEvents)delete this._dict_longEvents[e];for(var e in this._dict_shortEvents)delete this._dict_shortEvents[e]},getOffSeconds:function(e,t){return Math.max(Math.floor(.001*(t-e)),0)},_addHeartInfo:function(){var e=(new Date).getTime();setInterval(function(){var t=(new Date).getTime();t-e>=3500&&(this._socketCenter&&this._socketCenter.isConnected()&&this._socketCenter.sendHeart(),e=(new Date).getTime())}.bind(this),500,null)},_checkCode:function(e){switch(e.tip.code){case G_TYPE.serverCodeType.success:break;case G_TYPE.serverCodeType.serverErr1:return GG.tipsMgr.showConfirmTip_ONE(e.tip.tip),!1}return!0},_refreshPlayerGold:function(e,t){if(e==NetType.r_mineHaveGrab){var i=t.tip;if(i.code!=G_TYPE.serverCodeType.success)return;GG.getPlayer().setPlayerGold(t.player.balance)}},_setLoadingNetData:function(e,t){switch(e){case NetType.r_bull100_reStartGame:GG.curMgr.updateEnterHomeData(t);var i=GG.getPlayer().getInHomeData();i.net_resetHomeData=t,GG.getPlayer().setInHomeData(i);break;case NetType.r_grab_reStartGame:GG.curMgr.updateEnterHomeData(t);var i=GG.getPlayer().getInHomeData();i.net_resetHomeData=t,GG.getPlayer().setInHomeData(i)}},_savePauseInfo:function(e,t){if(this._dict_pauseInfo||(this._dict_pauseInfo={}),GG.curMgr)switch(e){case NetType.r_bull100_reStartGame:GG.curMgr.updateEnterHomeData(t);break;case NetType.r_grab_reStartGame:GG.curMgr.updateEnterHomeData(t);break;case NetType.r_grabEnd:GG.curMgr.setBettingEndInfo(t);break;case NetType.r_mineHaveGrab:t.player&&(isNaN(t.player.balance)||GG.curMgr.getMyselfComp().setGoldValue(t.player.balance))}},parsePauseInfo:function(){if(GG.curMgr)return void GG.curMgr.refreshHome()},_startTimeOutCheck:function(){var e=cc.find("Canvas/emptyNode");if(e&&!this._failTime){this._failTime=G_Config_common.connectTimeOut,GG.topTouchLayer.showNetRequest(!0),e.stopAllActions();var t=this;e.runAction(cc.sequence(cc.delayTime(this._failTime),cc.callFunc(function(){GG.topTouchLayer.closeNetRequest(),GG.showReconnect(function(){t._cancelTimeOutCheck()})},this)))}},_cancelTimeOutCheck:function(){var e=cc.find("Canvas/emptyNode");e&&(this._failTime=null,e.stopAllActions()),GG.topTouchLayer.showNetRequest(!0)}});t.exports=o,cc._RFpop()},{SocketCenter:"SocketCenter"}],TablesMgr:[function(e,t,i){"use strict";cc._RFpush(t,"4cc05tUHe5HaZ3zY38K9L/1","TablesMgr");var n=cc.Class({_nameList:null,_typeList:null,_firstDict:null,_dataDict:null,_keyList:null,setData:function(e,t,i,n){this._nameList=e,this._typeList=t,this._firstDict=i,this._keyList=n,this._dataDict={}},getDataByID:function(e){if(this._dataDict[e])return this._dataDict[e];var t=this._parseObj(e);return this._dataDict[e]=t,t},getKeyList:function(){return this._keyList},getFirstData:function(){var e;for(var t in this._firstDict)if(e=this.getDataByID(t))break;return e},getAllData:function(){var e,t={};for(var i in this._keyList)e=this._keyList[i],t[e]=this.getDataByID(e);return t},_parseObj:function(e){if(!this._firstDict)return null;var t=this._firstDict[e];if(!t)return console.log("table parse _____ no this key :"+e),null;for(var i={},n=1;n<t.length;n++){var o=this._parseByType(t[n],this._typeList[n],this._nameList[n]);i[this._nameList[n]]=o}return i},_parseByType:function(e,t,i){if(void 0==e||null==e)return null;try{switch(t){case"key_int":return parseInt(e);case"number":return parseFloat(e);case"string":return e.toString();case"json":return e=e.replace(/\'/g,'"'),JSON.parse(e);case"calculate":return e.toString();default:return null}}catch(n){return console.log(n),null}}}),o=cc.Class({properties:{_tDict:null,_callFunc:null,_list_reloadNames:null},ctor:function(){},getTable:function(e){return this._tDict[e]},reloadTables:function(e,t){var i=Object.prototype.toString.call(e);switch(i){case"[object String]":this._list_reloadNames=[e];break;case"[object Array]":this._list_reloadNames=e;break;case"[object Object]":this._list_reloadNames=[];for(var n in e)this._list_reloadNames.push(e[n]);break;default:return}this._callFunc=t,this._loadStep()},_loadStep:function(){if(this._list_reloadNames.length<=0)return void(this._callFunc&&(this._callFunc(),this._callFunc=null));var e=this._list_reloadNames.splice(0,1);this._loadTable(e)},_loadTable:function(e){return this._tDict&&this._tDict[e]?void this._loadStep():void cc.loader.loadRes("Tables/"+e,function(t,i){t?(console.log(t),this._callFunc&&(this._callFunc(),this._callFunc=null)):(this._tDict||(this._tDict={}),this._tDict[e]=this._sortData(i),this._loadStep())}.bind(this))},_sortData:function(e){if(!e)return console.log("table is null"),null;this._data=e;for(var t,i,o={},s=[],a=0;a<e.length;a++)switch(a){case 0:break;case 1:t=e[a];break;case 2:i=e[a];break;default:var r=e[a][0];s.push(r),o[r]=e[a]}var l=new n;return l.setData(t,i,o,s),l},reloadConfigOnStart:function(e){this.reloadTables(G_RES_URL.dict_tablesName,e)},onDestroy:function(){}});t.exports=o,cc._RFpop()},{}],TipsMgr:[function(e,t,i){"use strict";cc._RFpush(t,"1d79e9uH8xIC6c4VzCQUoc6","TipsMgr"),cc.Class({"extends":cc.Component,properties:{_curTxtTipNum:null,_confirmTag:null,_list_hideTips:null,prefab_confirmTip:cc.Prefab,prefab_txtTip:cc.Prefab,node_countDownProgress:cc.Node,node_systemTip:cc.Node,Node_topNotice:cc.Node},onLoad:function(){GG.tipsMgr=this,this._progressCompName="Obj_countDownProgress",this._systemTipCompName="Obj_systemTip",this._txtTipCompName="Obj_txtTip",this._confirmTipCompName="Obj_confirmTip",this._topNoticeCompName="Obj_notice",this._dict_onlyOne={},this._curTxtTipNum=0,this._commonScale=G_Config_common.frameScale,this._confirmTag=3,this._list_hideTips=[]},showTxtTip:function(e){var t=this._getTxtTip();return t.showTip(e),t},_getTxtTip:function(){var e=this._list_hideTips.splice(0,1)[0];return e||(e=this._getNewTip()),e.getComponent(this._txtTipCompName)},_getNewTip:function(){var e=cc.instantiate(this.prefab_txtTip);return this.node.addChild(e,0,this._curTxtTipNum),e.scale=this._commonScale,e.getComponent(this._txtTipCompName).bindMgr(this),this._curTxtTipNum+=1,e},oneTipHide:function(e){var t=e.getComponent(this._txtTipCompName);t&&(this._dict_onlyOne[t.getTipIndex()]||this._list_hideTips.push(e))},showOnlyOne:function(e){this._dict_onlyOne||(this._dict_onlyOne={});var t=e.tipIndex,i=this._dict_onlyOne[t];return i?i.getIsShow()?i.forceChangeCountDown(e.retainTime):i.showTip(e):(i=this._getNewTip().getComponent(this._txtTipCompName),this._dict_onlyOne[t]=i,i.showTip(e)),i},showProgressCountDown:function(e,t){this.node_countDownProgress.getComponent(this._progressCompName).showCountDown(e,t)},getProgressLeaveTime:function(){return this.node_countDownProgress.getComponent(this._progressCompName).getLeaveTime()},forceProgressEnd:function(){this.node_countDownProgress.getComponent(this._progressCompName).forceEnd()},showConfirmTip_ONE:function(e,t){var i=cc.instantiate(this.prefab_confirmTip);i.parent=this.node,i.position=G_DATA.getCenterTipPos(),i.getComponent("Obj_confirmTip").showContentEx(e,t)},showConfirmTip_TWO:function(e,t,i){var n=this.node.getChildByTag(this._confirmTag);n||(n=cc.instantiate(this.prefab_confirmTip),n.parent=this.node,n.tag=3),n.position=G_DATA.getCenterTipPos(),n.getComponent(this._confirmTipCompName).showContent(e,t,i)},clearConfirm:function(){var e=this.node.getChildByTag(this._confirmTag);e&&e.getComponent(this._confirmTipCompName).closePage()},registerConfirm:function(e,t){if(this.node){var i=this.node.getChildByTag(this._confirmTag);i&&i.getComponent(this._confirmTipCompName).registerFunc(e,t)}},showSystem:function(e,t,i,n){this.node_systemTip.getComponent(this._systemTipCompName).showContent(e,t,i,n)},addNotice:function(e){this.Node_topNotice.getComponent(this._topNoticeCompName).addMsg(e)},setTouchLimit:function(e){var t=this.node.parent;e?t.on(cc.Node.EventType.TOUCH_START,this._limitCall,this):t.off(cc.Node.EventType.TOUCH_START,this._limitCall,this)},_limitCall:function(){}}),cc._RFpop()},{}],Tools:[function(e,t,i){"use strict";cc._RFpush(t,"7371f6mFJVCgZ3MshobzVAP","Tools");var n={getRandomArea:function(e,t){return parseInt(Math.random()*(t-e+1)+e)},getRandomBool:function(){return Boolean(Math.random()>.5)},formatStr:function(){var e=arguments,t=e.length;if(t<1)return"";var i=/(%d)|(%s)/,n=1,o=e[0],s="string"==typeof o&&i.test(o);if(s)for(var a=/%s/;n<t;++n){var r=e[n],l="number"==typeof r?i:a;l.test(o)?o=o.replace(l,r):o+=" "+r}else if(t>1)for(;n<t;++n)o+=" "+e[n];else o=""+o;return o},changeMoney:function(e){var t=0,i="";e<0&&(e=-e,i="-");for(var n=e;(n/=10)>=1;)t++;if(t<=3)return i+e;for(var o=0,n=1;o<t-3;o++)e/=10,n=1e4==n?10:10*n;return i+parseInt(e)/(1e4/n)+(t<8?"万":t<12?"亿":"兆")},formatBy1000:function(e){return(""+e).replace(/(\d{1,3})(?=(\d{3})+(?:$|\D))/g,"$1,")},getTimeStamp:function(){return(new Date).valueOf()},quickSort:function(e){function t(i,n){var o=i,s=n-1,a=e[i];if(n-i>1){for(;o<s;){for(;o<s;s--)if(e[s]<a){e[o++]=e[s];break}for(;o<s;o++)if(e[o]>a){e[s--]=e[o];break}}e[o]=a,t(0,o),t(o+1,n)}}return t(0,e.length),e},getNameLimit:function(e,t,i){var n,o;o=t?t:G_Config_common.num_maxNameLen;for(var s=/^[\u4E00-\u9FA5]+$/,a=0,r="",l=0;l<e.length;l++){if(a>=o){i?r=r:r+="...";break}n=e[l],r+=n,a+=s.test(n)?2:1}return r},objectLog:function(e){var t="{";for(var i in e)t+=i+":"+e[i]+",";t+="}"},adaptSize:function(e,t){var i=cc.view.getDesignResolutionSize(),n=cc.visibleRect.width/i.width,o=cc.visibleRect.height/i.height;return{width:e*n,height:t*o}},adaptPos:function(e){var t=cc.view.getDesignResolutionSize(),i=cc.visibleRect.width/t.width,n=cc.visibleRect.height/t.height;return cc.p(e.x*i,e.y*n)}};window.G_TOOL=n,cc._RFpop()},{}],TypeConfig:[function(e,t,i){"use strict";cc._RFpush(t,"84957MQ/nJJGIYd0VCQ2IhU","TypeConfig");var n={webGameState:cc.Enum({pause:1,running:2}),gameModule:cc.Enum({platform:0,bull100:1,grab:2,classic:3}),sceneName:cc.Enum({platform:"Platform",bull100:"Poker_Bull100",grab:"Poker_Grab",classic:"Poker_classic",loadingScene:"InHomeLoading"}),http_gameModule:cc.Enum({platform:0,bull100:1,classic:2,grab:3}),grabState:cc.Enum({wait:0,readyStart:1,givePoker:2,touchTables:3,showFlag:4,flyGold:5,readyTouchTable:6,isBetting:7}),classicState:cc.Enum({wait:0,readyStart:1,givePoker:2,grabDealer:3,setScore:4,calculate:5,showResult:6}),bull100State:cc.Enum({wait:0,startReady:1,betting:2,endEff:3}),pokerResult:cc.Enum({bull_0:0,bull_1:1,bull_2:2,bull_3:3,bull_4:4,bull_5:5,bull_6:6,bull_7:7,bull_8:8,bull_9:9,bull_10:10,bull_11:11,bull_12:12}),pokerType:cc.Enum({blackHeart:1,redHeart:2,flower:3,block:4}),playerType:cc.Enum({system:0,owner:1,others:2}),net_gameModule:cc.Enum({bull100:"BULL_100",grab:"BULL_BAO",classic:"BULL_CLASSIC"}),net_gameModule2:cc.Enum({bull100:"bull100",grab:"bullBao",classic:"bullclassic"}),tableType:cc.Enum({big:1,min:2}),tipType:cc.Enum({}),serverCodeType:cc.Enum({success:"0",serverErr1:"00001",remoteLanding:"00005",goldNotEnough:"200002",upDealerErr1:"200003",matchNonExistent:"500001",upDealerErr2:"600002",upDealerErr3:"600013",noBetting:"00003",downDealer1:"600016",downDealer2:"600017",downDealer3:"600012",downDealer4:"600018",downDealer5:"600019",continueFail1:"200004",continueFail2:"600008",warnDealer1:"600007",warnDealer2:"600009",upDealerSuccess:"600010",continueFail3:"600014",continueSuccess:"600011",needLogin:"10001"}),dealerNetType:cc.Enum({upDealer:1,continueDealer:2,getList:3}),scrollType:cc.Enum({horizontal:1,vertical:2,bag:3}),ui_nameType:cc.Enum({dealerList:"UI_dealerList",playerList:"UI_playerList",rulesInHome:"UI_rulesInHome",trend:"UI_trend"}),pokerTypeStr:cc.Enum({spade:"SPADE",diamond:"DIAMOND",club:"CLUB",heart:"HEART"}),seatsIndex:cc.Enum({seat_1:1,seat_2:2,seat_3:3,seat_4:4,seat_5:5,seat_6:6,seat_7:7,seat_8:8})};window.G_TYPE=n,cc._RFpop()},{}],UI_account:[function(e,t,i){"use strict";cc._RFpush(t,"16c16qbJrVKdriJTtyWvtmd","UI_account");cc.Class({"extends":e("BaseDialog"),properties:{_lastTouchBtn:null,_list_cacheData:null,label_null:{"default":null,type:cc.Label,displayName:"无数据时显示"},comp_scroll:{"default":null,type:cc.ScrollView,displayName:"滚动的容器"}},onLoad:function(){this._super(),this._dealerItemCompName="Obj_dialogAccountCell",this._list_cacheData=[];var e={itemPrefab:this.prefab_item,scrollType:G_TYPE.scrollType.vertical};this.comp_itemContainer.setData(e);var e={itemPrefab:this.prefab_leftButton,scrollType:G_TYPE.scrollType.vertical};this.comp_leftBtnContainer.setData(e);for(var t,i,n,o=3,s=["今天数据","昨天数据","前天数据"],a=0;a<o;a++)t=this.comp_leftBtnContainer.getItemByIndex(a),t&&(i=t.children[0],n=t.children[1],i.tag=a,i&&this.registerButton(i,this.onClick_leftBtn,this,a,!0),n&&(n.getComponent(cc.Label).string=s[a]))},setData:function(){if(G_Config_common.isLocal){this.showLayer();for(var e=[],t=0;t<6;t++){var i={completiontime:"2007/1/1",transactiontype:"",transactionmoney:555,balance:6666};e.push(i)}this._setBtnChoose(0),this._setAccountList(e)}else{var n=GG.getPlayer().getGameID(),o={gameId:n,dateClass:0,pageSize:20,pageNow:0};this._sendRequest(o,function(e){this.showLayer(),this.setDataList(e)}.bind(this))}},onClick_leftBtn:function(e,t){var i=e.currentTarget;if(i.tag!=this._lastTouchBtn.tag){if(G_Config_common.isLocal)return void this._setBtnChoose(t);var n=GG.getPlayer().getGameID(),o={gameId:n,dateClass:0,pageSize:20,pageNow:0};switch(t){case 0:o.dateClass=0,this._scrollToUp(),this._sendRequest(o,function(e){this.setDataList(e)}.bind(this));break;case 1:o.dateClass=1,this._scrollToUp(),this._sendRequest(o,function(e){this.setDataList(e)}.bind(this));break;case 2:o.dateClass=2,this._scrollToUp(),this._sendRequest(o,function(e){this.setDataList(e)}.bind(this))}this._setBtnChoose(t)}},_setBtnChoose:function(e){var t=this.comp_leftBtnContainer.getItemByIndex(e);if(t){var i=t.children[0];this._lastTouchBtn&&(this._lastTouchBtn.children[0].active=!1,this._lastTouchBtn=null),this._lastTouchBtn=i,i.children[0].active=!0}},setDataList:function(e){var t;"1"==e.code?(this._setAccountList(e.data.datas),t=""):(t=e.msg,this.comp_itemContainer.clearItems(-1)),this._setNull(t)},_setAccountList:function(e){for(var t,i,n=0;n<e.length;n++)t=this.comp_itemContainer.getItemByIndex(n),t&&(i=t.getComponent(this._dealerItemCompName),i.setData(e[n]));this.comp_itemContainer.clearItems(n-1)},_setNull:function(e){this.label_null.string=e},_sendRequest:function(e,t){var i=this._list_cacheData[e.dateClass];if(i)t&&t(i),this._setBtnChoose(e.dateClass);else{var n="gameId="+e.gameId+"&dateClass="+e.dateClass+"&pageSize="+e.pageSize+"&pageNow="+e.pageNow;GG.httpMgr.sendHttpLogin(G_DIALOG_URL.accountUrl,n,function(i){t&&t(i),this._setBtnChoose(e.dateClass),this._list_cacheData[e.dateClass]=i}.bind(this))}},_scrollToUp:function(e){this.comp_scroll.scrollToTop()}}),cc._RFpop()},{BaseDialog:"BaseDialog"}],UI_announcement:[function(e,t,i){"use strict";cc._RFpush(t,"0a979XuE+1DBZdWzYrxkmwc","UI_announcement"),cc.Class({"extends":e("BaseDialog"),properties:{_lastTouchBtn:null,_announcementContent:null,prefab_versionAnnouncement:{"default":null,type:cc.Prefab,displayName:"版本公告预制体"},prefab_officialDescAnnouncement:{"default":null,type:cc.Prefab,displayName:"官方说明预制体"},comp_scroll:{"default":null,type:cc.ScrollView,displayName:"滚动的容器"}},onLoad:function(){this._super();var e={itemPrefab:this.prefab_leftButton,scrollType:G_TYPE.scrollType.vertical};this.comp_leftBtnContainer.setData(e);for(var t,i,n=2,o=["版本公告","官方说明"],s=0;s<n;s++)t=this.comp_leftBtnContainer.getItemByIndex(s),t&&(i=t.children[2],this.registerButton(t,this.onClick_leftBtn,this,s,!0),i&&(i.getComponent(cc.Label).string=o[s]));this._setBtnChoose(0),this._announcementContent=[this.prefab_versionAnnouncement,this.prefab_officialDescAnnouncement],this._initAnnouncementsContent()},onClick_leftBtn:function(e,t){switch(t){case 0:this._scrollToUp(),this._showOneRules(t);break;case 1:this._scrollToUp(),this._showOneRules(t);break;case 2:this._scrollToUp(),this._showOneRules(t);break;case 2:this._scrollToUp(),this._showOneRules(t)}this._setBtnChoose(t)},_setBtnChoose:function(e){var t=this.comp_leftBtnContainer.getItemByIndex(e);t&&(this._lastTouchBtn&&(this._lastTouchBtn.children[0].active=!0,this._lastTouchBtn.children[1].active=!1,this._lastTouchBtn=null),this._lastTouchBtn=t,t.children[0].active=!1,t.children[1].active=!0)},_initAnnouncementsContent:function(){for(var e=[],t=0;t<this._announcementContent.length;t++)e[t]=cc.instantiate(this._announcementContent[t]),e[t].parent=this.comp_itemContainer.node,0==t?(e[t].active=!0,this.comp_itemContainer.node.height=e[t].height):e[t].active=!1},_showOneRules:function(e){for(var t=this.comp_itemContainer.node.children,i=0;i<t.length;i++)i!=e?t[i].active=!1:(t[i].active=!0,this.comp_itemContainer.node.height=t[i].height)},_scrollToUp:function(e){this.comp_scroll.scrollToTop()}}),cc._RFpop()},{BaseDialog:"BaseDialog"}],UI_dealerList:[function(e,t,i){"use strict";cc._RFpush(t,"d94ba+GJL9EE60oQvN313Hn","UI_dealerList"),cc.Class({"extends":e("BaseDialog"),properties:{_minDealerGold:null,node_bottomBtns:{"default":null,type:cc.Node,displayName:"按钮容器"},node_goldTip:{"default":null,type:cc.Node,displayName:"金币限制提示"},comp_goldSlider:{"default":null,type:e("Obj_dealerListSlider"),displayName:"进度条"}},onLoad:function(){this._super("UI_dealerList"),this._dealerItemCompName="Obj_dealerListCell",this._moneyFormat="<color=#FFFD61>%s</c>",this._limitText=[G_CHINESE.dealerGoldText1,G_CHINESE.dealerGoldText2,G_CHINESE.dealerGoldText3,G_CHINESE.dealerGoldText4],this._changeInterval=G_Config_bull100.dealerSliderInterval,this._registerEvent(),this._initDealerList()},start:function(){},setData:function(e){this._minDealerGold=GG.bull100Mgr.getMinDealerGold();var t=e.myGold,i=e.dealerInfo,n=GG.getPlayerID(),o=!1,s=e.rankList;s||(s=[]);for(var a,r,l=[],c="",_=0;_<s.length;_++)a=s[_],r=!1,a.playerId==i.playerId?(i=null,r=!0,l.splice(0,0,{headImg:a.icon,name:a.nickname,gold:a.usableBalance,isDealer:r})):l.push({headImg:a.icon,name:a.nickname,gold:a.usableBalance,isDealer:r}),a.playerId==n&&(o=!0,c=_+1);i&&(l.splice(0,0,{headImg:i.icon,name:i.nickname,gold:i.usableBalance,isDealer:!0}),i.playerId==n&&(r=!0,o=!0)),this.setBtnShow(o,r),this._setDealerList(l);var h=this._changeInterval;o?(this.comp_goldSlider.setData(t,h,h),r?this._showDownTip(this._limitText[2]):this._showDownTip(G_TOOL.formatStr(this._limitText[3],c))):(this.comp_goldSlider.setData(t,h,this._minDealerGold),t<this._minDealerGold?(this._showDownTip(this._limitText[1],this._minDealerGold),this.setBtnEnable(this.node_bottomBtns.children[1],!1)):(this._showDownTip(this._limitText[0],this._minDealerGold),this.setBtnEnable(this.node_bottomBtns.children[1],!0)))},_registerEvent:function(){for(var e=this.node_bottomBtns.children,t=0;t<e.length;t++)e[t].tag=t,this.registerButton(e[t],this._onClick_dealerBtnsr,this)},hideLayer:function(e){this._super()},_onClick_dealerBtnsr:function(e){switch(e.currentTarget.tag){case 0:GG.bull100Mgr.commitContinueDealer(this.comp_goldSlider.getMoveNum());break;case 1:GG.bull100Mgr.send_upDealer(this.comp_goldSlider.getMoveNum());break;case 2:GG.bull100Mgr.send_downDealer()}},_initDealerList:function(){var e={itemPrefab:this.prefab_item};this.comp_itemContainer.setData(e)},_setDealerList:function(e){var t,i,n=0;for(n=0;n<e.length;n++)t=this.comp_itemContainer.getItemByIndex(n),t&&(i=t.getComponent(this._dealerItemCompName),i.setData(e[n]));this.comp_itemContainer.clearItems(n-1)},setGoldLimitTip:function(e,t){var i;i=e>t?this._limitText[0]:this._limitText[1],this.node_goldTip.getComponent(cc.Label).string=i},setBtnShow:function(e,t){var i=this.node_bottomBtns.children;i[0].active=e||t,i[1].active=!(e||t),i[2].active=e||t},upDealerSuccess:function(e){if(this.showLayer(),this.setData(e),e.tipStr){({tipIndex:19,showStr:e.tipStr,isCountDown:!1,showPos:G_DATA.getCenterTipPos()})}},downDealerSuccess:function(e){if(this.showLayer(),this.setData(e),e.tipStr){({tipIndex:19,showStr:e.tipStr,isCountDown:!1,showPos:G_DATA.getCenterTipPos()})}},_showDownTip:function(e,t){t=t?G_TOOL.formatStr(this._moneyFormat,G_TOOL.changeMoney(t)):"",this.node_goldTip.getComponent(cc.RichText).string=e+t}}),cc._RFpop()},{BaseDialog:"BaseDialog",Obj_dealerListSlider:"Obj_dealerListSlider"}],UI_playerList:[function(e,t,i){"use strict";cc._RFpush(t,"31df5LxwYNGio3rVyUA8TeG","UI_playerList"),cc.Class({"extends":e("BaseDialog"),properties:{label_null:{"default":null,type:cc.Label,displayName:"无数据时显示"}},onLoad:function(){this._super("UI_playerList"),this._dealerItemCompName="Obj_dialogPlayerListCell";var e={itemPrefab:this.prefab_item,lineNum:4,scrollType:G_TYPE.scrollType.bag};this.comp_itemContainer.setData(e)},setData:function(){GG.httpMgr.sendHttpLogin(G_DIALOG_URL.playerListUrl,null,function(e){var t,i=e.data;"0"==e.code?t=e.msg:(t="",this._showList(i)),this._setNull(t)}.bind(this))},_showList:function(e){for(var t,i,n=0;n<e.length;n++)t=this.comp_itemContainer.getItemByIndex(n),t&&(i=t.getComponent(this._dealerItemCompName),i.setData(e[n]));this.comp_itemContainer.clearItems(n-1)},_setNull:function(e){this.label_null.string=e},hideLayer:function(){this._super()}}),cc._RFpop()},{BaseDialog:"BaseDialog"}],UI_record:[function(e,t,i){"use strict";cc._RFpush(t,"8f2caKCwp1J3b0ZdiUpPIaq","UI_record"),cc.Class({"extends":e("BaseDialog"),properties:{_lastTouchBtn:null,_list_cacheData:null,label_null:{"default":null,type:cc.Label,displayName:"无数据时显示"},comp_scroll:{"default":null,type:cc.ScrollView,displayName:"滚动的容器"}},onLoad:function(){this._super(),this._dealerItemCompName="Obj_dialogRecordCell",this._list_cacheData=[];var e={itemPrefab:this.prefab_item,scrollType:G_TYPE.scrollType.vertical};this.comp_itemContainer.setData(e);var e={itemPrefab:this.prefab_leftButton,scrollType:G_TYPE.scrollType.vertical};this.comp_leftBtnContainer.setData(e);for(var t,i,n,o=3,s=["今天数据","昨天数据","前天数据"],a=0;a<o;a++)t=this.comp_leftBtnContainer.getItemByIndex(a),t&&(i=t.children[0],n=t.children[1],i.tag=a,i&&this.registerButton(i,this.onClick_leftBtn,this,a,!0),n&&(n.getComponent(cc.Label).string=s[a]))},setData:function(){if(G_Config_common.isLocal){this.showLayer();for(var e=[],t=0;t<7;t++){var i={confirmtime:"2007/1/1",gamemodelname:"home1",gameroomname:"home2",effectiveamount:null,profitamount:-1};e.push(i)}this._setBtnChoose(0),this._setRecordList(e)}else{var n=GG.getPlayer().getGameID(),o={gameId:n,dateClass:0,pageSize:20,pageNow:0};this._sendRequest(o,function(e){this.showLayer(),this.setDataList(e)}.bind(this))}},onClick_leftBtn:function(e,t){var i=e.currentTarget;if(i.tag!=this._lastTouchBtn.tag){if(G_Config_common.isLocal)return void this._setBtnChoose(t);var n=GG.getPlayer().getGameID(),o={gameId:n,dateClass:0,pageSize:20,pageNow:0};switch(t){case 0:o.dateClass=0,this._scrollToUp(),this._sendRequest(o,function(e){this.setDataList(e)}.bind(this));break;case 1:o.dateClass=1,this._scrollToUp(),this._sendRequest(o,function(e){this.setDataList(e)}.bind(this));break;case 2:o.dateClass=2,this._scrollToUp(),this._sendRequest(o,function(e){this.setDataList(e)}.bind(this))}this._setBtnChoose(t)}},_setBtnChoose:function(e){var t=this.comp_leftBtnContainer.getItemByIndex(e);if(t){var i=t.children[0];this._lastTouchBtn&&(this._lastTouchBtn.children[0].active=!1,this._lastTouchBtn=null),this._lastTouchBtn=i,i.children[0].active=!0}},setDataList:function(e){var t;"1"==e.code&&e.data.datas?(this._setRecordList(e.data.datas),t=""):(t=e.msg,this.comp_itemContainer.clearItems(-1)),this._setNull(t)},_setRecordList:function(e){for(var t,i,n=0;n<e.length;n++)t=this.comp_itemContainer.getItemByIndex(n),t&&(i=t.getComponent(this._dealerItemCompName),i.setData(e[n]));this.comp_itemContainer.clearItems(n-1)},_setNull:function(e){this.label_null.string=e},_sendRequest:function(e,t){var i=this._list_cacheData[e.dateClass];if(i)t&&t(i),this._setBtnChoose(e.dateClass);else{var n="gameId="+e.gameId+"&dateClass="+e.dateClass+"&pageSize="+e.pageSize+"&pageNow="+e.pageNow;GG.httpMgr.sendHttpLogin(G_DIALOG_URL.recordUrl,n,function(i){t&&t(i),this._setBtnChoose(e.dateClass),this._list_cacheData[e.dateClass]=i}.bind(this))}},_scrollToUp:function(e){this.comp_scroll.scrollToTop()}}),cc._RFpop()},{BaseDialog:"BaseDialog"}],UI_rulesInHome:[function(e,t,i){"use strict";cc._RFpush(t,"0a6d2HHpjdIAJJYp8T52/0Q","UI_rulesInHome"),cc.Class({"extends":e("BaseDialog"),properties:{prefab_Bull100:{"default":null,type:cc.Prefab,displayName:"百人规则内容"},prefab_grab:{"default":null,type:cc.Prefab,displayName:"押宝规则内容"}},onLoad:function(){this._super("UI_rulesInHome"),this._rulesContent=[this.prefab_Bull100,this.prefab_grab]},setData:function(e){this._initRulesContent(e)},_initRulesContent:function(e){var t=cc.instantiate(this._rulesContent[e-1]);t.parent=this.comp_itemContainer.node,t.active=!0},hideLayer:function(){this._super()}}),cc._RFpop()},{BaseDialog:"BaseDialog"}],UI_rules:[function(e,t,i){"use strict";cc._RFpush(t,"966e2xbsN5Cn4mFk1IER7RH","UI_rules"),cc.Class({"extends":e("BaseDialog"),properties:{_rulesContent:null,prefab_introduce:{"default":null,type:cc.Prefab,displayName:"规则简介预制体"},prefab_bull100:{"default":null,type:cc.Prefab,displayName:"百人规则预制体"},prefab_grab:{"default":null,type:cc.Prefab,displayName:"押宝规则预制体"},comp_scroll:{"default":null,type:cc.ScrollView,displayName:"滚动的容器"}},onLoad:function(){this._super();var e={itemPrefab:this.prefab_leftButton,scrollType:G_TYPE.scrollType.vertical};this.comp_leftBtnContainer.setData(e);for(var t,i,n=["游戏简介","百人大战","押宝大战"],o=0;o<n.length;o++)t=this.comp_leftBtnContainer.getItemByIndex(o),t&&(i=t.children[2],this.registerButton(t,this.onClick_leftBtn,this,o,!0),i&&(i.getComponent(cc.Label).string=n[o]));this._setBtnChoose(0),this._rulesContent=[this.prefab_introduce,this.prefab_bull100,this.prefab_grab],this._initRulesContent()},onClick_leftBtn:function(e,t){switch(t){case 0:this._scrollToUp(),this._showOneRules(t);break;case 1:this._scrollToUp(),this._showOneRules(t);break;case 2:this._scrollToUp(),this._showOneRules(t);break;case 3:this._scrollToUp(),this._showOneRules(t)}this._setBtnChoose(t)},_setBtnChoose:function(e){var t=this.comp_leftBtnContainer.getItemByIndex(e);t&&(this._lastTouchBtn&&(this._lastTouchBtn.children[0].active=!0,this._lastTouchBtn.children[1].active=!1,this._lastTouchBtn=null),this._lastTouchBtn=t,t.children[0].active=!1,t.children[1].active=!0)},_initRulesContent:function(){for(var e=[],t=0;t<this._rulesContent.length;t++)e[t]=cc.instantiate(this._rulesContent[t]),e[t].parent=this.comp_itemContainer.node,0==t?(this.comp_itemContainer.node.height=e[t].height,e[t].active=!0):e[t].active=!1},_showOneRules:function(e){for(var t=this.comp_itemContainer.node.children,i=0;i<t.length;i++)i!=e?t[i].active=!1:(this.comp_itemContainer.node.height=t[i].height,t[i].active=!0)},_scrollToUp:function(e){this.comp_scroll.scrollToTop()}}),cc._RFpop()},{BaseDialog:"BaseDialog"}],UI_systemSet:[function(e,t,i){"use strict";cc._RFpush(t,"82611/wMStMw5RCoIcdMM0t","UI_systemSet");var n={typeMusic:1,typeSound:2};cc.Class({"extends":e("BaseDialog"),properties:{_musicIsOpen:null,_soundIsOpen:null,_isOpenFirst:null,node_changeBtn:{"default":null,type:cc.Node,displayName:"切换账号"},node_musicSwitch:{"default":null,type:cc.Node,displayName:"音乐开关"},node_soundSwitch:{"default":null,type:cc.Node,displayName:"音效开关"},node_musicIcon:{"default":null,type:cc.Node,displayName:"音乐左边图标"},node_soundIcon:{"default":null,type:cc.Node,displayName:"音效左边图标"},label_name:{"default":null,type:cc.Label,displayName:"玩家名字"}},onLoad:function(){this._super(),this._registerEvent(),this._isOpenFirst=!0},_registerEvent:function(){this.registerButton(this.node_changeBtn,this._onClick_change,this),this.registerButton(this.node_musicSwitch,this.onClick_open,this,n.typeMusic,!0),this.registerButton(this.node_soundSwitch,this.onClick_open,this,n.typeSound,!0)},_onClick_close:function(){if(G_Config_common.isLocal)return void this.hideLayer();var e=this._musicIsOpen?"Set_open":"Set_close",t=this._soundIsOpen?"Set_open":"Set_close",i="musicClass="+e+"&soundClass="+t+"&gameType=DOU_NIU",n=this;GG.httpMgr.sendHttpLogin(G_DIALOG_URL.saveSystemSetUrl,i,function(e){n.hideLayer()}.bind(this))},setData:function(){var e=this;if(G_Config_common.isLocal){var t={music:!0,sound:!0};GG.audioMgr.getAudioConfig()&&(t=GG.audioMgr.getAudioConfig()),this.defaultSetSound(t.music,t.sound),this._setName(),e.showLayer()}else if(this._isOpenFirst)GG.httpMgr.sendHttpLogin(G_DIALOG_URL.getSystemSetUrl,"gameType=DOU_NIU",function(t){var i=t.data.result[0];(!t||t.length<1)&&(i={music:!0,sound:!0}),i.music&&GG.audioMgr.getIsPlayMusic()?GG.audioMgr.saveSoundConfig(i.sound):GG.audioMgr.setAudioConfig(i);var t=GG.audioMgr.getAudioConfig();e.defaultSetSound(t.music,t.sound),e._setName(),e._isOpenFirst=!1,e.showLayer()}.bind(this));else{var t=GG.audioMgr.getAudioConfig();this.defaultSetSound(t.music,t.sound),this._setName(),e.showLayer()}},onClick_open:function(e,t){switch(t){case n.typeMusic:this._setMusicOpen(),GG.audioMgr.saveMusicConfig(this._musicIsOpen);break;case n.typeSound:this._setSoundOpen(),GG.audioMgr.saveSoundConfig(this._soundIsOpen)}},_setMusicOpen:function(){this._musicIsOpen=!this._musicIsOpen;var e,t,i;t=this.node_musicSwitch.children[0],e=this.node_musicSwitch.children[1],i=this.node_musicIcon.children[0],t.active=this._musicIsOpen,this._musicIsOpen?e.x=this.node_musicSwitch.width/2-e.width/2:e.x=-this.node_musicSwitch.width/2+e.width/2,i.active=this._musicIsOpen},_setSoundOpen:function(){this._soundIsOpen=!this._soundIsOpen;var e,t,i;t=this.node_soundSwitch.children[0],e=this.node_soundSwitch.children[1],i=this.node_soundIcon.children[0],t.active=this._soundIsOpen,this._soundIsOpen?e.x=this.node_soundSwitch.width/2-e.width/2:e.x=-this.node_soundSwitch.width/2+e.width/2,i.active=this._soundIsOpen},defaultSetSound:function(e,t){this._musicIsOpen=!e,this._soundIsOpen=!t,this._setMusicOpen(),this._setSoundOpen()},_setName:function(){var e="";G_Config_common.isLocal||(e=GG.getPlayer().getPlayerName()),e||(e=""),this.label_name.string=G_TOOL.getNameLimit(e,16)},_onClick_change:function(e){GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText2,function(){GG.exitGame()})}}),cc._RFpop()},{BaseDialog:"BaseDialog"}],UI_trend:[function(e,t,i){"use strict";cc._RFpush(t,"414dePmJ3NOd7eATXcLfkn7","UI_trend"),cc.Class({"extends":e("BaseDialog"),properties:{},onLoad:function(){this._super("UI_trend"),this._setScrollData();
},_setScrollData:function(){this._itemCompName="Obj_cell_trend";var e={itemPrefab:this.prefab_item,scrollType:G_TYPE.scrollType.vertical};this.comp_itemContainer.setData(e)},setData:function(e){var t;if(G_Config_common.isLocal){t=[];for(var i=0;i<5;i++){var n=[["SPADE",1],["DIAMOND",0],["CLUB",1],["HEART",0]];t.push(n)}this._showList(t)}else{var o;switch(GG.getGameType()){case G_TYPE.gameModule.bull100:o=G_TYPE.http_gameModule.bull100;break;case G_TYPE.gameModule.grab:o=G_TYPE.http_gameModule.grab;break;case G_TYPE.gameModule.classic:o=G_TYPE.http_gameModule.classic;break;default:o=1}var s="gameModelId="+o+"&gameRoomId="+e;GG.httpMgr.sendHttpLogin(G_DIALOG_URL.trendUrl,s,function(e){var t,i=[],n=e.data;if(n){for(var o=0;o<n.length;o++)if(i[o]||(i[o]=[]),t=n[o].matchResult)for(var s=0;s<t.length;s++)i[o].push([t[s].itemType,t[s].outcome]);this._showList(i)}else e.msg}.bind(this))}},_showList:function(e){for(var t,i,n,o=0;o<G_Config_common.showTrendItems;o++)t=e[o],t&&(i=this.comp_itemContainer.getItemByIndex(o),i&&(n=i.getComponent(this._itemCompName),n.setData(t)));this.comp_itemContainer.clearItems(o)},hideLayer:function(){this._super()}}),cc._RFpop()},{BaseDialog:"BaseDialog"}]},{},["Config_bull100","Config_chinese","Config_classic","Config_common","Config_dialogUrl","Config_grab","Config_resourceUrl","NetConfig","Object_config","TypeConfig","Button_multiple","Mask_extend","DataObject_socketMsg","Global","AudioMgr","GameData","HTTPMgr","ReloadResMgr","SocketCenter","SocketMgr","TablesMgr","TipsMgr","Tools","M_Player","M_PokerConfig","AutoDealing","Obj_calculateResult","Obj_cell_trend","Obj_coinEffect","Obj_confirmTip","Obj_countDownProgress","Obj_dealScroll","Obj_dealerListCell","Obj_dealerListSlider","Obj_dealerWordEffect","Obj_dialogAccountCell","Obj_dialogContentCell","Obj_dialogPlayerListCell","Obj_dialogRecordCell","Obj_effect_inHomeLoading","Obj_goldResultEffect","Obj_leftTopMenu","Obj_loadingEffect","Obj_notice","Obj_onPokerResult","Obj_othersGold","Obj_poker","Obj_rankItem_friend","Obj_roomList","Obj_roomListCell","Obj_scrollValue","Obj_seatsContainer","Obj_setTouchEffect","Obj_systemTip","Obj_topOneLayer","Obj_touchLimit","Obj_txtTip","Obj_uiContainer","Obj_winRankHead","BaseDialog","BaseManager","BaseUI","GameStart","Bull100_Manager","Bull100_btnContainer","Bull100_goldContainer","Bull100_playerBlock","Bull100_playerContainer","Bull100_pokerContainer","Bull100_pokerResultContainer","Bull100_showResult","Bull100_table","Bull100_tableContainer","Bull100_topEffect","Grab_topEffect","Grab_Manager","Grab_btnContainer","Grab_goldContainer","Grab_oneTable","Grab_playerBlock","Grab_playersLayer","Grab_pokerLayer","Grab_tablesLayer","Grab_topLayer","Platform_topEffect","Platform_Manager","Platform_bottomBtns","Platform_leftRank","Platform_topInfo","Platform_ui_enter","Platform_ui_roomContainer","Classic_Manager","Classic_controlButton","Classic_goldArea","Classic_page_result","Classic_playerBlock","Classic_pokerGiveArea","Classic_topTouchLayer","Classic_topUI","Obj_backgroundEffect1","Obj_pageResult_effect","Obj_playerBlock_effect","UI_account","UI_announcement","UI_dealerList","UI_playerList","UI_record","UI_rules","UI_rulesInHome","UI_systemSet","UI_trend"]);