{"version":3,"sources":["assets\\Script\\Views\\Scene_Bull100\\Bull100_playerBlock.js"],"names":["cc","Class","extends","Component","properties","_chooseChip","_isHandle","_dict_betRecord","_playerID","_siteIndex","_touchTableCallFunc","_data_betting","_bettingTimes","_seatMyselfComp","_dealerMyselfComp","_isDealer","_isSending","node_headImg","default","type","Node","displayName","node_playerName","node_roomName","node_ownerGold","prefab_goldResultEffect","Prefab","onLoad","_part_gold","getComponent","bindBlock","_label_gold","children","Label","_goldResultCompName","_dict_goldMatch","G_Config_bull100","dict_betGoldNum","_goldResultFlyTime","setDefaultChoose","setPlayerData","dataObj","node","active","setBettingGold","isDealer","playerId","seatIndex","_setHeadImg","icon","_setPlayerName","nickname","setGoldValue","coin","setUsableBalance","usableBalance","setHandleInfo","handleInfo","chooseDict","_dict_goldValueMatch","_setRoomName","roomName","bindSeatMyself","myselfComp","bindMyDealer","chooseChip","choose","value","setBalance","setIsHandle","isHandle","hidePlayer","setChooseGoldValue","dict","setIsDealer","getFlyGoldNum","getChooseChip","getChooseGoldValue","getMoneyChooseDict","getWorldPos","parentPos","parent","position","p","x","y","getBetRecord","getIsShow","getSeatIndex","getGoldValue","getBalance","getIsBetting","Boolean","getBettingGold","getIsDealer","getPlayerID","getHasBettingGold","getUsableBalance","clearBettingGold","setGoldValueEX","reduceGoldEX","changeGold","goldValue","getGoldValueEX","payGoldValueEX","touchTable","grabInfo","callFunc","startPos","goldNum","G_Config_common","isLocal","money","G_Config_grab","num_otherGrabGoldNum","_setTouchTableData","netData","matchId","GG","bull100Mgr","getMatchID","G_TYPE","net_gameModule","bull100","item","getItemByTableIndex","tableIndex","gold","socketMgr","SendMsg","NetType","s_doGrab","registerLong","r_doGrab_return","net_grabReturn","bind","recData","tip","code","serverCodeType","success","tipIndex","retainTime","showStr","tipsMgr","showTxtTip","matchNonExistent","exitHome","bettingValue","bet","leaveValue","nbSelf","balance","getBtnsComp","refreshCanChooseBtn","G_OBJ","data_bullBetting","attrName","addBettingGold","addGoldValueEX","_touchTableSuccess","goldImgNum","getDealerPokerPos","pokerOffX","containerPos","pos","width","scale","height","imageName","G_TOOL","setHeadImg","playerName","getNameLimit","string","undefined","showGoldValue","changeMoney","showGoldChange","_showGoldCount","count","labelNode","instantiate","zIndex","showGrabGold","parentScale","widthOff","visibleRect","time","act1","moveTo","act2","scaleTo","act3","delayTime","runAction","sequence","spawn","_labelMoveEnd","target","destroy","onDestroy"],"mappings":";;;;;;AAAA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAc,IADN,EACwD;AAChEC,mBAAY,IAFJ,EAEyD;AACjEC,yBAAkB,IAHV,EAGwD;AAChEC,mBAAY,IAJJ,EAIyD;AACjEC,oBAAa,IALL,EAKyD;AACjEC,6BAAsB,IANd,EAMwD;AAChEC,uBAAgB,IAPR,EAO0D;;AAElEC,uBAAgB,IATR,EASyD;AACjEC,yBAAkB,IAVV,EAUyD;AACjEC,2BAAoB,IAXZ,EAW0D;AAClEC,mBAAY,IAZJ,EAY0D;AAClEC,oBAAa,IAbL,EAa0D;;AAElEC,sBAAe;AACXC,qBAAU,IADC;AAEXC,kBAAOnB,GAAGoB,IAFC;AAGXC,yBAAc;AAHH,SAfP;AAoBRC,yBAAkB;AACdJ,qBAAU,IADI;AAEdC,kBAAOnB,GAAGoB,IAFI;AAGdC,yBAAc;AAHA,SApBV;AAyBRE,uBAAgB;AACZL,qBAAU,IADE;AAEZC,kBAAOnB,GAAGoB,IAFE;AAGZC,yBAAc;AAHF,SAzBR;AA8BRG,wBAAiB;AACbN,qBAAU,IADG;AAEbC,kBAAOnB,GAAGoB,IAFG;AAGbC,yBAAc;AAHD,SA9BT;AAmCRI,iCAA0B;AACtBP,qBAAU,IADY;AAEtBC,kBAAOnB,GAAG0B,MAFY;AAGtBL,yBAAc;AAHQ;AAnClB,KAHP;;AA6CL;AACAM,YAAQ,kBAAY;AAChB,aAAKC,UAAL,GAAkB,KAAKC,YAAL,CAAkB,uBAAlB,CAAlB;AACA,aAAKD,UAAL,CAAgBE,SAAhB,CAA0B,IAA1B;AACA,aAAKC,WAAL,GAAmB,KAAKP,cAAL,CAAoBQ,QAApB,CAA6B,CAA7B,EAAgCH,YAAhC,CAA6C7B,GAAGiC,KAAhD,CAAnB;;AAEA;AACA,aAAKC,mBAAL,GAA2B,sBAA3B;AACA;AACA,aAAKC,eAAL,GAAuBC,iBAAiBC,eAAxC;AACA;AACA;AACA,aAAKC,kBAAL,GAA0B,GAA1B;AACA,aAAKtB,UAAL,GAAkB,KAAlB;;AAEA,aAAKuB,gBAAL;AACH,KA7DI;;AA+DL;AACAC,mBAAgB,uBAAUC,OAAV,EAAmB;AAC/B,aAAKC,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,aAAKpC,eAAL,GAAuB,IAAvB;AACA,aAAKqB,UAAL,CAAgBgB,cAAhB,CAA+B,CAA/B;AACA,aAAKhC,aAAL,GAAqB,CAArB;AACA,aAAKD,aAAL,GAAqB,IAArB;AACA,aAAKI,SAAL,GAAiB0B,QAAQI,QAAzB;AACA,aAAKN,gBAAL;AACA,aAAK/B,SAAL,GAAiBiC,QAAQK,QAAzB;AACA,aAAKrC,UAAL,GAAkBgC,QAAQM,SAA1B;;AAEA,aAAKC,WAAL,CAAiBP,QAAQQ,IAAzB;AACA,aAAKC,cAAL,CAAoBT,QAAQU,QAA5B;AACA,aAAKC,YAAL,CAAkBX,QAAQY,IAA1B;AACA,aAAKzB,UAAL,CAAgB0B,gBAAhB,CAAiCb,QAAQc,aAAzC;AACH,KA/EI;;AAiFL;AACAC,mBAAgB,uBAAUC,UAAV,EAAsB;AAClC,YAAGA,WAAWC,UAAd,EAA0B,KAAKC,oBAAL,GAA4BF,WAAWC,UAAvC;AAC1B;AACA,aAAKE,YAAL,CAAkBH,WAAWI,QAA7B;AACH,KAtFI;AAuFL;AACAC,oBAAiB,wBAAUC,UAAV,EAAsB;AACnC,aAAKlD,eAAL,GAAuBkD,UAAvB;AACH,KA1FI;AA2FL;AACAC,kBAAe,sBAAUD,UAAV,EAAsB;AACjC,aAAKjD,iBAAL,GAAyBiD,UAAzB;AACH,KA9FI;;AAgGL;AACAxB,sBAAmB,4BAAY;AAC3B,YAAG,CAAC,KAAKlC,WAAT,EAAsB,KAAKA,WAAL,GAAmB,CAAnB;AACzB,KAnGI;AAoGL;AACA4D,gBAAa,oBAAUC,MAAV,EAAkB;AAC3B,aAAK7D,WAAL,GAAmB6D,MAAnB;AACH,KAvGI;AAwGLd,kBAAe,sBAAUe,KAAV,EAAiB;AAC5B,YAAG,CAACA,KAAJ,EAAWA,QAAQ,CAAR;AACX,aAAKvC,UAAL,CAAgBwC,UAAhB,CAA2BD,KAA3B;;AAEA;AACA,YAAG,KAAKtD,eAAR,EAAwB;AACpB,iBAAKA,eAAL,CAAqBuC,YAArB,CAAkCe,KAAlC;AACH;AACJ,KAhHI;AAiHLE,iBAAc,qBAAUC,QAAV,EAAoB;AAC9B,aAAKhE,SAAL,GAAiBgE,QAAjB;AACH,KAnHI;AAoHLC,gBAAa,sBAAY;AACrB,aAAK7B,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH,KAtHI;AAuHL6B,wBAAqB,4BAAUC,IAAV,EAAgB;AACjC,aAAKd,oBAAL,GAA4Bc,IAA5B;AACH,KAzHI;AA0HL;AACAC,iBAAc,qBAAU7B,QAAV,EAAoB;AAC9B,aAAK9B,SAAL,GAAiB8B,QAAjB;AACH,KA7HI;;AA+HL;;AAEA;AACA8B,mBAAgB,yBAAY;AACxB,eAAO,KAAKxC,eAAL,CAAqB,KAAK9B,WAA1B,CAAP;AACH,KApII;AAqILuE,mBAAgB,yBAAY;AACxB,eAAO,KAAKvE,WAAZ;AACH,KAvII;AAwILwE,wBAAqB,8BAAY;AAC7B,eAAO,KAAKlB,oBAAL,CAA0B,KAAKtD,WAAL,GAAiB,CAA3C,CAAP;AACH,KA1II;AA2ILyE,wBAAqB,8BAAY;AAC7B,eAAO,KAAKnB,oBAAZ;AACH,KA7II;AA8ILoB,iBAAc,uBAAY;AACtB;AACA;AACA;AACA;AACA,YAAIC,YAAY,KAAKtC,IAAL,CAAUuC,MAAV,CAAiBC,QAAjC;AACA,eAAOlF,GAAGmF,CAAH,CAAK,KAAKzC,IAAL,CAAU0C,CAAV,GAAYJ,UAAUI,CAA3B,EAA8B,KAAK1C,IAAL,CAAU2C,CAAV,GAAYL,UAAUK,CAApD,CAAP;AACH,KArJI;AAsJL;AACAC,kBAAe,wBAAY;AACvB,eAAO,KAAK/E,eAAZ;AACH,KAzJI;AA0JLgF,eAAY,qBAAY;AACpB,eAAO,KAAK7C,IAAL,CAAUC,MAAjB;AACH,KA5JI;AA6JL6C,kBAAe,wBAAY;AACvB,eAAO,KAAK/E,UAAZ;AACH,KA/JI;AAgKL;AACAgF,kBAAe,wBAAY;AACvB,eAAO,KAAK7D,UAAL,CAAgB8D,UAAhB,EAAP;AACH,KAnKI;AAoKL;AACAC,kBAAe,wBAAY;AACvB,eAAOC,QAAQ,KAAKhE,UAAL,CAAgBiE,cAAhB,EAAR,CAAP;AACH,KAvKI;AAwKL;AACAC,iBAAc,uBAAY;AACtB,eAAO,KAAK/E,SAAZ;AACH,KA3KI;AA4KL;AACAgF,iBAAc,uBAAY;AACtB,eAAO,KAAKvF,SAAZ;AACH,KA/KI;AAgLL;AACAwF,uBAAoB,6BAAY;AAC5B,eAAO,KAAKpE,UAAL,CAAgBiE,cAAhB,EAAP;AACH,KAnLI;AAoLL;AACAI,sBAAmB,4BAAY;AAC3B,eAAO,KAAKrE,UAAL,CAAgBqE,gBAAhB,EAAP;AACH,KAvLI;;AAyLL;AACAC,sBAAmB,4BAAY;AAC3B,aAAKtE,UAAL,CAAgBgB,cAAhB,CAA+B,CAA/B;AACA,aAAKhB,UAAL,CAAgBuE,cAAhB,CAA+B,CAA/B;AACH,KA7LI;;AA+LL;AACAC,kBAAe,sBAAUC,UAAV,EAAsB;AACjC,YAAIC,YAAY,KAAK1E,UAAL,CAAgB2E,cAAhB,EAAhB;AACA,YAAGD,aAAaD,UAAhB,EAA2B;AACvB,iBAAKzE,UAAL,CAAgB4E,cAAhB,CAA+BH,UAA/B;AACA,mBAAO,CAAP;AACH,SAHD,MAGK;AACD,gBAAIlC,QAAQkC,aAAaC,SAAzB;AACA,iBAAK1E,UAAL,CAAgBuE,cAAhB,CAA+B,CAA/B;AACA,mBAAOhC,KAAP;AACH;AACJ,KA1MI;;AA4ML;;AAEA;AACAsC,gBAAa,oBAAUC,QAAV,EAAoBC,QAApB,EAA8B;AACvC,aAAKjG,mBAAL,GAA2BiG,QAA3B;AACAD,iBAASE,QAAT,GAAoB,KAAK7B,WAAL,EAApB;AACA2B,iBAASG,OAAT,GAAmB,KAAKlC,aAAL,EAAnB;AACA,YAAG,CAAC,KAAKrE,SAAN,IAAmBwG,gBAAgBC,OAAtC,EAA8C;AAC1C;AACA,gBAAIC,QAAQN,SAASJ,SAArB;AACAI,qBAASG,OAAT,GAAmBI,cAAcC,oBAAjC;AACA,iBAAKvG,aAAL,GAAqB+F,QAArB;AACA,iBAAKS,kBAAL,CAAwBH,KAAxB,EAA+B,KAAKvB,YAAL,KAAoBuB,KAAnD;AACA;AACH,SAPD,MAOK;AACD,gBAAG,KAAKhG,UAAR,EAAmB;AACf;AACH;AACD0F,qBAASJ,SAAT,GAAqB,KAAKzB,kBAAL,EAArB;AACA,iBAAKlE,aAAL,GAAqB+F,QAArB;AACA;AACA,gBAAIU,UAAU;AACVC,yBAASC,GAAGC,UAAH,CAAcC,UAAd,EADC,EAC0B;AACpCrG,sBAAKsG,OAAOC,cAAP,CAAsBC,OAFjB,EAEyB;AACnCC,sBAAKN,GAAGC,UAAH,CAAcM,mBAAd,CAAkCnB,SAASoB,UAA3C,CAHK,EAGkD;AAC5DC,sBAAKrB,SAASJ,SAJJ,EAAd;AAMA,iBAAKtF,UAAL,GAAkB,IAAlB;AACAsG,eAAGU,SAAH,CAAaC,OAAb,CAAqBC,QAAQC,QAA7B,EAAuCf,OAAvC;AACAE,eAAGU,SAAH,CAAaI,YAAb,CAA0BF,QAAQG,eAAlC,EAAmD,KAAKC,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAnD;AACH;AACJ,KA3OI;;AA6OL;AACAD,oBAAiB,wBAAUE,OAAV,EAAmB;AAChC,aAAKxH,UAAL,GAAkB,KAAlB;;AAEA,YAAIyH,MAAMD,QAAQC,GAAlB;AACA,YAAGA,IAAIC,IAAJ,IAAYjB,OAAOkB,cAAP,CAAsBC,OAArC,EAA8C;AAC1C,gBAAInG,UAAU;AACVoG,0BAAW,EADD;AAEVC,4BAAa,CAFH;AAGVC,yBAAUN,IAAIA;AAHJ,aAAd;AAKAnB,eAAG0B,OAAH,CAAWC,UAAX,CAAsBxG,OAAtB;AACA;AACH;AACD;AACA,YAAIgG,IAAIC,IAAJ,IAAYjB,OAAOkB,cAAP,CAAsBO,gBAAtC,EAAwD;AACpD;AACA;AACA;AACA;AACA;AACA5B,eAAG6B,QAAH;AACA;AACH;;AAED,YAAIC,eAAeZ,QAAQa,GAAR,CAAYtB,IAA/B;AACA,YAAIuB,aAAad,QAAQe,MAAR,CAAeC,OAAhC;AACA,aAAKrC,kBAAL,CAAwBiC,YAAxB,EAAsCE,UAAtC,EAAkDd,QAAQe,MAAR,CAAehG,aAAjE;AACA;AACA+D,WAAGC,UAAH,CAAckC,WAAd,GAA4BC,mBAA5B,CAAgDlB,QAAQe,MAAR,CAAehG,aAA/D;AACH,KA3QI;;AA6QL4D,wBAAqB,4BAAUiC,YAAV,EAAwBE,UAAxB,EAAoC/F,aAApC,EAAmD;AACpE;AACA,YAAG,CAAC,KAAK5C,aAAT,EAAwB;AACxB,YAAI8B,UAAUkH,MAAMC,gBAAN,EAAd;AACA,aAAI,IAAIC,QAAR,IAAoB,KAAKlJ,aAAzB,EAAuC;AACnC,gBAAGkJ,QAAH,EAAapH,QAAQoH,QAAR,IAAoB,KAAKlJ,aAAL,CAAmBkJ,QAAnB,CAApB;AAChB;AACD,aAAKlJ,aAAL,GAAqB,IAArB;;AAEA8B,gBAAQ6D,SAAR,GAAoB8C,YAApB;AACA;AACA,aAAKxH,UAAL,CAAgBkI,cAAhB,CAA+BrH,QAAQ6D,SAAvC;AACA,aAAK1E,UAAL,CAAgBmI,cAAhB,CAA+BtH,QAAQ6D,SAAvC;AACA;AACA,aAAKlD,YAAL,CAAkBkG,UAAlB;AACA;AACA,aAAK1H,UAAL,CAAgB0B,gBAAhB,CAAiCC,aAAjC;AACA;AACA,aAAKyG,kBAAL,CAAwBvH,QAAQqF,UAAhC,EAA4CrF,QAAQoE,OAApD;AACA,aAAKjG,aAAL,IAAsB,CAAtB;AACA;AACA,YAAG,KAAKF,mBAAR,EAA4B;AACxB,iBAAKA,mBAAL,CAAyB+B,OAAzB;AACA,iBAAK/B,mBAAL,GAA2B,IAA3B;AACH;AACJ,KAtSI;;AAwSL;AACAsJ,wBAAqB,4BAAUlC,UAAV,EAAsBmC,UAAtB,EAAkC;AACnD,YAAG,CAAC,KAAK1J,eAAT,EAA0B,KAAKA,eAAL,GAAuB,EAAvB;AAC1B,YAAG,CAAC,KAAKA,eAAL,CAAqBuH,UAArB,CAAJ,EAAsC,KAAKvH,eAAL,CAAqBuH,UAArB,IAAmCmC,UAAnC,CAAtC,KACK,KAAK1J,eAAL,CAAqBuH,UAArB,KAAoCmC,UAApC;AACR,KA7SI;;AA+SL;AACAC,uBAAoB,6BAAY;AAC5B;AACA,YAAIC,YAAY,GAAhB;AACA,YAAIC,eAAe,KAAK1H,IAAL,CAAUuC,MAAV,CAAiBC,QAApC;AACA,YAAImF,MAAMrK,GAAGmF,CAAH,CAAK,KAAKzC,IAAL,CAAU0C,CAAV,GAAY,KAAK1C,IAAL,CAAU4H,KAAV,GAAgB,GAAhB,GAAoB,KAAK5H,IAAL,CAAU6H,KAA9B,GAAoCJ,SAAhD,GAA0DC,aAAahF,CAA5E,EAA+E,KAAK1C,IAAL,CAAU2C,CAAV,GAAY,KAAK3C,IAAL,CAAU8H,MAAV,GAAiB,GAAjB,GAAqB,KAAK9H,IAAL,CAAU6H,KAA3C,GAAiDH,aAAa/E,CAA7I,CAAV;AACA,eAAOgF,GAAP;AACH,KAtTI;;AAwTL;;AAEArH,iBAAc,qBAAUyH,SAAV,EAAqB;AAC/BC,eAAOC,UAAP,CAAkB,KAAK1J,YAAvB,EAAqCwJ,SAArC;AACH,KA5TI;;AA8TLvH,oBAAiB,wBAAU0H,UAAV,EAAsB;AACnC,YAAG,CAACA,UAAJ,EAAgBA,aAAa,EAAb;AAChBA,qBAAaF,OAAOG,YAAP,CAAoBD,UAApB,EAAgC,EAAhC,EAAoC,IAApC,CAAb;AACA,aAAKtJ,eAAL,CAAqBO,YAArB,CAAkC7B,GAAGiC,KAArC,EAA4C6I,MAA5C,GAAqDF,UAArD;AACH,KAlUI;;AAoULhH,kBAAe,sBAAUC,QAAV,EAAoB;AAC/B,YAAGA,aAAakH,SAAhB,EAA2BlH,WAAU,EAAV;AAC3B,YAAG,KAAKtC,aAAL,IAAsBsC,QAAzB,EAAmC,KAAKtC,aAAL,CAAmBM,YAAnB,CAAgC7B,GAAGiC,KAAnC,EAA0C6I,MAA1C,GAAmDjH,QAAnD;AACtC,KAvUI;;AAyULmH,mBAAgB,uBAAU7G,KAAV,EAAiB;AAC7B,aAAKpC,WAAL,CAAiB+I,MAAjB,GAA0BJ,OAAOO,WAAP,CAAmB9G,KAAnB,CAA1B;AACH,KA3UI;;AA6UL;AACA+G,oBAAiB,wBAAU/G,KAAV,EAAiB;AAC9B;AACA;AACA;AACA,aAAKgH,cAAL,CAAoBhH,KAApB;AACH,KAnVI;AAoVL;AACAgH,oBAAiB,wBAAUC,KAAV,EAAiB;AAC9B,YAAG,CAACA,KAAJ,EAAW;;AAEX,YAAIC,YAAYrL,GAAGsL,WAAH,CAAe,KAAK7J,uBAApB,CAAhB;AACA4J,kBAAUpG,MAAV,GAAmB,KAAKvC,IAAxB;AACA2I,kBAAUE,MAAV,GAAmB,CAAnB;;AAEAF,kBAAUxJ,YAAV,CAAuB,KAAKK,mBAA5B,EAAiDsJ,YAAjD,CAA8DJ,KAA9D;;AAEAC,kBAAUd,KAAV,GAAkB,GAAlB;AACA,YAAIkB,WAAJ,EAAiBC,QAAjB;AACAA,mBAAW,KAAKhJ,IAAL,CAAU4H,KAAV,GAAgB,GAA3B;AACA,YAAG,KAAKhK,SAAR,EAAkB;AACdmL,0BAAc,KAAK/I,IAAL,CAAU6H,KAAxB;AACH,SAFD,MAEM;AACFkB,0BAAc,KAAK/I,IAAL,CAAUuC,MAAV,CAAiBsF,KAA/B;AACH;AACD,YAAG,KAAK7H,IAAL,CAAU0C,CAAV,GAAcpF,GAAG2L,WAAH,CAAerB,KAAf,GAAqB,CAAtC,EAAyCoB,YAAW,CAAC,CAAZ;AACzC,YAAIE,OAAO,KAAKtJ,kBAAhB;AACA,YAAIuJ,OAAO7L,GAAG8L,MAAH,CAAUF,IAAV,EAAgBF,QAAhB,EAA0B,KAAKhJ,IAAL,CAAU8H,MAAV,GAAiB,GAA3C,CAAX;AACA,YAAIuB,OAAO/L,GAAGgM,OAAH,CAAWJ,IAAX,EAAiB,CAAjB,CAAX;AACA,YAAIK,OAAOjM,GAAGkM,SAAH,CAAaN,OAAK,CAAlB,CAAX;AACAP,kBAAUc,SAAV,CAAoBnM,GAAGoM,QAAH,CAAYpM,GAAGqM,KAAH,CAASR,IAAT,EAAcE,IAAd,CAAZ,EAAgCE,IAAhC,EAAqCjM,GAAG2G,QAAH,CAAY,KAAK2F,aAAjB,EAAgC,IAAhC,EAAsClB,KAAtC,CAArC,CAApB;AACH,KA5WI;AA6WLkB,mBAAgB,uBAAUC,MAAV,EAAkBnB,KAAlB,EAAyB;AACrCmB,eAAOC,OAAP;AACH,KA/WI;;AAiXLC,eAAY,qBAAY,CAEvB;;AAnXI,CAAT","file":"unknown","sourcesContent":["//玩家对象\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        _chooseChip : null,                                             //选择的筹码\r\n        _isHandle : null,                                                //是否是操作位\r\n        _dict_betRecord : null,                                         //投注记录\r\n        _playerID : null,                                                //玩家ID\r\n        _siteIndex : null,                                               //座位索引\r\n        _touchTableCallFunc : null,                                     //点击投注区域的回调\r\n        _data_betting : null,                                             //当前投注需要的信息对象\\\r\n\r\n        _bettingTimes : null,                                            //当前投注次数\r\n        _seatMyselfComp : null,                                          //座位上的自己玩家\r\n        _dealerMyselfComp : null,                                         //庄家座位上的自己\r\n        _isDealer : null,                                                 //是否是庄家\r\n        _isSending : null,                                                //是否正在投注请求\r\n\r\n        node_headImg : {\r\n            default : null,\r\n            type : cc.Node,\r\n            displayName : '玩家头像'\r\n        },\r\n        node_playerName : {\r\n            default : null,\r\n            type : cc.Node,\r\n            displayName : '玩家名字'\r\n        },\r\n        node_roomName : {\r\n            default : null,\r\n            type : cc.Node,\r\n            displayName : '房间名字'\r\n        },\r\n        node_ownerGold : {\r\n            default : null,\r\n            type : cc.Node,\r\n            displayName : '玩家金币父层'\r\n        },\r\n        prefab_goldResultEffect : {\r\n            default : null,\r\n            type : cc.Prefab,\r\n            displayName : '金币增减特效'\r\n        },\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this._part_gold = this.getComponent('Part_playerBlock_Gold');\r\n        this._part_gold.bindBlock(this);\r\n        this._label_gold = this.node_ownerGold.children[0].getComponent(cc.Label);\r\n\r\n        //头像上金币结果特效\r\n        this._goldResultCompName = 'Obj_goldResultEffect';\r\n        //筹码对应金币\r\n        this._dict_goldMatch = G_Config_bull100.dict_betGoldNum;\r\n        //头像上增减金币飞行时间\r\n        //this._goldResultFlyTime = G_Config_grab.time_goldOnHead;\r\n        this._goldResultFlyTime = 0.4;\r\n        this._isSending = false;\r\n\r\n        this.setDefaultChoose();\r\n    },\r\n\r\n    //初始设置玩家信息\r\n    setPlayerData : function (dataObj) {\r\n        this.node.active = true;\r\n        this._dict_betRecord = null;\r\n        this._part_gold.setBettingGold(0);\r\n        this._bettingTimes = 0;\r\n        this._data_betting = null;\r\n        this._isDealer = dataObj.isDealer;\r\n        this.setDefaultChoose();\r\n        this._playerID = dataObj.playerId;\r\n        this._siteIndex = dataObj.seatIndex;\r\n\r\n        this._setHeadImg(dataObj.icon);\r\n        this._setPlayerName(dataObj.nickname);\r\n        this.setGoldValue(dataObj.coin);\r\n        this._part_gold.setUsableBalance(dataObj.usableBalance);\r\n    },\r\n\r\n    //设置操作位的数据\r\n    setHandleInfo : function (handleInfo) {\r\n        if(handleInfo.chooseDict) this._dict_goldValueMatch = handleInfo.chooseDict;\r\n        //房间名字\r\n        this._setRoomName(handleInfo.roomName);\r\n    },\r\n    //绑定座位上的玩家\r\n    bindSeatMyself : function (myselfComp) {\r\n        this._seatMyselfComp = myselfComp;\r\n    },\r\n    //自己是庄家的时候，绑定庄家脚本\r\n    bindMyDealer : function (myselfComp) {\r\n        this._dealerMyselfComp = myselfComp;\r\n    },\r\n\r\n    //设置默认的筹码选择(如果已经选择过筹码了就不要重置了)\r\n    setDefaultChoose : function () {\r\n        if(!this._chooseChip) this._chooseChip = 1;\r\n    },\r\n    //选择一个筹码\r\n    chooseChip : function (choose) {\r\n        this._chooseChip = choose;\r\n    },\r\n    setGoldValue : function (value) {\r\n        if(!value) value = 0;\r\n        this._part_gold.setBalance(value);\r\n\r\n        //位置上的自己\r\n        if(this._seatMyselfComp){\r\n            this._seatMyselfComp.setGoldValue(value);\r\n        }\r\n    },\r\n    setIsHandle : function (isHandle) {\r\n        this._isHandle = isHandle;\r\n    },\r\n    hidePlayer : function () {\r\n        this.node.active = false;\r\n    },\r\n    setChooseGoldValue : function (dict) {\r\n        this._dict_goldValueMatch = dict;\r\n    },\r\n    //设置玩家是否是庄家，因为已经没有每局刷新玩家信息，所以需要主动设置\r\n    setIsDealer : function (isDealer) {\r\n        this._isDealer = isDealer;\r\n    },\r\n\r\n    //====================get\r\n\r\n    //获取已经选择的筹码需要飞行的金币数量\r\n    getFlyGoldNum : function () {\r\n        return this._dict_goldMatch[this._chooseChip]\r\n    },\r\n    getChooseChip : function () {\r\n        return this._chooseChip\r\n    },\r\n    getChooseGoldValue : function () {\r\n        return this._dict_goldValueMatch[this._chooseChip-1]\r\n    },\r\n    getMoneyChooseDict : function () {\r\n        return this._dict_goldValueMatch;\r\n    },\r\n    getWorldPos : function () {\r\n        //if(this._isHandle) return this.node.position;\r\n        //else{\r\n        //    return this.node.parent.position\r\n        //}\r\n        var parentPos = this.node.parent.position;\r\n        return cc.p(this.node.x+parentPos.x, this.node.y+parentPos.y)\r\n    },\r\n    //获取玩家的投注记录\r\n    getBetRecord : function () {\r\n        return this._dict_betRecord;\r\n    },\r\n    getIsShow : function () {\r\n        return this.node.active\r\n    },\r\n    getSeatIndex : function () {\r\n        return this._siteIndex\r\n    },\r\n    //获取当前剩余多少金币\r\n    getGoldValue : function () {\r\n        return this._part_gold.getBalance()\r\n    },\r\n    //是否在本局已经投注过\r\n    getIsBetting : function () {\r\n        return Boolean(this._part_gold.getBettingGold())\r\n    },\r\n    //是否是庄家\r\n    getIsDealer : function () {\r\n        return this._isDealer\r\n    },\r\n    //获取玩家ID\r\n    getPlayerID : function () {\r\n        return this._playerID\r\n    },\r\n    //获取已经投注的金币数额\r\n    getHasBettingGold : function () {\r\n        return this._part_gold.getBettingGold()\r\n    },\r\n    //获取可用余额\r\n    getUsableBalance : function () {\r\n        return this._part_gold.getUsableBalance();\r\n    },\r\n\r\n    //清理投注记录\r\n    clearBettingGold : function () {\r\n        this._part_gold.setBettingGold(0);\r\n        this._part_gold.setGoldValueEX(0);\r\n    },\r\n\r\n    //投注金额，仅用于自己是吃瓜群众的时候\r\n    reduceGoldEX : function (changeGold) {\r\n        var goldValue = this._part_gold.getGoldValueEX();\r\n        if(goldValue >= changeGold){\r\n            this._part_gold.payGoldValueEX(changeGold);\r\n            return 0;\r\n        }else{\r\n            var value = changeGold - goldValue;\r\n            this._part_gold.setGoldValueEX(0);\r\n            return value\r\n        }\r\n    },\r\n\r\n    //=============================做投注的请求\r\n\r\n    //点击桌子的大或者小\r\n    touchTable : function (grabInfo, callFunc) {\r\n        this._touchTableCallFunc = callFunc;\r\n        grabInfo.startPos = this.getWorldPos();\r\n        grabInfo.goldNum = this.getFlyGoldNum();\r\n        if(!this._isHandle || G_Config_common.isLocal){\r\n            //不是在玩家自己或者只是单机模式\r\n            var money = grabInfo.goldValue;\r\n            grabInfo.goldNum = G_Config_grab.num_otherGrabGoldNum;\r\n            this._data_betting = grabInfo;\r\n            this._setTouchTableData(money, this.getGoldValue()-money);\r\n            return\r\n        }else{\r\n            if(this._isSending){\r\n                return\r\n            }\r\n            grabInfo.goldValue = this.getChooseGoldValue();\r\n            this._data_betting = grabInfo;\r\n            //可以投注\r\n            var netData = {\r\n                matchId: GG.bull100Mgr.getMatchID(),//赛事id  int\r\n                type:G_TYPE.net_gameModule.bull100,//投注类型 string\r\n                item:GG.bull100Mgr.getItemByTableIndex(grabInfo.tableIndex),//投注项 string\r\n                gold:grabInfo.goldValue,//投注额 int\r\n            }\r\n            this._isSending = true;\r\n            GG.socketMgr.SendMsg(NetType.s_doGrab, netData);\r\n            GG.socketMgr.registerLong(NetType.r_doGrab_return, this.net_grabReturn.bind(this));\r\n        }\r\n    },\r\n\r\n    //百人——投注成功后返回的函数\r\n    net_grabReturn : function (recData) {\r\n        this._isSending = false;\r\n\r\n        var tip = recData.tip;\r\n        if(tip.code != G_TYPE.serverCodeType.success) {\r\n            var dataObj = {\r\n                tipIndex : 19,\r\n                retainTime : 3,\r\n                showStr : tip.tip,\r\n            }\r\n            GG.tipsMgr.showTxtTip(dataObj)\r\n            return;\r\n        }\r\n        //赛事不存在踢出\r\n        if (tip.code == G_TYPE.serverCodeType.matchNonExistent) {\r\n            //var netData = {\r\n            //    roomId: GG.bull100Mgr.getHomeID(),\r\n            //    isBreak: true\r\n            //};\r\n            //GG.socketMgr.SendMsg(NetType.s_grab_Exit, netData);\r\n            GG.exitHome();\r\n            return;\r\n        }\r\n\r\n        var bettingValue = recData.bet.gold;\r\n        var leaveValue = recData.nbSelf.balance;\r\n        this._setTouchTableData(bettingValue, leaveValue, recData.nbSelf.usableBalance);\r\n        //押注过程中更新押注按钮（置灰）\r\n        GG.bull100Mgr.getBtnsComp().refreshCanChooseBtn(recData.nbSelf.usableBalance);\r\n    },\r\n\r\n    _setTouchTableData : function (bettingValue, leaveValue, usableBalance) {\r\n        //重组投注信息对象\r\n        if(!this._data_betting) return;\r\n        var dataObj = G_OBJ.data_bullBetting();\r\n        for(var attrName in this._data_betting){\r\n            if(attrName) dataObj[attrName] = this._data_betting[attrName];\r\n        }\r\n        this._data_betting = null;\r\n\r\n        dataObj.goldValue = bettingValue;\r\n        //更新投注金额池信息\r\n        this._part_gold.addBettingGold(dataObj.goldValue);\r\n        this._part_gold.addGoldValueEX(dataObj.goldValue);\r\n        //更新余额信息\r\n        this.setGoldValue(leaveValue);\r\n        //更新可用余额信息\r\n        this._part_gold.setUsableBalance(usableBalance);\r\n        //记录投注信息\r\n        this._touchTableSuccess(dataObj.tableIndex, dataObj.goldNum);\r\n        this._bettingTimes += 1;\r\n        // GG.bull100Mgr.setBettingTimes(this._bettingTimes);\r\n        if(this._touchTableCallFunc){\r\n            this._touchTableCallFunc(dataObj);\r\n            this._touchTableCallFunc = null;\r\n        }\r\n    },\r\n\r\n    //投注成功后记录投注信息\r\n    _touchTableSuccess : function (tableIndex, goldImgNum) {\r\n        if(!this._dict_betRecord) this._dict_betRecord = {};\r\n        if(!this._dict_betRecord[tableIndex]) this._dict_betRecord[tableIndex] = goldImgNum;\r\n        else this._dict_betRecord[tableIndex] += goldImgNum\r\n    },\r\n\r\n    //获取庄家卡牌的位置\r\n    getDealerPokerPos : function () {\r\n        //卡牌位置是庄家中心点偏左\r\n        var pokerOffX = 0.4;\r\n        var containerPos = this.node.parent.position;\r\n        var pos = cc.p(this.node.x-this.node.width*0.5*this.node.scale*pokerOffX+containerPos.x, this.node.y-this.node.height*0.5*this.node.scale+containerPos.y)\r\n        return pos\r\n    },\r\n\r\n    //ui表现相关===============================\r\n\r\n    _setHeadImg : function (imageName) {\r\n        G_TOOL.setHeadImg(this.node_headImg, imageName);\r\n    },\r\n\r\n    _setPlayerName : function (playerName) {\r\n        if(!playerName) playerName = '';\r\n        playerName = G_TOOL.getNameLimit(playerName, 10, true);\r\n        this.node_playerName.getComponent(cc.Label).string = playerName;\r\n    },\r\n\r\n    _setRoomName : function (roomName) {\r\n        if(roomName === undefined) roomName= '';\r\n        if(this.node_roomName && roomName) this.node_roomName.getComponent(cc.Label).string = roomName;\r\n    },\r\n\r\n    showGoldValue : function (value) {\r\n        this._label_gold.string = G_TOOL.changeMoney(value);\r\n    },\r\n\r\n    //显示玩家数值的增减\r\n    showGoldChange : function (value) {\r\n        //金钱没有变化\r\n        //金钱变化正或者负\r\n        //var dir = G_TOOL.getRandomBool() ? 1 : -1;\r\n        this._showGoldCount(value);\r\n    },\r\n    //显示玩家数值特效\r\n    _showGoldCount : function (count) {\r\n        if(!count) return;\r\n\r\n        var labelNode = cc.instantiate(this.prefab_goldResultEffect);\r\n        labelNode.parent = this.node;\r\n        labelNode.zIndex = 2;\r\n\r\n        labelNode.getComponent(this._goldResultCompName).showGrabGold(count);\r\n\r\n        labelNode.scale = 0.1;\r\n        var parentScale, widthOff;\r\n        widthOff = this.node.width*0.3;\r\n        if(this._isHandle){\r\n            parentScale = this.node.scale;\r\n        }else {\r\n            parentScale = this.node.parent.scale;\r\n        }\r\n        if(this.node.x > cc.visibleRect.width/2) widthOff*= -1;\r\n        var time = this._goldResultFlyTime;\r\n        var act1 = cc.moveTo(time, widthOff, this.node.height*0.4);\r\n        var act2 = cc.scaleTo(time, 1);\r\n        var act3 = cc.delayTime(time*2);\r\n        labelNode.runAction(cc.sequence(cc.spawn(act1,act2),act3,cc.callFunc(this._labelMoveEnd, this, count)))\r\n    },\r\n    _labelMoveEnd : function (target, count) {\r\n        target.destroy();\r\n    },\r\n\r\n    onDestroy : function () {\r\n\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}