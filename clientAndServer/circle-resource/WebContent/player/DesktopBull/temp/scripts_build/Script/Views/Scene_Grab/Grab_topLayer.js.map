{"version":3,"sources":["assets\\Script\\Views\\Scene_Grab\\Grab_topLayer.js"],"names":["cc","Class","extends","require","properties","node_startImg","Node","onLoad","_registerStart","active","registerButton","OnClick_startImg","G_Config_common","isLocal","event","GG","grabMgr","forceStart","socketMgr","connectSocket","_connectEnd","bind","isSuccess","_login","netData","userId","getPlayer","getPlayerID","SendMsg","NetType","s_login","getTopEffect","getComponent"],"mappings":";;;;;;AAAA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASC,QAAQ,aAAR,CADJ;;AAGLC,gBAAY;AACRC,uBAAgBL,GAAGM;AADX,KAHP;;AAOL;AACAC,YAAQ,kBAAY;AAChB,aAAKC,cAAL;AACH,KAVI;AAWLA,oBAAiB,0BAAY;AACzB,YAAG,KAAKH,aAAR,EAAuB;AACnB,iBAAKA,aAAL,CAAmBI,MAAnB,GAA4B,IAA5B;AACA,iBAAKC,cAAL,CAAoB,KAAKL,aAAzB,EAAwC,KAAKM,gBAA7C,EAA+D,IAA/D;AACH;AACD,YAAGC,gBAAgBC,OAAnB,EAA2B,CAE1B,CAFD,MAEK;AACD,iBAAKR,aAAL,CAAmBI,MAAnB,GAA4B,KAA5B;AACH;AACJ,KArBI;AAsBLE,sBAAmB,0BAAUG,KAAV,EAAiB;AAChC,YAAGF,gBAAgBC,OAAnB,EAA2B;AACvB,iBAAKR,aAAL,CAAmBI,MAAnB,GAA4B,KAA5B;AACAM,eAAGC,OAAH,CAAWC,UAAX;AACH,SAHD,MAGK;AACDF,eAAGG,SAAH,CAAaC,aAAb,CAA2B,KAAKC,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAA3B;AACH;AACJ,KA7BI;;AA+BLD,iBAAc,qBAAUE,SAAV,EAAqB;AAC/B,YAAGA,SAAH,EAAa;AACT,iBAAKjB,aAAL,CAAmBI,MAAnB,GAA4B,KAA5B;AACA,iBAAKc,MAAL;AACA;AACH;AACJ,KArCI;;AAuCLA,YAAS,kBAAY;AACjB,YAAIC,UAAU;AACVC,oBAASV,GAAGW,SAAH,GAAeC,WAAf;AADC,SAAd;AAGAZ,WAAGG,SAAH,CAAaU,OAAb,CAAqBC,QAAQC,OAA7B,EAAsCN,OAAtC;AACH,KA5CI;;AA8CL;AACA;AACA;AACA;AACA;;AAEAO,kBAAe,wBAAY;AACvB,eAAO,KAAKC,YAAL,CAAkB,gBAAlB,CAAP;AACH;;AAtDI,CAAT","file":"unknown","sourcesContent":["//游戏最上面的层容器\r\n\r\ncc.Class({\r\n    extends: require('AutoDealing'),\r\n\r\n    properties: {\r\n        node_startImg : cc.Node,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this._registerStart();\r\n    },\r\n    _registerStart : function () {\r\n        if(this.node_startImg) {\r\n            this.node_startImg.active = true;\r\n            this.registerButton(this.node_startImg, this.OnClick_startImg, this);\r\n        }\r\n        if(G_Config_common.isLocal){\r\n\r\n        }else{\r\n            this.node_startImg.active = false;\r\n        }\r\n    },\r\n    OnClick_startImg : function (event) {\r\n        if(G_Config_common.isLocal){\r\n            this.node_startImg.active = false;\r\n            GG.grabMgr.forceStart();\r\n        }else{\r\n            GG.socketMgr.connectSocket(this._connectEnd.bind(this));\r\n        }\r\n    },\r\n\r\n    _connectEnd : function (isSuccess) {\r\n        if(isSuccess){\r\n            this.node_startImg.active = false;\r\n            this._login();\r\n            //GG.grabMgr.firstStart();\r\n        }\r\n    },\r\n\r\n    _login : function () {\r\n        var netData = {\r\n            userId : GG.getPlayer().getPlayerID()\r\n        }\r\n        GG.socketMgr.SendMsg(NetType.s_login, netData);\r\n    },\r\n\r\n    //_enterHome : function (data) {\r\n    //    console.log('_enterHome success------')\r\n    //    console.log(data)\r\n    //    GG.grabMgr.requestEnterHome();\r\n    //},\r\n\r\n    getTopEffect : function () {\r\n        return this.getComponent('Grab_topEffect');\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}