{"version":3,"sources":["assets\\Script\\Views\\Scene_Platform\\UI\\Platform_bottomBtns.js"],"names":["cc","Class","extends","require","properties","node_buttonContainer","default","type","Node","displayName","node_propContainer","onLoad","_registerEvent","btns","children","i","length","tag","registerButton","_onClick_touchBtn","event","currentTarget","uiName","G_RES_URL","announcement","layer","GG","platformMgr","openUI","showLayer","rules","record","setData","account","moveOutScene","isOut","isNoEffect","_firstBtnPosY","y","height","scale","time","stopAllActions","targetPos","p","x","runAction","moveTo","active"],"mappings":"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","file":"unknown","sourcesContent":["//底部按钮\r\n\r\n\r\ncc.Class({\r\n    extends: require('BaseUI'),\r\n\r\n    properties: {\r\n        node_buttonContainer : {\r\n            default : null,\r\n            type : cc.Node,\r\n            displayName : '按钮容器'\r\n        },\r\n        node_propContainer : {\r\n            default : null,\r\n            type : cc.Node,\r\n            displayName : '道具容器'\r\n        }\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this._registerEvent();\r\n\r\n    },\r\n\r\n    _registerEvent : function () {\r\n        var btns = this.node_buttonContainer.children;\r\n        for(var i = 0; i<btns.length; i++) {\r\n            btns[i].tag = i;\r\n            this.registerButton(btns[i], this._onClick_touchBtn, this);\r\n        }\r\n    },\r\n\r\n    _onClick_touchBtn : function (event) {\r\n        switch (event.currentTarget.tag){\r\n            case 0:\r\n                //点击打开公告弹窗\r\n                //GG.platformMgr.showUI('UI_announcement', false);\r\n                var uiName = G_RES_URL.uiName.announcement;\r\n                var layer = GG.platformMgr.openUI(uiName, function (layer) {\r\n                    layer.showLayer();\r\n                });\r\n                break;\r\n            case 1:\r\n                //点击打开规则弹窗\r\n                //GG.platformMgr.showUI('UI_rules', false);\r\n                var uiName = G_RES_URL.uiName.rules;\r\n                GG.platformMgr.openUI(uiName, function (layer) {\r\n                    layer.showLayer();\r\n                });\r\n                break;\r\n            case 2:\r\n                //点击打开记录弹窗\r\n                //GG.platformMgr.showUI('UI_record', false);\r\n                //GG.platformMgr.getRecordData();\r\n\r\n                var uiName = G_RES_URL.uiName.record;\r\n                var layer = GG.platformMgr.openUI(uiName, function (layer) {\r\n                    layer.setData();\r\n                });\r\n                break;\r\n            case 3:\r\n                //点击打开帐目弹窗\r\n                var uiName = G_RES_URL.uiName.account;\r\n                var layer = GG.platformMgr.openUI(uiName, function (layer) {\r\n                    layer.setData();\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n\r\n    //移出屏幕外\r\n    moveOutScene : function (isOut, isNoEffect) {\r\n        if(!this.node_buttonContainer._firstBtnPosY) {\r\n            this.node_buttonContainer._firstBtnPosY = -this.node_buttonContainer.y;\r\n        }\r\n        if(isNoEffect){\r\n            this.node_buttonContainer.y = this.node_buttonContainer._firstBtnPosY - (isOut?this.node_buttonContainer.height*this.node_buttonContainer.scale:0);\r\n        }else{\r\n            var time = 0.5;\r\n            this.node_buttonContainer.stopAllActions();\r\n            var targetPos = cc.p(this.node_buttonContainer.x, this.node_buttonContainer._firstBtnPosY);\r\n            if(isOut) targetPos.y = -(this.node_buttonContainer.height*this.node_buttonContainer.scale/2);\r\n            this.node_buttonContainer.runAction(cc.moveTo(time, targetPos));\r\n        }\r\n        this.node_propContainer.active = !isOut;\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}