{"version":3,"sources":["assets\\Script\\Views\\Scene_Bull100\\Bull100_btnContainer.js"],"names":["cc","Class","extends","require","properties","_lastBtn","node_btnGroup","Node","node_effectUnderButton","node_exitHomeBtn","node_rightBtn1","node_rightBtn2","node_rightBtn3","node_continueDealer","default","type","displayName","onLoad","_btnCompName","_isAdaptPos","_registerAllBtn","initChipBtn","valueDict","_setBtnInfo","setStartInfo","setBtnGroupEnable","btns","children","i","length","registerButton","OnClick_chooseMoney","parseInt","OnClick_exit","OnClick_right1","OnClick_right2","OnClick_right3","continueDealer","downDealer","OnClick_continueDealer","OnClick_leaveDealer","event","userData","chooseLevel","_showChooseEffect","target","playerChoose","GG","bull100Mgr","getMyselfComp","chooseChip","isContinue","testExitBtn","G_Config_common","isLocal","tipsMgr","showConfirmTip_TWO","G_CHINESE","exitText1","exitHome","getIsBetting","netData","roomId","getHomeID","isBreak","socketMgr","SendMsg","NetType","s_grab_Exit","getIsDealer","getDealerState","exitText3","showUI_playerList","data","G_TYPE","gameModule","bull100","showUI_rules","showUI_trendList","send_getDealerList","send_downDealer","index","tag","getComponent","showMoney","chooseMoney","btn","_getBtnByIndex","isBetting","getFirstBetting","targetBtn","_chooseBtn","active","x","y","height","_hideEffect","_cancelChoose","setBtnEnable","isEnable","btnGroup","refreshCanChooseBtn","useGold","_list_myGrabOption","getMoneyChooseDict","G_DATA","isNumber","getUsableBalance","targetChoose","option","lastChoose","getChooseChip","_setIsShowDealerBtn","isShow","setBottomIsShow","getIdleBettingPos","pos","position","basePos","parent","posX","posY","p"],"mappings":"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","file":"unknown","sourcesContent":["//百人大战按钮管理类\r\n\r\n\r\ncc.Class({\r\n    extends: require('AutoDealing'),\r\n\r\n    properties: {\r\n        _lastBtn : null,\r\n\r\n        node_btnGroup : cc.Node,\r\n        // node_effectOnButton : cc.Node,\r\n        node_effectUnderButton : cc.Node,\r\n        node_exitHomeBtn : cc.Node,\r\n\r\n        node_rightBtn1 : cc.Node,\r\n        node_rightBtn2 : cc.Node,\r\n        node_rightBtn3 : cc.Node,\r\n\r\n        node_continueDealer : {\r\n            default : null,\r\n            type : cc.Node,\r\n            displayName : '续庄按钮容器'\r\n        }\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this._btnCompName = 'Obj_optionButton';\r\n        this._isAdaptPos = false;\r\n        this._registerAllBtn();\r\n    },\r\n\r\n    initChipBtn : function (valueDict) {\r\n        this._setBtnInfo(valueDict);\r\n    },\r\n\r\n    setStartInfo : function () {\r\n        this.setBtnGroupEnable(false);\r\n    },\r\n\r\n    _registerAllBtn : function () {\r\n        var btns = this.node_btnGroup.children;\r\n        for(var i = 0; i < btns.length; i ++){\r\n            this.registerButton(btns[i], this.OnClick_chooseMoney, this, parseInt(i), true);\r\n        }\r\n        this.registerButton(this.node_exitHomeBtn, this.OnClick_exit, this);\r\n        //this.node_exitHomeBtn.getComponent('Obj_leftTopMenu').bindFunc(this.OnClick_exit.bind(this));\r\n\r\n        this.registerButton(this.node_rightBtn1, this.OnClick_right1, this);\r\n        this.registerButton(this.node_rightBtn2, this.OnClick_right2, this);\r\n        this.registerButton(this.node_rightBtn3, this.OnClick_right3, this);\r\n\r\n        var continueDealer = this.node_continueDealer.children[0];\r\n        var downDealer = this.node_continueDealer.children[1];\r\n        this.registerButton(continueDealer, this.OnClick_continueDealer, this);\r\n        this.registerButton(downDealer, this.OnClick_leaveDealer, this);\r\n    },\r\n    OnClick_chooseMoney : function (event, userData) {\r\n        var chooseLevel = parseInt(userData);\r\n        this._showChooseEffect(event.target);\r\n\r\n        var playerChoose = chooseLevel + 1;\r\n        GG.bull100Mgr.getMyselfComp().chooseChip(playerChoose);\r\n    },\r\n    OnClick_exit : function (event) {\r\n        var isContinue = GG.bull100Mgr.testExitBtn();\r\n        if(!isContinue) return;\r\n\r\n        if(G_Config_common.isLocal){\r\n            GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText1, function () {\r\n                GG.exitHome();\r\n            });\r\n            return\r\n        }\r\n\r\n        if(GG.bull100Mgr.getIsBetting()){\r\n            GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText1, function () {\r\n                var netData = {\r\n                    roomId : GG.bull100Mgr.getHomeID(),\r\n                    isBreak : true\r\n                }\r\n                GG.socketMgr.SendMsg(NetType.s_grab_Exit, netData);\r\n            });\r\n        } else if (GG.bull100Mgr.getMyselfComp().getIsDealer() && GG.bull100Mgr.getDealerState()) {\r\n            GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText3, function () {\r\n                var netData = {\r\n                    roomId: GG.bull100Mgr.getHomeID(),\r\n                    isBreak: true\r\n                }\r\n                GG.socketMgr.SendMsg(NetType.s_grab_Exit, netData);\r\n            });\r\n        } else{\r\n            var netData = {\r\n                roomId : GG.bull100Mgr.getHomeID(),\r\n                isBreak : true\r\n            }\r\n            GG.socketMgr.SendMsg(NetType.s_grab_Exit, netData);\r\n        }\r\n    },\r\n    //顯示玩家列表\r\n    OnClick_right1 : function (event) {\r\n        GG.bull100Mgr.showUI_playerList();\r\n    },\r\n    //顯示游戏规则\r\n    OnClick_right2 : function (event) {\r\n        var data = G_TYPE.gameModule.bull100;\r\n        GG.bull100Mgr.showUI_rules(data);\r\n    },\r\n    //顯示走勢圖\r\n    OnClick_right3 : function (event) {\r\n        GG.bull100Mgr.showUI_trendList(GG.bull100Mgr.getHomeID());\r\n    },\r\n\r\n    //点击续庄\r\n    OnClick_continueDealer : function (event) {\r\n        GG.bull100Mgr.send_getDealerList();\r\n    },\r\n    //点击下庄\r\n    OnClick_leaveDealer : function (event) {\r\n        GG.bull100Mgr.send_downDealer();\r\n    },\r\n\r\n    _setBtnInfo : function (valueDict) {\r\n        var btns = this.node_btnGroup.children, index;\r\n        for(var i = 0; i < btns.length; i ++){\r\n            index = parseInt(i);\r\n            btns[i].tag = valueDict[index];\r\n            btns[i].getComponent(this._btnCompName).showMoney(valueDict[index], false);\r\n        }\r\n    },\r\n    chooseMoney : function (index) {\r\n        var btn = this._getBtnByIndex(index);\r\n        //获取第一次进房是否可下注\r\n        this.isBetting = GG.bull100Mgr.getFirstBetting();\r\n        this._showChooseEffect(btn);\r\n    },\r\n\r\n    //move touch effect\r\n    _showChooseEffect : function (targetBtn) {\r\n        this._chooseBtn(targetBtn);\r\n\r\n        //effect\r\n        // this.node_effectOnButton.active = true;\r\n        this.node_effectUnderButton.active = true;\r\n\r\n        // this.node_effectOnButton.position = cc.p(targetBtn.x, targetBtn.y);;\r\n        this.node_effectUnderButton.x = targetBtn.x;\r\n        this.node_effectUnderButton.y = -targetBtn.height*0.65;\r\n        //刚进入游戏如果可下注 强制自适应\r\n        // if (this.isBetting && !this._isAdaptPos) {\r\n        //     this.node_effectUnderButton.position = G_TOOL.adaptPos(this.node_effectUnderButton.position);\r\n        //     var size = G_TOOL.adaptSize(targetBtn.width, targetBtn.height);\r\n        //     this.node_effectUnderButton.width = size.width;\r\n        //     this._isAdaptPos = true;\r\n        // } else {\r\n        //     this.node_effectUnderButton.width = targetBtn.width;\r\n        // }\r\n        ////ani\r\n        // //this.node_effectOnButton.getComponent(cc.Animation).play();\r\n    },\r\n    _hideEffect : function () {\r\n        // this.node_effectOnButton.active = false;\r\n        this.node_effectUnderButton.active = false;\r\n    },\r\n\r\n\r\n    //button touch move up\r\n    _chooseBtn : function (targetBtn) {\r\n        this._cancelChoose();\r\n        targetBtn.getComponent(this._btnCompName).showMoney(null, true);\r\n        //targetBtn.y += targetBtn.height/2;\r\n        this.setBtnEnable(targetBtn, false, true);\r\n        this._lastBtn = targetBtn;\r\n    },\r\n    _cancelChoose : function () {\r\n        if(this._lastBtn){\r\n            this._hideEffect();\r\n            this._lastBtn.getComponent(this._btnCompName).showMoney(null, false);\r\n            this.setBtnEnable(this._lastBtn, true);\r\n            this._lastBtn.y = 0;\r\n            this._lastBtn = null;\r\n        }\r\n    },\r\n\r\n    setBtnGroupEnable : function (isEnable) {\r\n        this._cancelChoose();\r\n        var btnGroup = this.node_btnGroup.children;\r\n        for(var i = 0; i < btnGroup.length; i ++){\r\n            this.setBtnEnable(btnGroup[i], isEnable);\r\n        }\r\n    },\r\n\r\n    refreshCanChooseBtn : function (useGold) {\r\n        if(!this._list_myGrabOption) this._list_myGrabOption = GG.bull100Mgr.getMyselfComp().getMoneyChooseDict();\r\n        var btnGroup = this.node_btnGroup.children;\r\n        if(!G_DATA.isNumber(useGold)) useGold = GG.bull100Mgr.getMyselfComp().getUsableBalance();\r\n        var targetChoose = null;\r\n\r\n        for(var option = 0; option < this._list_myGrabOption.length; option ++){\r\n            if(this._list_myGrabOption[option] <= useGold){\r\n                this.setBtnEnable(btnGroup[option], true);\r\n                targetChoose = parseInt(option);\r\n            }else{\r\n                if(this._lastBtn && this._lastBtn.tag == this._list_myGrabOption[option]){\r\n                    this._cancelChoose();\r\n                }\r\n                this.setBtnEnable(btnGroup[option], false);\r\n            }\r\n        }\r\n        //如果有取消选中筹码，需要重新选择筹码\r\n        if(!this._lastBtn && G_DATA.isNumber(targetChoose)){\r\n            //保持上次的选择\r\n            var lastChoose = GG.bull100Mgr.getMyselfComp().getChooseChip() - 1;\r\n            if(lastChoose < targetChoose) targetChoose = lastChoose;\r\n\r\n            this._showChooseEffect(btnGroup[targetChoose]);\r\n            GG.bull100Mgr.getMyselfComp().chooseChip(targetChoose+1);\r\n        }\r\n    },\r\n\r\n    //是否显示续庄和下庄的按钮\r\n    _setIsShowDealerBtn : function (isShow) {\r\n        this.node_continueDealer.active = isShow;\r\n    },\r\n    //隐藏底部的所有按钮\r\n    setBottomIsShow : function (isShow) {\r\n        this.setBtnGroupEnable(false);\r\n        this.node_btnGroup.active = isShow;\r\n        this._setIsShowDealerBtn(!isShow);\r\n    },\r\n\r\n    _getBtnByIndex : function (index) {\r\n        return this.node_btnGroup.children[index-1]\r\n    },\r\n\r\n    //获取吃瓜群众投注起点\r\n    getIdleBettingPos : function () {\r\n        var pos = this.node_rightBtn1.position;\r\n        var basePos = this.node_rightBtn1.parent.parent.position;\r\n        var posX = pos.x + this.node_rightBtn1.parent.x+basePos.x;\r\n        var posY = pos.y + this.node_rightBtn1.parent.y+basePos.y + this.node_rightBtn1.height/2;\r\n        return cc.p(posX, posY)\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}