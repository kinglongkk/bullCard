{"version":3,"sources":["assets\\Script\\Views\\Scene_Grab\\Grab_Manager.js"],"names":["cc","Class","extends","require","properties","_gameState","_list_winResult","_maxBettingGold","_homeID","_maxBettingTimes","_list_pokerIndex","_matchID","_playerID","_nextStartTime","_curEndGrabTime","_enterHomeData","_idleTip","_grabTip","_isPauseOverMatch","_dict_idleBetting","comp_topLayer","default","type","displayName","comp_goldContainer","comp_playersContainer","comp_btnsContainer","comp_tablesContainer","comp_pokersLayer","comp_uiLayer","label_bettingTimes","Label","node_diyTip","Node","onLoad","GG","grabMgr","_super","_bettingTimesStr","G_CHINESE","limitBetting","comp_topEffect","getTopEffect","start","tipsMgr","setTextTip","getComponent","G_Config_common","isLocal","addLongListenOnStart","homeData","getPlayer","getInHomeData","net_resetHomeData","_dealInHomeNetData","net_inHomeData","updateEnterHomeData","refreshHome","net_setHomeData","resetShow","node","stopAllActions","setStartInfo","getWheelPos","getPokerPos","clearData","setTouchEnable","clearAll","setBtnGroupEnable","on_Wait","waitTime","callFunc","setGameState","G_TYPE","grabState","wait","getIsShow","forceEnd","time1","Date","socketMgr","getServerTime","time2","forceChangeCountDown","dataObj","tipIndex","isCountDown","showPos","position","callBack","retainTime","showOnlyOne","_clearByWait","on_beforeStart","readyStart","playGameStartAni","on_startTouchTables","bind","on_giveOnePoker","givePoker","pokerData","G_OBJ","data_grabPokerInfo","pokerInfoList","pokerIndex","isOpen","startPokerIndex","pokerResult","isFlyEffect","showPokerEX","touchTables","refreshGrabOption","secs","_touchTableEnd","_getOffSeconds","netData","pokers","code","odds","cardsPoint","parseInt","pokerInfo","setBettingEndInfo","playGrabDoneAni","on_giveFivePokers","setMyselfMoney","getWinGold","getSystemComp","setGoldValue","_giveFivePokersEnd","time","G_Config_grab","time_openDelay","act","delayTime","runAction","sequence","openPokers","on_showResult","showFlag","length","tablePos","i","setTableWin","playOneFlag","showOwnerGold","getMyselfComp","getAllGrabTable","time_showFlag","on_flyGold","flyGold","setWinTableResult","_flyGoldEnd","isShow","showAllGoldResult","time_goldFlyOnHead","on_showGoldResultEnd","resetShowGold","playMyGoldMove","isMine","touchGrabArea","_ownerGrabContinue","goldValue","moveAddGolds","getTable","tableIndex","addOwnerGold","playResultGoldMove","dataList","flyResultGold","lastType","readyTouchTable","isBetting","initButtonInfo","changeIdleTip","num","changeGrabTip","getPokerNum","showDialogUI","uiName","addUI","setBettingTimes","times","string","G_TOOL","formatStr","getGameState","result","getBtnsComp","getMaxGrabGold","goldNum","winList","getWinGoldNum","push","getMaxGrabTimes","getMatchID","getOwnerID","startTime","endTime","getOffSeconds","getCurGrabResult","getHomeID","getIsGrab","getIsBettingEnd","getIsBetStart","serverTime","getFirstBetting","getIsWait","_startGame","getEnterHomeData","getIdleBettingPos","getIdleBetting","getTableContainer","getPokerShowPos","_recodeIdleBetting","goldImgNum","clearRecord","forceStart","chip","initData","myselfData","chooseDict","roomName","othersData","player","coin","icon","nickname","playerId","usableBalance","seatIndex","dealerData","roomId","userId","betTimes","matchId","beginTimeNext","settleTime","betChip","minDealerGold","areaInfo","_initInHomeData","firstPokerIndex","time_grabWillEnd","onlyShowPoker","testGetPoker","getNum","p1","p2","p3","p4","p5","pokerList","_testPokerList","getRandomArea","info","value","key","data","setPlayerID","_chipValueList","getPlayerID","recvData","tip","serverCodeType","success","poker","match","id","seats","dealer","minDealerCoin","betAreas","net_resetGameData","net_otherGrab","recData","others","bets","netBeanData","areaValue","item","split","bettingData","data_grabBetting","num_otherGrabGoldNum","gold","getSeatIndex","G_DATA","getIdlePlayersSeatIndex","startPos","reduceGoldEX","touchOneTable","getDealerSeatIndex","playerComp","getCompByIndex","getWorldPos","doChoose","net_grabEnd","noBetting","isNaN","playerList","players","balance","setResultInfo","net_mineHasGrab","myInfo","net_someOneInHome","myPlayerID","enterOnePlayer","net_exitHome","exitHome","_getWaitTimeSec","date","getSeconds","registerLong","NetType","r_grab_reStartGame","r_grabEnd","r_mineHaveGrab","r_oneInHome","r_grab_exitReturn","r_otherGrab","onDestroy"],"mappings":"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","file":"unknown","sourcesContent":["//押宝系统的管理\r\n\r\ncc.Class({\r\n    extends: require('BaseManager'),\r\n\r\n    properties: {\r\n        _gameState : null,\r\n\r\n        //data\r\n        _list_winResult : null,\r\n        _maxBettingGold : null,\r\n        _homeID : null,                                         //该房间的ID\r\n        _maxBettingTimes : null,                                     //最大投注次数\r\n        _list_pokerIndex : null,                               //本局所有卡牌的索引\r\n        _matchID : null,                                        //赛事ID\r\n        _playerID : null,                                       //玩家自己的ID\r\n        _nextStartTime : null,                                  //下次赛事开始的时间戳\r\n        _curEndGrabTime : null,                                 //当前局投注结束时间\r\n        _enterHomeData : null,                                  //进房信息\r\n        _idleTip : null,                                         //提示休息中的tip\r\n        _grabTip : null,                                         //提示投注中的tip\r\n        _isPauseOverMatch : null,                                                                                        //暂停的时候是否进入新的一局\r\n        _dict_idleBetting : null,                               //吃瓜群众的投注记录\r\n\r\n        comp_topLayer : {\r\n            default : null,\r\n            type : require('Grab_topLayer'),\r\n            displayName : '顶部层'\r\n        },\r\n        comp_goldContainer : {\r\n            default : null,\r\n            type : require('Grab_goldContainer'),\r\n            displayName : '金币容器'\r\n        },\r\n        comp_playersContainer : {\r\n            default : null,\r\n            type : require('Grab_playersLayer'),\r\n            displayName : '玩家容器'\r\n        },\r\n        comp_btnsContainer : {\r\n            default : null,\r\n            type : require('Grab_btnContainer'),\r\n            displayName : '底部按钮'\r\n        },\r\n        comp_tablesContainer : {\r\n            default : null,\r\n            type : require('Grab_tablesLayer'),\r\n            displayName : '压住格子层'\r\n        },\r\n        comp_pokersLayer : {\r\n            default : null,\r\n            type : require('Grab_pokerLayer'),\r\n            displayName : '卡牌层'\r\n        },\r\n        comp_uiLayer : {\r\n            default : null,\r\n            type : require('Obj_uiContainer'),\r\n            displayName : '窗口UI层'\r\n        },\r\n        label_bettingTimes : {\r\n            default : null,\r\n            type : cc.Label,\r\n            displayName : '投注次数'\r\n        },\r\n        node_diyTip : {\r\n            default : null,\r\n            type : cc.Node,\r\n            displayName : 'tip'\r\n        },\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        GG.grabMgr = this;\r\n        this._super();\r\n\r\n        this._list_pokerIndex = [];\r\n        this._list_winResult = [];\r\n        this._isPauseOverMatch = true;\r\n        this._bettingTimesStr = G_CHINESE.limitBetting;\r\n        this.comp_topEffect = this.comp_topLayer.getTopEffect();\r\n    },\r\n\r\n    start : function () {\r\n        GG.tipsMgr.setTextTip(this.node_diyTip.getComponent('Obj_txtTip'));\r\n        // console.log('游戏版本'+G_Config_common.version)\r\n        if(G_Config_common.isLocal){\r\n\r\n        }else{\r\n            this.addLongListenOnStart();\r\n\r\n            var homeData = GG.getPlayer().getInHomeData();\r\n            if(homeData){\r\n                if(homeData.net_resetHomeData){\r\n                    this._dealInHomeNetData(homeData.net_inHomeData);\r\n                    this.updateEnterHomeData(homeData.net_resetHomeData);\r\n                    this.refreshHome();\r\n                }else{\r\n                    this.net_setHomeData(homeData.net_inHomeData);\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    //=================================游戏流程\r\n\r\n    resetShow : function () {\r\n        this.node.stopAllActions();\r\n        this.comp_pokersLayer.setStartInfo(this.comp_btnsContainer.getWheelPos(), this.comp_playersContainer.getPokerPos());\r\n\r\n        //暂停的时候如果已经重新开局\r\n        if(this._isPauseOverMatch){\r\n            this._list_pokerIndex = [];\r\n            this._list_winResult = [];\r\n            //卡牌\r\n            this.comp_pokersLayer.clearData();\r\n            //点击区域\r\n            this.comp_tablesContainer.clearData();\r\n            //禁用点击\r\n            this.comp_tablesContainer.setTouchEnable(false);\r\n            //清理吃瓜群众投注信息\r\n            this._dict_idleBetting = null;\r\n        }\r\n        this._isPauseOverMatch = true;\r\n        //运动的金币\r\n        this.comp_goldContainer.clearAll();\r\n        //玩家\r\n        this.comp_playersContainer.clearData();\r\n        //底部按钮\r\n        this.comp_btnsContainer.setBtnGroupEnable(false);\r\n        //特效\r\n        this.comp_topEffect.clearAll();\r\n    },\r\n\r\n    on_Wait : function (waitTime, callFunc) {\r\n        this.setGameState(G_TYPE.grabState.wait);\r\n        if(this._grabTip && this._grabTip.getIsShow()){\r\n            this._grabTip.forceEnd();\r\n        }\r\n        var time1 = new Date(GG.socketMgr.getServerTime());\r\n        //console.log('当前：时:'+time1.getHours()+'分:'+time1.getMinutes()+'秒:'+time1.getSeconds())\r\n        var time2 = new Date(this._nextStartTime);\r\n        //console.log('下次开局：时:'+time2.getHours()+'分:'+time2.getMinutes()+'秒:'+time2.getSeconds())\r\n        if(this._idleTip && this._idleTip.getIsShow()) {\r\n            //已经存在该tip\r\n            //var serverTime = GG.socketMgr.getServerTime();\r\n            //var secs = this._getOffSeconds(serverTime, this._nextStartTime);\r\n            this._idleTip.forceChangeCountDown(waitTime);\r\n        }else{\r\n            var dataObj = {\r\n                tipIndex : 19,\r\n                isCountDown : true,\r\n                showPos : this.node_diyTip.position,\r\n                callBack : null\r\n            }\r\n            dataObj.retainTime = waitTime;\r\n            if(callFunc) dataObj.callBack = callFunc;\r\n            this._idleTip = GG.tipsMgr.showOnlyOne(dataObj);\r\n        }\r\n        this._clearByWait();\r\n    },\r\n\r\n    on_beforeStart : function () {\r\n        this.setGameState(G_TYPE.grabState.readyStart);\r\n        this.comp_topEffect.playGameStartAni(this.on_startTouchTables.bind(this));\r\n        this.on_giveOnePoker();\r\n    },\r\n\r\n    on_giveOnePoker : function () {\r\n        this.setGameState(G_TYPE.grabState.givePoker)\r\n\r\n        //this.comp_pokersLayer.addPokers([{\r\n        //    pokerIndex : this._list_pokerIndex[0],\r\n        //    isOpen : true\r\n        //}], this._list_winResult[0]);\r\n\r\n        var pokerData = G_OBJ.data_grabPokerInfo();\r\n        pokerData.pokerInfoList = [{\r\n            pokerIndex : this._list_pokerIndex[0],\r\n            isOpen : true\r\n        }]\r\n        pokerData.startPokerIndex = 1;\r\n        pokerData.pokerResult = this._list_winResult[0];\r\n        pokerData.isFlyEffect = true;\r\n\r\n        this.comp_pokersLayer.showPokerEX(pokerData);\r\n    },\r\n\r\n    //on_beforeTouchTable : function () {\r\n    //    this.setGameState(G_TYPE.grabState.readyTouchTable)\r\n    //    this.comp_topEffect.playTouchStartAni(this.on_startTouchTables.bind(this));\r\n    //},\r\n\r\n    on_startTouchTables : function (retainTime) {\r\n        this.setGameState(G_TYPE.grabState.touchTables)\r\n        if(this._idleTip && this._idleTip.getIsShow()){\r\n            this._idleTip.forceEnd();\r\n        }\r\n        this.comp_tablesContainer.setTouchEnable(true);\r\n        this.comp_btnsContainer.refreshGrabOption();\r\n        if(this._grabTip && this._grabTip.getIsShow()) {\r\n            this._grabTip.forceChangeCountDown(retainTime);\r\n        }else{\r\n            var secs;\r\n            var dataObj = {\r\n                tipIndex : 18,\r\n                showPos : this.node_diyTip.position,\r\n                isCountDown : true\r\n            }\r\n            if(G_Config_common.isLocal){\r\n                secs = 6;\r\n                dataObj.callBack = this._touchTableEnd.bind(this);\r\n            }else{\r\n                secs = this._getOffSeconds(GG.socketMgr.getServerTime(), this._curEndGrabTime);\r\n            }\r\n            if(retainTime) secs = retainTime;\r\n            dataObj.retainTime = secs;\r\n            this._grabTip = GG.tipsMgr.showOnlyOne(dataObj);\r\n        }\r\n    },\r\n\r\n    _touchTableEnd : function () {\r\n        this.comp_tablesContainer.setTouchEnable(false);\r\n        this.comp_btnsContainer.setBtnGroupEnable(false);\r\n        if(G_Config_common.isLocal){\r\n            var netData = {\r\n                pokers:[{\r\n                        code:'33,34,4,36,2',//牌组 string 11，12\r\n                        odds:1,//倍数\r\n                        cardsPoint:parseInt(5),//点数\r\n                        }\r\n                    ]\r\n            }\r\n            //this.net_grabEnd(netData);\r\n            var pokerInfo = this.setBettingEndInfo(netData);\r\n            if(pokerInfo) this.comp_topEffect.playGrabDoneAni(this.on_giveFivePokers.bind(this), pokerInfo);\r\n            this.on_Wait(15);\r\n\r\n            this.comp_playersContainer.setMyselfMoney(this.getWinGold(), 58888);\r\n            //庄家剩余金币\r\n            this.comp_playersContainer.getSystemComp().setGoldValue(88888888);\r\n        }else{\r\n\r\n        }\r\n    },\r\n\r\n    on_giveFivePokers : function (pokerInfo) {\r\n        this.setGameState(G_TYPE.grabState.givePoker)\r\n        var pokerData = G_OBJ.data_grabPokerInfo();\r\n        pokerData.pokerInfoList = pokerInfo;\r\n        pokerData.pokerResult = this._list_winResult[0];\r\n        pokerData.isFlyEffect = true;\r\n        pokerData.startPokerIndex = 2;\r\n        pokerData.callFunc = this._giveFivePokersEnd.bind(this);\r\n        this.comp_pokersLayer.showPokerEX(pokerData);\r\n    },\r\n\r\n    _giveFivePokersEnd : function () {\r\n        var time = G_Config_grab.time_openDelay;\r\n        var act = cc.delayTime(time);\r\n        this.node.runAction(cc.sequence(act, cc.callFunc(function () {\r\n            //this.comp_pokersLayer.resetPokerInfo();\r\n            this.comp_pokersLayer.openPokers(this.on_showResult.bind(this));\r\n        }, this)));\r\n    },\r\n\r\n    on_showResult : function () {\r\n        this.setGameState(G_TYPE.grabState.showFlag);\r\n\r\n        if(this._list_winResult.length < 1) return;\r\n        var pokerResult, tablePos;\r\n        for(var i = 0; i < this._list_winResult.length; i ++){\r\n            pokerResult = this._list_winResult[i];\r\n            tablePos = this.comp_tablesContainer.setTableWin(pokerResult);\r\n            this.comp_topEffect.playOneFlag(tablePos);\r\n        }\r\n        this.comp_tablesContainer.showOwnerGold(this.getMyselfComp().getAllGrabTable());\r\n\r\n        this.node.runAction(cc.sequence(cc.delayTime(G_Config_grab.time_showFlag), cc.callFunc(this.on_flyGold, this)));\r\n    },\r\n    //金币的飞行\r\n    on_flyGold : function () {\r\n        this.setGameState(G_TYPE.grabState.flyGold);\r\n        this.comp_playersContainer.setWinTableResult(this._list_winResult);\r\n        this.node.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function () {\r\n            //金币飞行结束后的表现\r\n            this._flyGoldEnd();\r\n        }, this)))\r\n    },\r\n    _flyGoldEnd : function () {\r\n        var isShow = this.comp_playersContainer.showAllGoldResult();\r\n        if(isShow){\r\n            var act = cc.delayTime(G_Config_grab.time_goldFlyOnHead);\r\n            this.node.runAction(cc.sequence(act, cc.callFunc(this.on_showGoldResultEnd, this)));\r\n        }else this.on_showGoldResultEnd();\r\n    },\r\n    //显示头像上的金币增减结束\r\n    on_showGoldResultEnd : function () {\r\n        this.getMyselfComp().resetShowGold();\r\n        //this.resetShow();\r\n        if(G_Config_common.isLocal){\r\n            this.on_beforeStart();\r\n        }else {\r\n\r\n        }\r\n    },\r\n\r\n    //================================\r\n\r\n    //点击投注区域\r\n    playMyGoldMove : function (dataObj) {\r\n        dataObj.isMine = true;\r\n        this.getMyselfComp().touchGrabArea(dataObj, this._ownerGrabContinue.bind(this));\r\n    },\r\n    //服务端投注成功\r\n    _ownerGrabContinue : function (dataObj) {\r\n        if(dataObj.goldValue > 0){\r\n            this.comp_goldContainer.moveAddGolds(dataObj, function () {\r\n                //所有金币飞行完毕\r\n            }.bind(this));\r\n            //请求成功则马上刷新桌子上的金额信息\r\n            this.comp_tablesContainer.getTable(dataObj.tableIndex).addOwnerGold(dataObj.goldValue);\r\n        }\r\n    },\r\n    //结算移动金币\r\n    playResultGoldMove : function (dataList) {\r\n        //if(dataList.length < 1) this._flyGoldEnd();\r\n        //else\r\n        this.comp_goldContainer.flyResultGold(dataList);\r\n    },\r\n\r\n    setGameState : function (type) {\r\n        var lastType = this._gameState;\r\n        this._gameState = type;\r\n        switch (type){\r\n            case G_TYPE.grabState.wait:\r\n                //等待开始\r\n                break;\r\n            case G_TYPE.grabState.readyStart:\r\n                //开始动画\r\n                break;\r\n            case G_TYPE.grabState.givePoker:\r\n                //发牌\r\n                break;\r\n            case G_TYPE.grabState.readyTouchTable:\r\n                //准备押注\r\n                break;\r\n            case G_TYPE.grabState.touchTables:\r\n                //选区域押注\r\n                break;\r\n            case G_TYPE.grabState.showFlag:\r\n                //显示胜利旗帜\r\n                break;\r\n            case G_TYPE.grabState.flyGold:\r\n                //结算金币\r\n                break;\r\n            case G_TYPE.grabState.isBetting:\r\n                //有下注  刷新回到房间列表\r\n                break;\r\n            default:\r\n                this._gameState = lastType;\r\n                return;\r\n        }\r\n    },\r\n    //在重新设置玩家信息的时候更新按钮倍数\r\n    initButtonInfo : function () {\r\n        this.comp_btnsContainer.setStartInfo();\r\n    },\r\n\r\n    //===========================================\r\n\r\n    //重新修改休息期间倒计时数值\r\n    changeIdleTip : function (num) {\r\n        if(this._idleTip && this._idleTip.getIsShow()) {\r\n            var secs = this._getOffSeconds(GG.socketMgr.getServerTime(), this._nextStartTime);\r\n            this._idleTip.forceChangeCountDown(secs);\r\n        }\r\n    },\r\n    //重新修改投注期间倒计时数值\r\n    changeGrabTip : function (num) {\r\n        var secs = this._getOffSeconds(GG.socketMgr.getServerTime(), this._curEndGrabTime);\r\n        if(this._grabTip && this._grabTip.getIsShow()) {\r\n            this._grabTip.forceChangeCountDown(secs);\r\n        }else{\r\n            //投注动画未执行完成\r\n            this.comp_topEffect.clearAll();\r\n\r\n            if(!this.comp_pokersLayer.getPokerNum()){\r\n                //还没有发第一张牌\r\n                //this.comp_pokersLayer.addPokers([{\r\n                //    pokerIndex : this._list_pokerIndex[0],\r\n                //    isOpen : true\r\n                //}], this._list_winResult[0]);\r\n\r\n                var pokerData = G_OBJ.data_grabPokerInfo();\r\n                pokerData.pokerInfoList = [{\r\n                    pokerIndex : this._list_pokerIndex[0],\r\n                    isOpen : true\r\n                }]\r\n                pokerData.pokerResult = this._list_winResult[0];\r\n                pokerData.isFlyEffect = false;\r\n                pokerData.startPokerIndex = 1;\r\n                this.comp_pokersLayer.showPokerEX(pokerData);\r\n            }\r\n\r\n            this.on_startTouchTables(secs);\r\n        }\r\n    },\r\n    //重新设置投注信息\r\n    //resetTableGold : function (goldList) {\r\n    //    if(!goldList || goldList.length < 1) return;\r\n    //\r\n    //    var netBeanData;\r\n    //    for(var i = 0; i < goldList.length; i ++){\r\n    //        netBeanData = goldList[i];\r\n    //        var areaValue = parseInt(netBeanData.item.split('_')[0]);\r\n    //        if(netBeanData.seatIndex===this.getMyselfComp().getSeatIndex())continue;\r\n    //        var dataObj = {};\r\n    //        var playerComp = this.comp_playersContainer.getCompByIndex(netBeanData.seatIndex);\r\n    //\r\n    //        dataObj.goldValue = netBeanData.gold;\r\n    //        dataObj = playerComp.touchGrabArea_other(dataObj);\r\n    //        dataObj = this.comp_tablesContainer.touchOneTable(areaValue, dataObj);\r\n    //        if(dataObj.callFunc) dataObj.callFunc();\r\n    //    }\r\n    //},\r\n\r\n    //显示窗口ui\r\n    showDialogUI : function (uiName, callBack) {\r\n        this.comp_uiLayer.addUI(uiName, callBack);\r\n    },\r\n\r\n    //===========================================\r\n    //设置投注次数的显示\r\n    setBettingTimes : function (times) {\r\n        this.label_bettingTimes.string = G_TOOL.formatStr(this._bettingTimesStr, times);\r\n    },\r\n\r\n\r\n    getGameState : function () {\r\n        return this._gameState\r\n    },\r\n    getMyselfComp : function () {\r\n        return this.comp_playersContainer.getMyselfComp()\r\n    },\r\n    getTable : function (result) {\r\n        return this.comp_tablesContainer.getTable(result);\r\n    },\r\n    getBtnsComp : function () {\r\n        return this.comp_btnsContainer;\r\n    },\r\n    getMaxGrabGold : function () {\r\n        return this._maxBettingGold\r\n    },\r\n    //测试用：主动计算区域金币值\r\n    getWinGold : function () {\r\n        var tableIndex, goldNum, winList=[];\r\n        for(var i = 0; i < this._list_winResult.length; i ++){\r\n            tableIndex = this._list_winResult[i];\r\n            goldNum = this.getMyselfComp().getWinGoldNum(tableIndex);\r\n            if(goldNum) winList.push(tableIndex);\r\n        }\r\n        return this.comp_tablesContainer.getWinGold(winList);\r\n    },\r\n    //每局最大的投注次数\r\n    getMaxGrabTimes : function () {\r\n        return this._maxBettingTimes\r\n    },\r\n    getMatchID : function () {\r\n        return this._matchID\r\n    },\r\n    getOwnerID : function () {\r\n        return this._playerID\r\n    },\r\n    _getOffSeconds : function (startTime, endTime) {\r\n        return GG.socketMgr.getOffSeconds(startTime, endTime);\r\n    },\r\n    getCurGrabResult : function () {\r\n        return this._list_winResult[0]\r\n    },\r\n    getHomeID : function () {\r\n        return this._homeID\r\n    },\r\n    //是否已经投注结束\r\n    getIsGrab : function () {\r\n        return this.getMyselfComp().getIsBettingEnd();\r\n    },\r\n    //获取当前比赛是否已经开局\r\n    getIsBetStart : function (_nextStartTime, _curEndGrabTime) {\r\n        if(!_nextStartTime) _nextStartTime = this._nextStartTime;\r\n        if(!_curEndGrabTime) _curEndGrabTime = this._curEndGrabTime;\r\n        var serverTime = GG.socketMgr.getServerTime();\r\n        if(_nextStartTime > serverTime && serverTime >= _curEndGrabTime){\r\n            //未开局\r\n            return false\r\n        }\r\n        return true\r\n    },\r\n    //第一次进入游戏是否可押注\r\n    getFirstBetting: function getIsWait() {\r\n        return this._startGame;\r\n    },\r\n    //获取进房信息\r\n    getEnterHomeData : function () {\r\n        return this._enterHomeData\r\n    },\r\n    //获取吃瓜群众投注的位置\r\n    getIdleBettingPos : function () {\r\n        return this.comp_btnsContainer.getIdleBettingPos()\r\n    },\r\n    //获取吃瓜群众的投注记录\r\n    getIdleBetting : function () {\r\n        return this._dict_idleBetting\r\n    },\r\n    //获取投注区域容器\r\n    getTableContainer : function () {\r\n        return this.comp_tablesContainer\r\n    },\r\n    //获取卡牌的放置位置\r\n    getPokerShowPos : function () {\r\n        return this.comp_playersContainer.getPokerPos()\r\n    },\r\n\r\n\r\n    //记录吃瓜群众的投注\r\n    _recodeIdleBetting : function (tableIndex, goldImgNum) {\r\n        if(!this._dict_idleBetting) this._dict_idleBetting = {};\r\n        if(this._dict_idleBetting[tableIndex]) this._dict_idleBetting[tableIndex] += goldImgNum;\r\n        else this._dict_idleBetting[tableIndex] = goldImgNum;\r\n    },\r\n    //开启休息时间的时候的清理\r\n    _clearByWait : function () {\r\n        this.getMyselfComp().clearRecord();\r\n    },\r\n\r\n    //on net -----------\r\n\r\n    forceStart : function () {\r\n\r\n        if (G_Config_common.isLocal) {\r\n            var chip = [100, 500, 1000, 2000];\r\n            var initData = {\r\n                myselfData: {\r\n                    chooseDict: chip,\r\n                    roomName: null\r\n                },\r\n                othersData: [{\r\n                    player: {\r\n                        coin: 7568,\r\n                        icon: null,\r\n                        nickname: \"black1\",\r\n                        playerId: 5,\r\n                        usableBalance: 7568,\r\n                    },\r\n                    seatIndex: 1\r\n                }, {\r\n                    player: {\r\n                        coin: 7568,\r\n                        icon: null,\r\n                        nickname: \"black\",\r\n                        playerId: 5,\r\n                        usableBalance: 7568,\r\n                    },\r\n                    seatIndex: 2\r\n                }, {\r\n                    player: {\r\n                        coin: 888888,\r\n                        icon: null,\r\n                        nickname: \"solider\",\r\n                        playerId: 6,\r\n                        usableBalance: 888888,\r\n                    },\r\n                    seatIndex: 3\r\n                }, {\r\n                    player: {\r\n                        coin: 888888,\r\n                        icon: null,\r\n                        nickname: \"jin\",\r\n                        playerId: 7,\r\n                        usableBalance: 888888,\r\n                    },\r\n                    seatIndex: 4\r\n                }, {\r\n                    player: {\r\n                        coin: 888888,\r\n                        icon: null,\r\n                        nickname: \"jin1\",\r\n                        playerId: 8,\r\n                        usableBalance: 888888,\r\n                    },\r\n                    seatIndex: 5\r\n                }, {\r\n                    player: {\r\n                        coin: 888888,\r\n                        icon: null,\r\n                        nickname: \"jin2\",\r\n                        playerId: 9,\r\n                        usableBalance: 888888,\r\n                    },\r\n                    seatIndex: 6\r\n                }, {\r\n                    player: {\r\n                        coin: 888888,\r\n                        icon: null,\r\n                        nickname: \"jin3\",\r\n                        playerId: 9,\r\n                        usableBalance: 888888,\r\n                    },\r\n                    seatIndex: 7\r\n                }],\r\n                dealerData: {\r\n                    coin: 297300,\r\n                    icon: null,\r\n                    nickname: \"系统大牛\",\r\n                    playerId: 7,\r\n                    usableBalance: 74325,\r\n                },\r\n                homeData: {\r\n                    roomId: 1,\r\n                    userId: 6,\r\n                    betTimes: 10,\r\n                    matchId: 1,\r\n                    //beginTimeNext : 1487557651083,\r\n                    beginTimeNext: 1487559489225,\r\n                    //settleTime : 1487557651083,\r\n                    settleTime: 1487559474225,\r\n                    betChip: chip,\r\n                    minDealerGold: 100000,\r\n                    areaInfo:{0:2,1:13,2:13,3:13,4:13,5:13,6:13,7:13,8:13,9:13,10:12}\r\n                },\r\n            }\r\n            this._initInHomeData(initData);\r\n\r\n            //是否开局判定\r\n            var serverTime = 1487559484012;\r\n            if (serverTime < this._curEndGrabTime) {\r\n                //未开局\r\n                this.resetShow();\r\n                //是否在游戏进行一半的时候进入\r\n                var firstPokerIndex = 30;\r\n                var secs = this._getOffSeconds(serverTime, this._curEndGrabTime);\r\n                if(firstPokerIndex > 0){\r\n                    this._list_pokerIndex[0] = firstPokerIndex;\r\n                    //游戏中途加入,计算剩余秒数\r\n                    if(secs > G_Config_grab.time_grabWillEnd){\r\n                        //充足的发牌时间\r\n                        //this.comp_pokersLayer.addPokers([{\r\n                        //    pokerIndex : firstPokerIndex,\r\n                        //    isOpen : true\r\n                        //}]);\r\n\r\n                        var pokerData = G_OBJ.data_grabPokerInfo();\r\n                        pokerData.pokerInfoList = [{\r\n                            pokerIndex : firstPokerIndex,\r\n                            isOpen : true\r\n                        }]\r\n                        pokerData.pokerResult = 0;\r\n                        pokerData.isFlyEffect = false;\r\n                        pokerData.startPokerIndex = 1;\r\n                        this.comp_pokersLayer.showPokerEX(pokerData);\r\n                    }else{\r\n                        //不播放发牌动画\r\n                        this.comp_pokersLayer.onlyShowPoker([{\r\n                            pokerIndex : firstPokerIndex,\r\n                            isOpen : true\r\n                        }]);\r\n                    }\r\n                }\r\n                // else console.log('已经开局，但没有收到服务端卡牌信息'+firstPokerIndex)\r\n                this.on_startTouchTables(secs);\r\n            } else {\r\n                //已经开局\r\n                this._isPauseOverMatch = true;\r\n                this.resetShow();\r\n                var secs = this._getOffSeconds(serverTime, this._nextStartTime);\r\n                this.on_Wait(2, this.on_beforeStart.bind(this));;\r\n            }\r\n        } else {\r\n\r\n        }\r\n    },\r\n\r\n    testGetPoker : function (getNum) {\r\n        var p1 = [40,44,48,5,10];\r\n        var p2 = [36,37,39,10,11];\r\n        var p3 = [39,41,50,13,22];\r\n        var p4 = [5,31,38,0,29];\r\n        var p5 = [33,34,4,36,2];\r\n        var pokerList = [{5:p1},{6:p2},{10:p3},{9:p4},{1:p5}]\r\n        if(!this._testPokerList) this._testPokerList = pokerList[G_TOOL.getRandomArea(0, 4)];\r\n        if(getNum == 1){\r\n            var info={};\r\n            for(var i = 0; i < this._testPokerList.length; i ++){\r\n                info.value = i;\r\n                info.pokerIndex = this._testPokerList[i][0];\r\n                break;\r\n            }\r\n            return info\r\n        }else{\r\n            var info={};\r\n            for(var key = 0; key < this._testPokerList.length; key ++){\r\n                info.value = key;\r\n                info.pokerIndex = this._testPokerList[key];\r\n            }\r\n            return info\r\n        }\r\n    },\r\n\r\n    //初始化押宝房间必须要有的数据\r\n    _initInHomeData : function (initData) {\r\n        //房间配置的数据\r\n        if(initData.homeData){\r\n            var data = initData.homeData;\r\n            if(!this._homeID) this._homeID = data.roomId;\r\n            if(!this._matchID) this._matchID = data.matchId;\r\n            this._nextStartTime = data.beginTimeNext;\r\n            this._curEndGrabTime = data.settleTime;\r\n            //if(data.minDealerGold) this._minDealerGold = data.minDealerGold;\r\n            if(data.userId){\r\n                GG.getPlayer().setPlayerID(data.userId);\r\n            }\r\n            //最大投注次数\r\n            if(data.betTimes) {\r\n                this._maxBettingTimes = data.betTimes;\r\n                this.setBettingTimes(this._maxBettingTimes);\r\n            }\r\n            //筹码选项\r\n            if(data.betChip) {\r\n                this._chipValueList = data.betChip;\r\n                this._maxBettingGold = this._maxBettingTimes * data.betChip[data.betChip.length - 1];\r\n                //设置初始化数据表现\r\n                //this.comp_btnsLayer.initChipBtn(data.betChip);\r\n            }\r\n            //投注区域倍数\r\n            if(data.areaInfo){\r\n                this.comp_tablesContainer.setStartInfo(data.areaInfo);\r\n            }\r\n        }\r\n        //玩家自己的数据\r\n        //其他玩家的数据\r\n        //庄家的数据\r\n        this.comp_playersContainer.setStartInfo(initData.othersData, initData.myselfData, initData.dealerData);\r\n        //判定庄家\r\n        if(initData.dealerData){\r\n            if(initData.dealerData.playerId == GG.getPlayerID()){\r\n                //自己是庄家\r\n                //this.setBottomIsShow(false);\r\n            } else {\r\n                //this.setBottomIsShow(true);\r\n                //清除庄字特效\r\n                //this.comp_playersLayer.getMyselfEffectComp().clearDealerWordAni();\r\n            }\r\n        }\r\n    },\r\n\r\n    //进入房间接收到的信息\r\n    net_setHomeData : function (recvData) {\r\n        var tip = recvData.tip;\r\n        if(tip.code != G_TYPE.serverCodeType.success) {\r\n            // console.log(tip.tip);\r\n            return;\r\n        }\r\n        this._dealInHomeNetData(recvData);\r\n\r\n        //是否开局判定\r\n        var serverTime = GG.socketMgr.getServerTime();\r\n        //var isWait = this._nextStartTime > serverTime && serverTime >= this._curEndGrabTime;\r\n        if(serverTime < this._curEndGrabTime){\r\n            //已经开局\r\n            this.resetShow();\r\n            this._startGame = true;\r\n            //是否在游戏进行一半的时候进入\r\n            var firstPokerIndex = recvData.poker;\r\n            var secs = this._getOffSeconds(serverTime, this._curEndGrabTime);\r\n            if(firstPokerIndex >= 0){\r\n                this._list_pokerIndex[0] = firstPokerIndex;\r\n                var pokerData = G_OBJ.data_grabPokerInfo();\r\n                pokerData.pokerInfoList = [{\r\n                    pokerIndex : firstPokerIndex,\r\n                    isOpen : true\r\n                }];\r\n                pokerData.isFlyEffect = false;\r\n                pokerData.startPokerIndex = 1;\r\n\r\n                this.comp_pokersLayer.showPokerEX(pokerData);\r\n                //游戏中途加入,计算剩余秒数\r\n                //if(secs > G_Config_grab.time_grabWillEnd){\r\n                //    //充足的发牌时间\r\n                //    this.comp_pokersLayer.addPokers([{\r\n                //        pokerIndex : firstPokerIndex,\r\n                //        isOpen : true\r\n                //    }]);\r\n                //}else{\r\n                //    //不播放发牌动画\r\n                //    this.comp_pokersLayer.onlyShowPoker([{\r\n                //        pokerIndex : firstPokerIndex,\r\n                //        isOpen : true\r\n                //    }]);\r\n                //}\r\n            }\r\n            // else console.log('已经开局，但没有收到服务端卡牌信息'+firstPokerIndex)\r\n            this.on_startTouchTables(secs);\r\n        }else{\r\n            //未开局\r\n            this._isPauseOverMatch = true;\r\n            this.resetShow();\r\n            this._startGame = false;\r\n            var secs = this._getOffSeconds(serverTime, this._nextStartTime);\r\n            if(secs <= 0){\r\n                //卡时间点了,直接开始投注\r\n                var firstPokerIndex = recvData.poker;\r\n                secs = this._getOffSeconds(serverTime, this._curEndGrabTime);\r\n                if(firstPokerIndex >= 0){\r\n                    this._list_pokerIndex[0] = firstPokerIndex;\r\n                    var pokerData = G_OBJ.data_grabPokerInfo();\r\n                    pokerData.pokerInfoList = [{\r\n                        pokerIndex : firstPokerIndex,\r\n                        isOpen : true\r\n                    }];\r\n                    pokerData.isFlyEffect = false;\r\n                    pokerData.startPokerIndex = 1;\r\n                    this.comp_pokersLayer.showPokerEX(pokerData);\r\n                }\r\n                // else console.log('已经开局，但没有收到服务端卡牌信息'+firstPokerIndex)\r\n                this.on_startTouchTables(secs);\r\n            }else this.on_Wait(secs);\r\n        }\r\n    },\r\n\r\n    //押宝——处理请求到的进房信息\r\n    _dealInHomeNetData : function (recvData) {\r\n        this._enterHomeData = recvData;\r\n        var match = recvData.match;\r\n\r\n        var time1 = new Date(GG.socketMgr.getServerTime());\r\n        //console.log('当前：时:'+time1.getHours()+'分:'+time1.getMinutes()+'秒:'+time1.getSeconds())\r\n        var time2 = new Date(match.settleTime);\r\n        //console.log('下次开局：时:'+time2.getHours()+'分:'+time2.getMinutes()+'秒:'+time2.getSeconds())\r\n\r\n        var id = GG.getPlayerID();\r\n        var initData = {\r\n            myselfData : {\r\n                chooseDict : recvData.betChip,\r\n                roomName : recvData.roomName,\r\n            },\r\n            othersData : recvData.seats,\r\n            dealerData : match.dealer,\r\n            homeData : {\r\n                roomId : recvData.roomId,\r\n                userId : id,\r\n                betTimes : recvData.betTimes,\r\n                matchId : match.matchId,\r\n                beginTimeNext : match.beginTimeNext,\r\n                settleTime : match.settleTime,\r\n                betChip : recvData.betChip,\r\n                minDealerGold : recvData.minDealerCoin,\r\n                areaInfo : recvData.betAreas\r\n            },\r\n        }\r\n        this._initInHomeData(initData);\r\n    },\r\n\r\n    //重新设置开局数据\r\n    net_resetGameData : function (recvData) {\r\n        var tip = recvData.tip;\r\n        if(tip.code != G_TYPE.serverCodeType.success) {\r\n            // console.log(tip.tip);\r\n            return;\r\n        }\r\n        this.updateEnterHomeData(recvData);\r\n        this.resetShow();\r\n        var match = recvData.match;\r\n        var id = GG.getPlayerID();\r\n        var initData = {\r\n            myselfData : {\r\n                chooseDict : null,\r\n                roomName : null,\r\n            },\r\n            othersData : recvData.seats,\r\n            dealerData : match.dealer,\r\n            homeData : {\r\n                //roomId : recvData.roomId,\r\n                //userId : id,\r\n                //betTimes : recvData.betTimes,\r\n                //matchId : match.matchId,\r\n                beginTimeNext : match.beginTimeNext,\r\n                settleTime : match.settleTime,\r\n                //betChip : recvData.betChip,\r\n                //minDealerGold : recvData.minDealerCoin,\r\n                //areaInfo : recvData.betAreas\r\n            },\r\n        }\r\n        this._initInHomeData(initData);\r\n\r\n        //记录第一张卡牌\r\n        this._list_pokerIndex[0] = recvData.poker;\r\n        this.on_beforeStart();\r\n    },\r\n\r\n    //当有某个玩家投注,包括自己\r\n    net_otherGrab : function (recData) {\r\n        var tip = recData.tip;\r\n        if(tip.code != '0') {\r\n            // console.log(tip.tip);\r\n            return;\r\n        }\r\n\r\n        var others = recData.bets, netBeanData;\r\n        for(var i = 0; i < others.length; i ++){\r\n            netBeanData = others[i];\r\n            //if(netBeanData.seatIndex===this.getMyselfComp().getSeatIndex())continue;\r\n            var areaValue = parseInt(netBeanData.item.split('_')[0])\r\n            //投注信息\r\n            var bettingData = G_OBJ.data_grabBetting();\r\n            bettingData.goldNum = G_Config_grab.num_otherGrabGoldNum;\r\n            bettingData.goldValue = netBeanData.gold;\r\n            bettingData.tableIndex = areaValue;\r\n            bettingData.isMine = false;\r\n\r\n            switch (netBeanData.seatIndex){\r\n                case this.getMyselfComp().getSeatIndex():\r\n                    //自己的投注\r\n                    break\r\n                case G_DATA.getIdlePlayersSeatIndex():\r\n                    //吃瓜群众\r\n                    bettingData.startPos = this.comp_btnsContainer.getIdleBettingPos();\r\n                    //自己没在座位上又有押注要扣掉玩家列表中自己的投注额\r\n                    if (!this.getMyselfComp().getSeatIndex() && this.getMyselfComp().getIsBettingEnd()) {\r\n                        //如果这个吃瓜群众是自己\r\n                        bettingData.goldValue = this.getMyselfComp().reduceGoldEX(bettingData.goldValue);\r\n                    }\r\n                    if (bettingData.goldValue <= 0) {\r\n                        break;\r\n                    }\r\n                    //有其他的吃瓜群众投注\r\n                    bettingData = this.comp_tablesContainer.touchOneTable(bettingData.tableIndex, bettingData);\r\n                    this.comp_goldContainer.moveAddGolds(bettingData);\r\n                    this._recodeIdleBetting(bettingData.tableIndex, bettingData.goldNum);\r\n                    break\r\n                case G_DATA.getDealerSeatIndex():\r\n                    //庄家\r\n                    break\r\n                default:\r\n                    //正常座位上玩家\r\n                    var playerComp = this.comp_playersContainer.getCompByIndex(netBeanData.seatIndex);\r\n                    if(playerComp) {\r\n                        bettingData.startPos = playerComp.getWorldPos();\r\n                        playerComp.doChoose(bettingData.tableIndex, bettingData.goldNum);\r\n                    }\r\n                    bettingData = this.comp_tablesContainer.touchOneTable(bettingData.tableIndex, bettingData);\r\n                    this.comp_goldContainer.moveAddGolds(bettingData);\r\n                    break\r\n            }\r\n        }\r\n    },\r\n\r\n    //结束投注，进入结算\r\n    net_grabEnd : function (recvData) {\r\n        this._touchTableEnd();\r\n        var pokerInfo = this.setBettingEndInfo(recvData);\r\n        if(pokerInfo) this.comp_topEffect.playGrabDoneAni(this.on_giveFivePokers.bind(this), pokerInfo);\r\n        this.on_Wait(this._getOffSeconds(GG.socketMgr.getServerTime(), this._nextStartTime));\r\n    },\r\n\r\n    setBettingEndInfo : function (recvData) {\r\n        var pokerInfo, pokerIndex, pokerData;\r\n        if(G_Config_common.isLocal) {\r\n\r\n        } else{\r\n            var tip = recvData.tip;\r\n            switch (tip.code){\r\n                case G_TYPE.serverCodeType.success:\r\n                    break;\r\n                case G_TYPE.serverCodeType.noBetting:\r\n                    break;\r\n                default:\r\n                    return null\r\n            }\r\n            this._super(recvData);\r\n        }\r\n        //整理卡牌数据\r\n        pokerData = recvData.pokers[0];\r\n        var pokerList = pokerData['code'].split(\",\");\r\n        pokerInfo = [];\r\n        for(var i = 0; i < pokerList.length; i ++){\r\n            pokerIndex = parseInt(pokerList[i]);\r\n            if(!isNaN(pokerIndex)){\r\n                pokerInfo.push({\r\n                    pokerIndex : pokerIndex,\r\n                    isOpen : false\r\n                });\r\n            }\r\n        }\r\n\r\n        this._list_winResult.push(pokerData.cardsPoint);\r\n        //其他玩家\r\n        var playerList = recvData.players\r\n        if(playerList){\r\n            var player, playerComp;\r\n            for(var i = 0; i < playerList.length; i ++){\r\n                player = playerList[i];\r\n                //if(player.playerId == GG.getPlayer().getPlayerID()) continue;\r\n\r\n                switch (player.seatIndex){\r\n                    case G_DATA.getDealerSeatIndex():\r\n                        //庄家剩余金币\r\n                        this.comp_playersContainer.getSystemComp().setGoldValue(player.balance);\r\n                        break;\r\n                    case G_DATA.getIdlePlayersSeatIndex():\r\n                        break;\r\n                    default:\r\n                        //场上玩家\r\n                        playerComp = this.comp_playersContainer.getCompByIndex(player.seatIndex);\r\n                        if(playerComp) playerComp.setResultInfo(player.coin, player.balance);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        return pokerInfo\r\n    },\r\n\r\n    //结束投注，如果自己有投注行为\r\n    net_mineHasGrab : function (recvData) {\r\n        var tip = recvData.tip;\r\n        if(tip.code != '0') {\r\n            // console.log(tip.tip);\r\n            return;\r\n        }\r\n\r\n        var myInfo = recvData.player;\r\n        this.comp_playersContainer.setMyselfMoney(myInfo.coin, myInfo.balance);\r\n    },\r\n\r\n    //有人入座\r\n    net_someOneInHome : function (recData) {\r\n        var tip = recData.tip;\r\n        if(tip.code != '0') {\r\n            // console.log(tip.tip);\r\n            return;\r\n        }\r\n\r\n        var player, playerList = recData.seats, myPlayerID = GG.getPlayerID();\r\n        for(var i = 0; i < playerList.length; i ++){\r\n            player = playerList[i];\r\n            if(!player || player.player.playerId == myPlayerID) continue;\r\n            this.comp_playersContainer.enterOnePlayer(player.seatIndex, player.player);\r\n        }\r\n    },\r\n\r\n    //退出房间的请求\r\n    net_exitHome : function (recData) {\r\n        var tip = recData.tip;\r\n        if(tip.code != '0') {\r\n            // console.log(tip.tip);\r\n            return;\r\n        }\r\n\r\n        GG.exitHome();\r\n    },\r\n\r\n    _getWaitTimeSec : function (waitTime) {\r\n        var serverTime = GG.socketMgr.getServerTime();\r\n        var date = new Date(waitTime - serverTime);\r\n        return date.getSeconds()\r\n    },\r\n\r\n\r\n    addLongListenOnStart : function () {\r\n        GG.socketMgr.registerLong(NetType.r_grab_reStartGame, this.net_resetGameData.bind(this));\r\n        GG.socketMgr.registerLong(NetType.r_grabEnd, this.net_grabEnd.bind(this));\r\n        GG.socketMgr.registerLong(NetType.r_mineHaveGrab, this.net_mineHasGrab.bind(this));\r\n        GG.socketMgr.registerLong(NetType.r_oneInHome, this.net_someOneInHome.bind(this));\r\n        GG.socketMgr.registerLong(NetType.r_grab_exitReturn, this.net_exitHome.bind(this));\r\n        // GG.socketMgr.registerLong(NetType.r_idleTimeOut, this.net_idleTimeOut.bind(this));\r\n        GG.socketMgr.registerLong(NetType.r_otherGrab, this.net_otherGrab.bind(this));\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n\r\n    onDestroy : function () {\r\n        this._super();\r\n        GG.grabMgr = null;\r\n    }\r\n});\r\n"]}