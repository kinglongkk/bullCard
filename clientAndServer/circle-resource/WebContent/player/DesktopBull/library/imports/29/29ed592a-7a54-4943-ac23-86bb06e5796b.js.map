{"version":3,"sources":["assets\\Script\\Views\\Scene_Bull100\\Bull100_tableContainer.js"],"names":["cc","Class","extends","Component","properties","prefab_table","Prefab","onLoad","_tableCompName","_addTables","tableNum","i","table","instantiate","parent","node","initAllTables","tables","children","comp","length","getComponent","initTable","getTablePokerPos","posList","push","getPokerPos","setTableTouchEnable","isEnable","setTouchEnable","showTableWin","tableIndex","showWin","containerIndex","GG","bull100Mgr","getTableContainerIndex","getGoldPosList","goldNum","setBettingSuccess","goldValue","isMine","setMyselfBettingSuccess"],"mappings":"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","file":"unknown","sourcesContent":["//存放所有的桌子\r\n\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        prefab_table : cc.Prefab,                               //桌子预制体\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this._tableCompName = 'Bull100_table';\r\n\r\n        //this._addTables();\r\n    },\r\n\r\n    _addTables : function () {\r\n        var tableNum = 4;\r\n        for(var i = 0; i < tableNum; i ++){\r\n            var table = cc.instantiate(this.prefab_table);\r\n            if(!table) continue;\r\n            table.parent = this.node;\r\n        }\r\n    },\r\n\r\n    //初始化所有的桌子\r\n    initAllTables : function () {\r\n        var tables = this.node.children;\r\n        var table,comp;\r\n        for(var i = 0; i < tables.length; i ++){\r\n            table = tables[i];\r\n            comp = table.getComponent(this._tableCompName);\r\n            if(comp) comp.initTable(i);\r\n        }\r\n    },\r\n\r\n    //获取每张桌子对应的卡牌的位置\r\n    getTablePokerPos : function () {\r\n        var tables = this.node.children;\r\n        var table,comp, posList = [];\r\n        for(var i = tables.length-1; i >= 0; i --){\r\n            table = tables[i];\r\n            comp = table.getComponent(this._tableCompName);\r\n            if(comp) {\r\n                posList.push(comp.getPokerPos());\r\n            }\r\n        }\r\n        return posList\r\n    },\r\n\r\n    //开启所有桌子的点击功能\r\n    setTableTouchEnable : function (isEnable) {\r\n        var tables = this.node.children;\r\n        var table,comp;\r\n        for(var i = 0; i < tables.length; i ++){\r\n            table = tables[i];\r\n            comp = table.getComponent(this._tableCompName);\r\n            if(comp) comp.setTouchEnable(isEnable);\r\n        }\r\n    },\r\n\r\n    //显示某张桌子的胜利失败情况\r\n    showTableWin : function (tableIndex, showWin) {\r\n        var tables = this.node.children;\r\n        var containerIndex = GG.bull100Mgr.getTableContainerIndex(tableIndex);\r\n        var table = tables[containerIndex];\r\n        if(table){\r\n            var comp = table.getComponent(this._tableCompName);\r\n            if(comp) {\r\n                comp.showWin(tableIndex, showWin);\r\n            }\r\n        }\r\n    },\r\n\r\n    //获取对应桌子索引的，多个随机金币位置\r\n    getGoldPosList : function (tableIndex, goldNum) {\r\n        var tables = this.node.children;\r\n        var containerIndex = GG.bull100Mgr.getTableContainerIndex(tableIndex);\r\n        var table = tables[containerIndex];\r\n        if(table) {\r\n            return table.getComponent(this._tableCompName).getGoldPosList(tableIndex, goldNum);\r\n        }\r\n        return null\r\n    },\r\n\r\n    //设置桌子的成功投注信息\r\n    setBettingSuccess : function (tableIndex, goldValue, isMine) {\r\n        var tables = this.node.children;\r\n        var containerIndex = GG.bull100Mgr.getTableContainerIndex(tableIndex);\r\n        var table = tables[containerIndex];\r\n        if(table) {\r\n            //设置自己桌子的成功投注信息\r\n            if (isMine) table.getComponent(this._tableCompName).setMyselfBettingSuccess(tableIndex, goldValue);\r\n            else table.getComponent(this._tableCompName).setBettingSuccess(tableIndex, goldValue);\r\n        }\r\n    },\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}