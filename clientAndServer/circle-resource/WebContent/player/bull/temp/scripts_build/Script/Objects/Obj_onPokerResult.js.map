{"version":3,"sources":["assets\\Script\\Objects\\Obj_onPokerResult.js"],"names":["cc","Class","extends","Component","properties","node_upImage","Node","node_downImage","Atlas_onPokerResult","SpriteAtlas","onLoad","_initSprite","_upSprite","getComponent","Sprite","_downSprite","_dontFrame","getSpriteFrame","G_RES_URL","atlas_pokerResult","dont","showCalculateSuccess","node","active","spriteFrame","showPokerResultValue","pokerValue","isOverAni","_callFunc","_openResultEffect","toFrame","resultImgName","scale","time","G_Config_classic","time_pokerResultShow","act1","sequence","scaleTo","scale_pokerResultShow","act2","runAction","callFunc","setTruePos","pos","position","hideOnPokerResult","getIsShow","showResult","resultPos","resultValue"],"mappings":"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","file":"unknown","sourcesContent":["//卡牌结果的显示\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        node_upImage : cc.Node,\r\n        node_downImage : cc.Node,\r\n        Atlas_onPokerResult : cc.SpriteAtlas,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n    },\r\n\r\n    _initSprite : function () {\r\n        this._upSprite = this.node_upImage.getComponent(cc.Sprite);\r\n        this._downSprite = this.node_downImage.getComponent(cc.Sprite);\r\n        this._dontFrame = this.Atlas_onPokerResult.getSpriteFrame(G_RES_URL.atlas_pokerResult.dont);\r\n    },\r\n\r\n    //显示牌型计算完成, 显示完成两个字\r\n    showCalculateSuccess : function () {\r\n        this.node.active = true;\r\n        if(!this._upSprite)this._initSprite();\r\n        this.node_downImage.active = false;\r\n        this._upSprite.spriteFrame = this._dontFrame;\r\n    },\r\n\r\n    //显示牌型\r\n    showPokerResultValue : function (pokerValue, isOverAni) {\r\n        this.node.active = true;\r\n        if(!this._upSprite)this._initSprite();\r\n\r\n        if(pokerValue <= 0){\r\n            //没牛\r\n            this.node_downImage.active = false;\r\n            pokerValue = 'no';\r\n            if(this._callFunc){\r\n                this._callFunc();\r\n                this._callFunc = null;\r\n            }\r\n        }else{\r\n            this.node_downImage.active = true;\r\n            if(!isOverAni) this._openResultEffect();\r\n            else{\r\n                if(this._callFunc){\r\n                    this._callFunc();\r\n                    this._callFunc = null;\r\n                }\r\n            }\r\n        }\r\n\r\n        var toFrame = this.Atlas_onPokerResult.getSpriteFrame(G_RES_URL.atlas_pokerResult.resultImgName+pokerValue);\r\n        this._upSprite.spriteFrame = toFrame;\r\n    },\r\n    _openResultEffect : function () {\r\n        this.node_upImage.scale = 0;\r\n        this.node_downImage.scale = 0;\r\n\r\n        var time = G_Config_classic.time_pokerResultShow;\r\n        var act1 = cc.sequence(cc.scaleTo(time, G_Config_classic.scale_pokerResultShow), cc.scaleTo(time/2, 1.0));\r\n        var act2 = cc.scaleTo(time, 1.0);\r\n        this.node_downImage.runAction(act1);\r\n        this.node_upImage.runAction(cc.sequence(act2, cc.callFunc(function () {\r\n            if(this._callFunc){\r\n                this._callFunc();\r\n                this._callFunc = null;\r\n            }\r\n        }, this)));\r\n    },\r\n\r\n    setTruePos : function (pos) {\r\n        this.node.position = pos;\r\n        this.hideOnPokerResult();\r\n    },\r\n\r\n    hideOnPokerResult : function () {\r\n        this.node.active = false;\r\n    },\r\n\r\n    getIsShow : function () {\r\n        return this.node.active\r\n    },\r\n\r\n    showResult : function (resultPos, resultValue, isOverAni, callFunc) {\r\n        this._callFunc = callFunc;\r\n        if(isOverAni){\r\n            //跳过动画\r\n            this.node.position = resultPos;\r\n            this.showPokerResultValue(resultValue, true);\r\n        }else{\r\n            this.setTruePos(resultPos);\r\n            this.showPokerResultValue(resultValue);\r\n        }\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}