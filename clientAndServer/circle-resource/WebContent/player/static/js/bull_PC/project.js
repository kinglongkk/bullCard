require=function e(t,i,n){function o(a,l){if(!i[a]){if(!t[a]){var r="function"==typeof require&&require;if(!l&&r)return r(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var _=i[a]={exports:{}};t[a][0].call(_.exports,function(e){var i=t[a][1][e];return o(i?i:e)},_,_.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({AudioMgr:[function(e,t,i){"use strict";cc._RF.push(t,"f9da7zP5+VFlLLli2GUyvCm","AudioMgr");var n=cc.Class({ctor:function(){this._musicVolume=1,this._soundVolume=1,this._dict_audioConfig=null,this._bgMusicID=-1,this._bgMusicName=null,this._isReloadPlatform=!1,this._isReloadGame=!1,this._reloadPlatformURL="",this._reloadGameRoomURL="",this._dict_audioUrl={},this._environmentConfirm()},playMusic:function(e){e||(e=19);var t=this.getAudioName(e);if(this._musicVolume<=0)this._bgMusicName&&(cc.audioEngine.stop(this._bgMusicID),this._bgMusicName=null);else if(t&&this._bgMusicName!==t){this._bgMusicName=t;var i=this.getAudio(this._bgMusicName);this._bgMusicID=cc.audioEngine.play(i,!0)}},playSound:function(e){if(!(this._soundVolume<=0)){var t=this.getAudio(this.getAudioName(e));return cc.audioEngine.play(t,!1)}},setMusicVolume:function(e){this._musicVolume=e,this.playMusic()},setSoundVolume:function(e){this._soundVolume=e},stopAudio:function(e){cc.audioEngine.stop(e)},stopMusic:function(){this._bgMusicName&&(cc.audioEngine.stop(this._bgMusicID),this._bgMusicName=null)},getAudio:function(e){return this._dict_audioUrl[e]?this._dict_audioUrl[e]:cc.url.raw(G_TOOL.formatStr(G_RES_URL.audioUrl,e))},getIsPlayMusic:function(){return!!(this._bgMusicName&&this._musicVolume>0)},getAudioConfig:function(){return this._dict_audioConfig},setAudioConfig:function(e){this.setMusicVolume(e.music?1:0),this.setSoundVolume(e.sound?1:0),this._dict_audioConfig=e},saveMusicConfig:function(e){this.setMusicVolume(e?1:0),this._dict_audioConfig.music=e},saveSoundConfig:function(e){this.setSoundVolume(e?1:0),this._dict_audioConfig.sound=e},getAudioName:function(e){var t=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.audioName),i=t.getDataByID(e);return i?i.audioName:null},reloadPlatformAudio:function(e){var t=this;cc.loader.loadResDir(this._reloadPlatformURL,function(i,n){var o=!1;if(!i){for(var s,a,l,r=0;r<n.length;r++)s=n[r],a=s.substring(s.lastIndexOf("/")+1,s.length),l=a.split(".")[0],t._dict_audioUrl[l]=s;t._isReloadPlatform=!0}e&&(e(o),e=null)})},reloadGameAudio:function(e){var t=this;cc.loader.loadResDir(this._reloadGameRoomURL,function(i,n){if(!i){for(var o,s,a,l=0;l<n.length;l++)o=n[l],s=o.substring(o.lastIndexOf("/")+1,o.length),a=s.split(".")[0],t._dict_audioUrl[a]=o;t._isReloadGame=!0}e&&(e(),e=null)})},getIsReloadPlatform:function(){return this._isReloadPlatform},getIsReloadGame:function(){return this._isReloadGame},_environmentConfirm:function(){if(cc.sys.isNative)this._reloadPlatformURL="Sounds/mp3_platform",this._reloadGameRoomURL="Sounds/mp3_gameRoom";else{var e=new Audio;e.canPlayType("audio/mp3")?(this._reloadPlatformURL="Sounds/mp3_platform",this._reloadGameRoomURL="Sounds/mp3_gameRoom"):e.canPlayType("audio/ogg")&&(this._reloadPlatformURL="Sounds/ogg_platform",this._reloadGameRoomURL="Sounds/ogg_gameRoom")}}});t.exports=n,cc._RF.pop()},{}],AutoDealing:[function(e,t,i){"use strict";cc._RF.push(t,"2ff73PoWa1GZ53LXCiuQ9TW","AutoDealing"),cc.Class({"extends":cc.Component,_list_registerBtn:null,properties:{},onLoad:function(){},registerButton:function(e,t,i,n,o){e&&(this._list_registerBtn||(this._list_registerBtn=[]),e._isTouchEnabledEx=!0,this._list_registerBtn.push([e,t,i]),e.on(cc.Node.EventType.TOUCH_START,function(e){e.target._isTouchEnabledEx&&(o||(e.target.lastScale||(e.target.lastScale=e.target.scale),e.target.scale=.9*e.target.lastScale),GG.audioMgr.playSound(17))},i),e.on(cc.Node.EventType.TOUCH_END,function(e){e.target.lastScale&&(e.target.scale=e.target.lastScale),e.target._isTouchEnabledEx&&t.call(i,e,n)},i),e.on(cc.Node.EventType.TOUCH_CANCEL,function(e){e.target.lastScale&&(e.target.scale=e.target.lastScale)},i))},setBtnEnable:function(e,t,i){t?e.opacity=255:i||(e.opacity=255*G_Config_common.btnGrayValue);var n=e.getComponent(cc.Button);n&&(n.enabled=t),e._isTouchEnabledEx=t},getIsBtnEnable:function(e){return e._isTouchEnabledEx},releaseButtonEvent:function(){if(this._list_registerBtn){for(var e,t,i,n=0;n<this._list_registerBtn.length;n++)e=this._list_registerBtn[n][0],t=this._list_registerBtn[n][1],i=this._list_registerBtn[n][2],e.off(cc.Node.EventType.TOUCH_START,t,i),e.off(cc.Node.EventType.TOUCH_END,t,i),e.off(cc.Node.EventType.TOUCH_CANCEL,t,i);this._list_registerBtn=null}},onDestroy:function(){this.releaseButtonEvent()}}),cc._RF.pop()},{}],BaseDialog:[function(e,t,i){"use strict";cc._RF.push(t,"f6109FzSJ9AfKnDL7rPu4MO","BaseDialog"),cc.Class({"extends":e("BaseUI"),properties:{_parentComp:null,node_closeBtn:{"default":null,type:cc.Node,displayName:"关闭按钮"},prefab_leftButton:{"default":null,type:cc.Prefab,displayName:"左边按钮预制体"},comp_leftBtnContainer:{"default":null,type:e("Obj_dealScroll"),displayName:"左边按钮容器"},prefab_item:{"default":null,type:cc.Prefab,displayName:"数据条目"},comp_itemContainer:{"default":null,type:e("Obj_dealScroll"),displayName:"条目容器"}},onLoad:function(){this._registerCloseEvent()},bindContainer:function(e){this._parentComp=e},showLayer:function(){this._super(),this._parentComp&&this._parentComp.setGrayLayerIsShow&&this._parentComp.setGrayLayerIsShow(!0)},hideLayer:function(){this._super(),this._parentComp&&this._parentComp.setGrayLayerIsShow&&this._parentComp.setGrayLayerIsShow(!1)},setData:function(){},_registerCloseEvent:function(){this.node_closeBtn&&this.registerButton(this.node_closeBtn,this._onClick_close,this)},_onClick_close:function(e){this.hideLayer()}}),cc._RF.pop()},{BaseUI:"BaseUI",Obj_dealScroll:"Obj_dealScroll"}],BaseManager:[function(e,t,i){"use strict";cc._RF.push(t,"81a4a4XtK1Om55doheYVRiA","BaseManager"),cc.Class({"extends":cc.Component,properties:{_isADLimit:null},onLoad:function(){GG.webHandler.adaptSceneSize(),GG.curMgr=this,this.addLongListen(),GG.setIsLoading(!1),this._isADLimit=null},updateEnterHomeData:function(e){this._enterHomeData&&(this._enterHomeData.match.beginTimeNext!=e.match.beginTimeNext&&(this._isPauseOverMatch=!0),this._enterHomeData.seats=e.seats,this._enterHomeData.match.dealer=e.match.dealer,this._enterHomeData.match.beginTimeNext=e.match.beginTimeNext,this._enterHomeData.match.settleTime=e.match.settleTime,e.poker&&(this._enterHomeData.poker=e.poker))},refreshHome:function(){G_Config_common.isLocal||this.net_setHomeData&&this._enterHomeData&&this.net_setHomeData(this._enterHomeData)},whenPauseGame:function(){this._isPauseOverMatch=!1},whenResumeGame:function(){this.comp_uiLayer&&this.comp_uiLayer.closeAllUI()},setBettingEndInfo:function(e){},checkMyselfInfo:function(e){return!(!e||e.length<1)||(GG.tipsMgr.showConfirmTip_ONE(G_CHINESE.noMyself,function(){GG.exitGame()}.bind(this)),!1)},setAdLimit:function(e){this._isADLimit=e},getAdIsLimit:function(){return this._isADLimit},addLongListen:function(){GG.socketMgr.registerLong(NetType.r_passiveOut,this.net_passiveOut.bind(this)),GG.socketMgr.registerLong(NetType.r_tips,this.net_tipData.bind(this)),GG.socketMgr.registerLong(NetType.r_getAnnouncement,this.net_getAnnouncement.bind(this)),GG.socketMgr.registerLong(NetType.r_idleTimeOut,this.net_idleTimeOut.bind(this))},net_tipData:function(e){e.code==G_TYPE.serverCodeType.needLogin&&GG.tipsMgr.showConfirmTip_ONE(e.tip,function(){GG.loginSocket(function(){GG.socketMgr.getIsConnected()?GG.exitHome():GG.exitGame()})}.bind(this))},net_passiveOut:function(e){GG.socketMgr.setTimeOutLimit(!0),GG.tipsMgr.showConfirmTip_ONE(e.tip.tip,function(){GG.exitGame()}.bind(this))},net_getAnnouncement:function(e){var t=e.tip;t.code==G_TYPE.serverCodeType.success&&(this._isADLimit||GG.tipsMgr.addNotice(e.content))},net_idleTimeOut:function(e){GG.tipsMgr.showConfirmTip_ONE(e.tip.tip,function(){GG.exitHome()}.bind(this))},onDestroy:function(){GG.socketMgr.cancelAllLongListen()}}),cc._RF.pop()},{}],BaseUI:[function(e,t,i){"use strict";cc._RF.push(t,"cd62eHkgCZHfo5RnyU+f4P8","BaseUI"),cc.Class({"extends":e("AutoDealing"),properties:{_isRelease:null,_uiName:null},onLoad:function(){},showLayer:function(){this.node.active=!0,this.addTouchLimit()},hideLayer:function(){this.cancelTouchLimit(),this._isRelease?this.node.destroy():this.node.active=!1},addTouchLimit:function(){var e=this._getTouchLimitComp();e&&e.addTouchLimit()},cancelTouchLimit:function(){var e=this._getTouchLimitComp();e&&e.cancelTouchLimit()},_getTouchLimitComp:function(){return this._touchLimitComp||(this._touchLimitComp=this.node.parent.getComponent("Obj_touchLimit")),this._touchLimitComp},setIsRelease:function(e){this._isRelease=e},setUIName:function(e){this._uiName=e},getUIName:function(){return this._uiName}}),cc._RF.pop()},{AutoDealing:"AutoDealing"}],Bull100_Manager:[function(e,t,i){"use strict";cc._RF.push(t,"fb19fRj6b9GDZMv4BilqtWr","Bull100_Manager");var n={0:"SPADE_W",1:"SPADE_L",2:"HEART_W",3:"HEART_L",4:"CLUB_W",5:"CLUB_L",6:"DIAMOND_W",7:"DIAMOND_L"},o={SPADE_W:"0",SPADE_L:"1",HEART_W:"2",HEART_L:"3",CLUB_W:"4",CLUB_L:"5",DIAMOND_W:"6",DIAMOND_L:"7"};cc.Class({"extends":e("BaseManager"),properties:{_gameState:null,_idleTip:null,_grabTip:null,_isMyDealer:null,_enterHomeData:null,_homeID:null,_matchID:null,_nextStartTime:null,_curEndGrabTime:null,_playerID:null,_maxBettingTimes:null,_maxBettingGold:null,_chipValueList:null,_homeName:null,_matchEndData:null,_dealerNetType:null,_minDealerGold:null,_isPauseOverMatch:null,_isDealerSign:null,_dict_idleBetting:null,comp_topEffect:{"default":null,type:e("Bull100_topEffect"),displayName:"动画容器"},comp_pokerLayer:{"default":null,type:e("Bull100_pokerContainer"),displayName:"卡牌容器"},comp_playersLayer:{"default":null,type:e("Bull100_playerContainer"),displayName:"玩家容器"},comp_tablesLayer:{"default":null,type:e("Bull100_tableContainer"),displayName:"桌子容器"},comp_goldsLayer:{"default":null,type:e("Obj_goldsContainer"),displayName:"金币容器"},comp_btnsLayer:{"default":null,type:e("Bull100_btnContainer"),displayName:"底部按钮容器"},comp_uiLayer:{"default":null,type:e("Obj_uiContainer"),displayName:"窗口界面容器"},comp_pokerResultLayer:{"default":null,type:e("Bull100_pokerResultContainer"),displayName:"卡牌结果显示容器"},label_bettingTimes:{"default":null,type:cc.Label,displayName:"投注次数"},node_diyTip:{"default":null,type:cc.Node,displayName:"tip"}},onLoad:function(){GG.bull100Mgr=this,this._super(),this._isDealerSign=!1,this._bettingTimesStr=G_CHINESE.limitBetting,this._isPauseOverMatch=!0},_initLocalData:function(){if(G_Config_common.isLocal){var e=[100,500,1e3,2e3,5e3],t={myselfData:{chooseDict:e,roomName:null},othersData:[{player:{coin:7568,icon:null,nickname:"black1",playerId:5,usableBalance:7568},seatIndex:1},{player:{coin:7568,icon:null,nickname:"black",playerId:5,usableBalance:7568},seatIndex:2},{player:{coin:888888,icon:null,nickname:"solider",playerId:6,usableBalance:888888},seatIndex:3},{player:{coin:888888,icon:null,nickname:"jin",playerId:7,usableBalance:888888},seatIndex:4},{player:{coin:888888,icon:null,nickname:"jin1",playerId:8,usableBalance:888888},seatIndex:5},{player:{coin:888888,icon:null,nickname:"jin2",playerId:9,usableBalance:888888},seatIndex:6},{player:{coin:888888,icon:null,nickname:"jin3",playerId:9,usableBalance:888888},seatIndex:7}],dealerData:{coin:297300,icon:null,nickname:"系统大牛",playerId:7,usableBalance:74325},homeData:{roomId:1,userId:6,betTimes:100,matchId:1,beginTimeNext:1487559489225,settleTime:1487559474225,betChip:e,minDealerGold:1e5}};this._initInHomeData(t);var i=1487559484012;if(this._nextStartTime>i&&i>=this._curEndGrabTime){var n=this._getOffSeconds(i,this._nextStartTime);this.cmd_wait(n,this.cmd_startReady.bind(this))}else this._givePokers(!0)}},_initInHomeData:function(e){if(e.homeData){var t=e.homeData;this._homeID||(this._homeID=t.roomId),this._matchID=t.matchId,this._nextStartTime=t.beginTimeNext,this._curEndGrabTime=t.settleTime,t.minDealerGold&&(this._minDealerGold=t.minDealerGold),t.betTimes&&(this._maxBettingTimes=t.betTimes),t.betChip&&(this._chipValueList=t.betChip,this._maxBettingGold=this._maxBettingTimes*t.betChip[t.betChip.length-1],this.comp_btnsLayer.initChipBtn(t.betChip)),t.userId&&(GG.getPlayer().setPlayerID(t.userId),this._playerID=GG.getPlayer().getPlayerID())}this.comp_playersLayer.setStartInfo(e.othersData,e.myselfData,e.dealerData),e.dealerData&&(e.dealerData.playerId==GG.getPlayerID()?(this.setBottomIsShow(!1),this._isDealerSign=!0):(this.setBottomIsShow(!0),this.comp_playersLayer.getMyselfEffectComp().clearDealerWordAni())),this.setBettingTimes(this._maxBettingTimes)},start:function(){if(GG.tipsMgr.setTextTip(this.node_diyTip.getComponent("Obj_txtTip")),this.resetShow(),G_Config_common.isLocal)this._initLocalData();else{this.addLongListenOnStart();var e=GG.getPlayer().getInHomeData();e&&(e.net_resetHomeData?(this._dealInHomeNetData(e.net_inHomeData),this.updateEnterHomeData(e.net_resetHomeData),this.refreshHome()):this.net_setHomeData(e.net_inHomeData))}},testExitBtn:function(){return!0},_clearByWait:function(){this.getMyselfComp().clearBettingGold()},cmd_wait:function(e,t){this._gameState=G_TYPE.bull100State.wait,this._grabTip&&this._grabTip.getIsShow()&&this._grabTip.forceEnd(),this.comp_tablesLayer.setTableTouchEnable(!1);new Date(GG.socketMgr.getServerTime()),new Date(this._nextStartTime);if(this._idleTip&&this._idleTip.getIsShow())this._idleTip.forceChangeCountDown(e);else{var i={tipIndex:19,isCountDown:!0,showPos:this.node_diyTip.position};i.retainTime=e,t&&(i.callBack=t),this._idleTip=GG.tipsMgr.showOnlyOne(i)}this._clearByWait()},cmd_startReady:function(){this._gameState=G_TYPE.bull100State.startReady,this._idleTip&&this._idleTip.getIsShow()&&this._idleTip.forceEnd(),this.comp_playersLayer.getDealerWordEffectComp().playDealerWordAni(),this.comp_topEffect.playStartGameAni(function(){var e;e=G_Config_common.isLocal?10:this._getOffSeconds(GG.socketMgr.getServerTime(),this._curEndGrabTime),this.cmd_startBetting(e)}.bind(this)),this.getMyselfComp().getIsDealer()?this._givePokers(!0):this._givePokers(!1)},_givePokers:function(e){if(e){var t=this;setTimeout(function(){var i=t.comp_playersLayer.getDealerPokerPos(),n=t.comp_tablesLayer.getTablePokerPos();n.push(i),t.comp_pokerLayer.giveCoverPokers(n,function(){}.bind(t),e)},100)}else{var i=this.comp_playersLayer.getDealerPokerPos(),n=this.comp_tablesLayer.getTablePokerPos();n.push(i),this.comp_pokerLayer.giveCoverPokers(n,function(){}.bind(this),e)}},cmd_startBetting:function(e){var t=this.getMyselfComp().getIsDealer();t||(this.comp_tablesLayer.setTableTouchEnable(!0),this.comp_btnsLayer.refreshCanChooseBtn());var i={tipIndex:18,showPos:this.node_diyTip.position,isCountDown:!0,callBack:this.cmd_bettingEnd.bind(this)};i.retainTime=e,G_Config_common.isLocal&&(i.retainTime=10),t&&(i.showStr=G_CHINESE.isDealerTip),this._grabTip=GG.tipsMgr.showOnlyOne(i)},cmd_bettingEnd:function(e){this.comp_tablesLayer.setTableTouchEnable(!1),this.comp_btnsLayer.setBtnGroupEnable(!1),this._grabTip&&this._grabTip.getIsShow()&&this._grabTip.forceEnd();var t;if(G_Config_common.isLocal){this._winDict={0:1,2:1,5:1,7:1};for(var i=[],n=0;n<5;n++){for(var o=[],s=0;s<5;s++)o.push({pokerIndex:13,isOpen:!1});i.push(o)}var a=[10,2,3,4,5];this._initMatchEndData(),this._matchEndData.pokersInfoList=i,this._matchEndData.pokersResultList=a,this._matchEndData.myselfInfo={changeGold:44444*(G_TOOL.getRandomBool()?1:-1),leaveGold:999666},this._matchEndData.dealerInfo={leaveGold:8888888},this._matchEndData.othersInfo={2:{changeGold:11111*(G_TOOL.getRandomBool()?1:-1),leaveGold:33333,name:"黑人1"},3:{changeGold:44444*(G_TOOL.getRandomBool()?1:-1),leaveGold:999666,name:"黑人2"}},t=10,this.cmd_wait(t)}this._winDict&&this.comp_topEffect.playBettingEnd(function(){this._showWhenGotEndInfo()}.bind(this))},_showWhenGotEndInfo:function(){if(!this._matchEndData)return void this._resetGameWhenEnd();this._matchEndData.pokersInfoList&&this._matchEndData.pokersResultList&&this.comp_pokerLayer.setPokersData(this._matchEndData.pokersInfoList,this._matchEndData.pokersResultList),this._winDict&&this.comp_pokerLayer.openPokers(this._winDict);var e=cc.delayTime(3);this.node.runAction(cc.sequence(e,cc.callFunc(function(){if(this._matchEndData.dealerInfo&&this.comp_playersLayer.getDealerComp().setGoldValue(this._matchEndData.dealerInfo.leaveGold),this._matchEndData.myselfInfo){var e=this.getMyselfComp();e.setGoldValue(this._matchEndData.myselfInfo.leaveGold),e.showGoldChange(this._matchEndData.myselfInfo.changeGold)}if(this._matchEndData.othersInfo){var t,i;for(var n in this._matchEndData.othersInfo)t=this._matchEndData.othersInfo[n],t&&(i=this.comp_playersLayer.getPlayerComp(n),i&&i.showGoldChange(t.changeGold))}this._openPokerEnd()},this)))},_openPokerEnd:function(e){this.comp_playersLayer.flyWinGold(this._winDict);var t=cc.delayTime(2);this.node.runAction(cc.sequence(t,cc.callFunc(function(){var e={};this._matchEndData?(this._matchEndData.myselfInfo&&(e.myChangeGold=this._matchEndData.myselfInfo.changeGold),this._matchEndData.othersInfo&&(e.othersInfo=this._matchEndData.othersInfo),this.comp_topEffect.showResultEffect(e,this._resetGameWhenEnd.bind(this))):this._resetGameWhenEnd()},this)))},_resetGameWhenEnd:function(){this.changeIdleTip(),G_Config_common.isLocal&&(this.resetShow(),this._initLocalData())},resetShow:function(){this.node.stopAllActions(),this._isMyDealer=!1,this._winDict=null,this._matchEndData=null,this.comp_pokerLayer.clearAll(),this._isPauseOverMatch?(this.comp_goldsLayer.clearAll(),this.comp_tablesLayer.initAllTables(),this._dict_idleBetting=null):this._isPauseOverMatch=!0,this.comp_btnsLayer.setStartInfo(),this.comp_topEffect.clearAll();var e=this.comp_uiLayer.getUIComp(G_RES_URL.uiName.dealerList);e&&e.hideLayer(),this.comp_pokerResultLayer.clearAll()},touchTable:function(e,t){if(!this.getMyselfComp().getIsDealer()){var i=G_OBJ.data_bullBetting();i.tableIndex=e,i.posList=t,i.isMine=!0,this.getMyselfComp().touchTable(i,this._touchTableSuccess.bind(this))}},_touchTableSuccess:function(e){var t=e.tableIndex;e.posList;this.comp_tablesLayer.setBettingSuccess(t,e.goldValue,e.isMine);var i=G_OBJ.data_flyGold_playerToTable();i.tableIndex=t,i.goldNum=e.posList.length,i.startPos=e.startPos,this.comp_goldsLayer.playerToTable(i)},goldRecover:function(e,t){var i;for(var n in e){i=e[n];var o=G_OBJ.data_flyGold_tableToPlayer();o.tableIndex=n,o.goldNum=i,o.targetPos=t,this.comp_goldsLayer.tableToPlayer(o)}},refreshBtnChoose:function(){},showTableWin:function(e,t){this.comp_tablesLayer.showTableWin(e,t)},showUI_dealerList:function(e){this.comp_uiLayer.addUI(G_RES_URL.uiName.dealerList,function(t){e&&(t.showLayer(),t.setData(e))})},showUI_playerList:function(e){this.comp_uiLayer.addUI(G_RES_URL.uiName.playerList,function(t){t.setData(e)})},showUI_trendList:function(e){this.comp_uiLayer.addUI(G_RES_URL.uiName.bull100Trend,function(t){t.setData(e)})},showUI_rules:function(e){this.comp_uiLayer.addUI(G_RES_URL.uiName.rulesInHome,function(t){t.showLayer(),t.setData(e)})},changeGrabTip:function(e){var t=this._getOffSeconds(GG.socketMgr.getServerTime(),this._curEndGrabTime);this._grabTip&&this._grabTip.getIsShow()?this._grabTip.forceChangeCountDown(t):(this.comp_topEffect.clearAll(),this.comp_pokerLayer.getIsGivePokerEnd()||this._givePokers(!0),this.cmd_startBetting(t))},changeIdleTip:function(e){if(this._idleTip&&this._idleTip.getIsShow()){var t=this._getOffSeconds(GG.socketMgr.getServerTime(),this._nextStartTime);e&&(t=e),this._idleTip.forceChangeCountDown(t)}},resetTableGold:function(e){if(e&&!(e.length<1))for(var t,i=0;i<e.length;i++){t=e[i];var n=parseInt(t.item.split("_")[0]);if(t.seatIndex!==this.getMyselfComp().getSeatIndex()){var o={},s=this.comp_playersContainer.getCompByIndex(t.seatIndex);o.goldValue=t.gold,o=s.touchGrabArea_other(o),o=this.comp_tablesContainer.touchOneTable(n,o),o.callFunc&&o.callFunc()}}},send_getDealerList:function(){if(G_Config_common.isLocal){var e={playerId:9,icon:"",nickname:"玩家1",coin:21e4,maxDealerCoin:21e4,usableBalance:2e5},t=[{playerId:1,headImg:"",nickname:"玩家3",coin:99999,usableBalance:11111},{playerId:2,headImg:"",nickname:"玩家2",coin:99999,usableBalance:11111}],i={myGold:e.usableBalance,dealerInfo:e,rankList:t};this.showUI_dealerList(i)}else{var n={};this.setDealerNetType(G_TYPE.dealerNetType.getList),GG.socketMgr.SendMsg(NetType.s_bull100_getDealerList,n)}},send_upDealer:function(e){if(G_Config_common.isLocal){var t={playerId:6,icon:"",nickname:"玩家1",coin:11e4,maxDealerCoin:11e4,usableBalance:1e5},i=[{playerId:1,headImg:"",nickname:"玩家3",coin:99999,usableBalance:11111},{playerId:2,headImg:"",nickname:"玩家2",coin:99999,usableBalance:11111},{playerId:3,headImg:"",nickname:"玩家5",coin:9909,usableBalance:1101}],n={myGold:t.usableBalance,dealerInfo:t,rankList:i,tipStr:"上庄成功！！！"},o=this.comp_uiLayer.getUIComp(G_RES_URL.uiName.dealerList);o&&o.upDealerSuccess(n)}else{var s={coin:e};this.setDealerNetType(G_TYPE.dealerNetType.upDealer),GG.socketMgr.SendMsg(NetType.s_bull100_dealerUp,s)}},send_downDealer:function(){var e=this.getMyselfComp().getIsDealer();if(e){GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.giveUpDealer2,this._commitDownDealer.bind(this));var t=this.comp_uiLayer.getUIComp(G_RES_URL.uiName.dealerList);t&&t.hideLayer()}else this._commitDownDealer()},_commitDownDealer:function(){var e={};GG.socketMgr.SendMsg(NetType.s_bull100_dealerDown,e)},send_continueDealer:function(e,t){GG.tipsMgr.showConfirmTip_TWO(G_TOOL.formatStr(G_CHINESE.continueDealer,e),function(){this.commitContinueDealer(e)}.bind(this),t)},commitContinueDealer:function(e){var t={coin:e};GG.bull100Mgr.setDealerNetType(G_TYPE.dealerNetType.continueDealer),GG.socketMgr.SendMsg(NetType.s_bull100_dealerContinue,t)},setBottomIsShow:function(e){this.comp_btnsLayer.setBottomIsShow(e),this.comp_playersLayer.getMyselfEffectComp().playDealerWordAni()},setDealerNetType:function(e){this._dealerNetType=e},setBettingTimes:function(e){this.label_bettingTimes.string=G_TOOL.formatStr(this._bettingTimesStr,e)},showPokerResult:function(e,t){this.comp_pokerResultLayer.showPokerResult(e,t)},getMyselfPos:function(){return this.comp_playersLayer.getMyselfPos()},getMyselfComp:function(){return this.comp_playersLayer.getMyselfComp()},getPlayerCompInSite:function(e){return this.comp_playersLayer.getPlayerComp(e)},getMyselfFlyGoldNum:function(){return this.getMyselfComp().getFlyGoldNum()},getMyselfBetGoldValue:function(){return this.getMyselfComp().getChooseGoldValue()},getGoldImgSize:function(){return this.comp_goldsLayer.getGoldSize()},getMaxBettingGold:function(){return this._maxBettingGold},getMaxBettingTimes:function(){return this._maxBettingTimes},getMatchID:function(){return this._matchID},getBtnsComp:function(){return this.comp_btnsLayer},getBigTableIndex:function(e){return 2*e},getMinTableIndex:function(e){return 2*e+1},getTableContainerIndex:function(e){var t;return t=e%2==0?e/2:(e-1)/2},getItemByTableIndex:function(e){return n[e]},getTableIndexByItem:function(e){return o[e]},getChipValueList:function(){return this._chipValueList},getEnterHomeData:function(){return this._enterHomeData},getIsBetStart:function(e,t){e||(e=this._nextStartTime),t||(t=this._curEndGrabTime);var i=GG.socketMgr.getServerTime();return!(e>i&&i>=t)},getHomeName:function(){return this._homeName},getHomeID:function(){return this._homeID},getIsBetting:function(){return this.getMyselfComp().getIsBetting()},getMinDealerGold:function(){return this._minDealerGold},getDealerState:function(){return this._isDealerSign},getTableContainer:function(){return this.comp_tablesLayer},getGoldContainer:function(){return this.comp_goldsLayer},getIdleBettingPos:function(){return this.comp_btnsLayer.getIdleBettingPos()},getIdleBetting:function(){return this._dict_idleBetting},getFirstBetting:function(){return this._startGame},addMyGoldListener:function(){this._listenerName=GG.Listener.registerFunc(G_TYPE.globalListener.playerGold,this.on_goldChange.bind(this))},on_goldChange:function(e,t){if(this.node.active){var t=G_OBJ.data_selfMatchEndData();t.leaveGold=parseInt(t.balance),this.setMatchEndMySelfData(t)}},setMatchEndMySelfData:function(e){this._initMatchEndData(),this._matchEndData.myselfInfo||(this._matchEndData.myselfInfo=G_OBJ.data_selfMatchEndData()),"[object Number]"===Object.prototype.toString.call(e.changeGold)&&(this._matchEndData.myselfInfo.changeGold=e.changeGold),"[object Number]"===Object.prototype.toString.call(e.leaveGold)&&(this._matchEndData.myselfInfo.leaveGold=e.leaveGold)},_addIdleBetting:function(e,t){this._dict_idleBetting||(this._dict_idleBetting={}),this._dict_idleBetting[e]?this._dict_idleBetting[e]+=t:this._dict_idleBetting[e]=t},_initMatchEndData:function(){this._matchEndData||(this._matchEndData=G_OBJ.data_matchEnd())},addLongListenOnStart:function(){GG.socketMgr.registerLong(NetType.r_bull100_reStartGame,this.net_resetGameData.bind(this)),GG.socketMgr.registerLong(NetType.r_grabEnd,this.net_bettingEnd.bind(this)),GG.socketMgr.registerLong(NetType.r_otherGrab,this.net_otherGrab.bind(this)),GG.socketMgr.registerLong(NetType.r_mineHaveGrab,this.net_mineHasGrab.bind(this)),GG.socketMgr.registerLong(NetType.r_oneInHome,this.net_someOneInHome.bind(this)),GG.socketMgr.registerLong(NetType.r_grab_exitReturn,this.net_exitHome.bind(this)),GG.socketMgr.registerLong(NetType.r_bull100_dealerDownWarning,this.net_dealerContinueWarning.bind(this)),GG.socketMgr.registerLong(NetType.r_bull100_dealerListReturn,this.net_returnDealerList.bind(this)),GG.socketMgr.registerLong(NetType.r_bull100_downDealerReturn,this.net_returnDownDealer.bind(this))},net_setHomeData:function(e){var t=e.tip;if(t.code==G_TYPE.serverCodeType.success){this._dealInHomeNetData(e);var i=GG.socketMgr.getServerTime();if(i<this._curEndGrabTime){this._idleTip&&this._idleTip.getIsShow()&&this._idleTip.forceEnd(),this.resetShow(),this._startGame=!0;var n=this._getOffSeconds(GG.socketMgr.getServerTime(),this._curEndGrabTime);this.cmd_startBetting(n),this._givePokers(!0)}else{this._isPauseOverMatch=!0,this.resetShow(),this._startGame=!1;var n=this._getOffSeconds(i,this._nextStartTime);n<=0?(n=this._getOffSeconds(GG.socketMgr.getServerTime(),this._curEndGrabTime),this.cmd_startBetting(n),this._givePokers(!0)):this.cmd_wait(n)}}},_dealInHomeNetData:function(e){this._enterHomeData=e;var t=e.match,i=(new Date(GG.socketMgr.getServerTime()),new Date(t.beginTimeNext),GG.getPlayerID()),n={myselfData:{chooseDict:e.betChip,roomName:e.roomName},othersData:e.seats,dealerData:t.dealer,homeData:{roomId:e.roomId,userId:i,betTimes:e.betTimes,matchId:t.matchId,beginTimeNext:t.beginTimeNext,settleTime:t.settleTime,betChip:e.betChip,minDealerGold:e.minDealerCoin}};this._initInHomeData(n)},net_resetGameData:function(e){GG.tipsMgr.clearConfirm();var t=e.tip;if(t.code==G_TYPE.serverCodeType.success){this.updateEnterHomeData(e);var i=e.match,n={myselfData:{chooseDict:null,roomName:null},othersData:e.seats,dealerData:i.dealer,homeData:{roomId:e.roomId,userId:null,betTimes:null,matchId:i.matchId,beginTimeNext:i.beginTimeNext,settleTime:i.settleTime,betChip:null}};this._initInHomeData(n),this.resetShow(),this.cmd_startReady()}},net_bettingEnd:function(e){var t=this.setBettingEndInfo(e);if(t){this.cmd_bettingEnd();var i=this._getOffSeconds(GG.socketMgr.getServerTime(),this._nextStartTime);this.cmd_wait(i)}},setBettingEndInfo:function(e){var t=e.tip;switch(t.code){case G_TYPE.serverCodeType.success:break;case G_TYPE.serverCodeType.noBetting:break;default:return!1}this._super(e),this._winDict={};for(var i,n,o,s=[],a=[],l=0;l<e.pokers.length;l++){n=e.pokers[l];for(var r=n.code.split(","),c=[],_=0;_<r.length;_++)i=parseInt(r[_]),isNaN(i)||c.push({pokerIndex:i,isOpen:!1});s.push(c),a.push(n.cardsPoint),l>0?"WIN"==n.result?this._winDict[this.getBigTableIndex(l-1)]=Math.max(n.odds,o):"LOSE"==n.result&&(this._winDict[this.getMinTableIndex(l-1)]=Math.max(n.odds,o)):o=n.odds}this._initMatchEndData(),this._matchEndData.pokersInfoList=s,this._matchEndData.pokersResultList=a;var h=e.players;if(h){this._matchEndData.othersInfo={};for(var l=0;l<h.length;l++){var u=h[l];switch(u.seatIndex){case G_DATA.getDealerSeatIndex():this._matchEndData.dealerInfo={changeGold:u.coin,leaveGold:u.balance};break;case G_DATA.getIdlePlayersSeatIndex():break;default:this._matchEndData.othersInfo[u.seatIndex]={changeGold:u.coin,leaveGold:u.balance,name:u.nickname,icon:u.icon}}}}return!0},net_mineHasGrab:function(e){var t=e.tip;if(t.code==G_TYPE.serverCodeType.success){var i=e.player,n=G_OBJ.data_selfMatchEndData();n.changeGold=parseInt(i.coin),n.leaveGold=parseInt(i.balance),this.setMatchEndMySelfData(n)}},net_otherGrab:function(e){var t=e.tip;if(t.code==G_TYPE.serverCodeType.success)for(var i,n=e.bets,o=0;o<n.length;o++){i=n[o];var s=this.getTableIndexByItem(i.item),a=i.seatIndex,l=G_Config_grab.num_otherGrabGoldNum,r=G_OBJ.data_bullBetting();switch(r.tableIndex=s,r.posList=this.comp_tablesLayer.getGoldPosList(s,l),r.goldValue=i.gold,r.isMine=!1,a){case this.getMyselfComp().getSeatIndex():break;case G_DATA.getIdlePlayersSeatIndex():r.startPos=this.comp_btnsLayer.getIdleBettingPos(),r.goldNum=l,!this.getMyselfComp().getSeatIndex()&&this.getMyselfComp().getIsBetting()&&(r.goldValue=this.getMyselfComp().reduceGoldEX(r.goldValue)),r.goldValue>0&&(this._addIdleBetting(r.tableIndex,r.goldNum),this._touchTableSuccess(r));break;case G_DATA.getDealerSeatIndex():break;default:var c=this.getPlayerCompInSite(a);c&&c.touchTable(r,this._touchTableSuccess.bind(this))}}},net_someOneInHome:function(e){var t=e.tip;if(t.code==G_TYPE.serverCodeType.success)for(var i,n=e.seats,o=GG.getPlayerID(),s=0;s<n.length;s++)i=n[s],i&&i.player.playerId!=o&&this.comp_playersLayer.onePlayerInsert(i.seatIndex,i.player)},net_dealerContinueWarning:function(e){var t=e.tip;switch(t.code){case G_TYPE.serverCodeType.success:break;case G_TYPE.serverCodeType.upDealerErr2:GG.tipsMgr.showSystem(t.tip);break;case G_TYPE.serverCodeType.upDealerSuccess:GG.tipsMgr.showSystem(G_CHINESE.upDealerSuccess,null,2);break;case G_TYPE.serverCodeType.continueFail1:GG.tipsMgr.showConfirmTip_ONE(t.tip);break;case G_TYPE.serverCodeType.downDealer4:GG.tipsMgr.showConfirmTip_ONE(t.tip),this.getMyselfComp().getIsDealer();break;case G_TYPE.serverCodeType.warnDealer1:GG.tipsMgr.showSystem(G_CHINESE.downDealerWarning,null,4);break;case G_TYPE.serverCodeType.continueFail2:this.send_continueDealer(e.coin,function(){this.setBottomIsShow(!0)}.bind(this));break;case G_TYPE.serverCodeType.downDealer3:return void GG.tipsMgr.showConfirmTip_ONE(t.tip);default:return void GG.tipsMgr.showConfirmTip_ONE(t.code+t.tip)}},net_returnDealerList:function(e){var t=e.tip;switch(t.code){case G_TYPE.serverCodeType.success:break;case G_TYPE.serverCodeType.continueSuccess:break;case G_TYPE.serverCodeType.continueFail1:return void GG.tipsMgr.showConfirmTip_ONE(t.tip);case G_TYPE.serverCodeType.upDealerErr2:return void GG.tipsMgr.showSystem(t.tip,null,2);case G_TYPE.serverCodeType.continueFail3:return void GG.tipsMgr.showSystem(t.tip,null,2);case G_TYPE.serverCodeType.downDealer5:return void GG.tipsMgr.showConfirmTip_ONE(t.tip);default:return void GG.tipsMgr.showConfirmTip_ONE(t.code+t.tip)}var i=e.deskDealer,n=e.players,o={myGold:e.dealer.maxDealerCoin,dealerInfo:i,rankList:n,tipStr:""};switch(this.getMyselfComp().setGoldValue(e.dealer.coin),this.getMyselfComp().getIsDealer()&&this.comp_playersLayer.getDealerComp().setGoldValue(e.deskDealer.usableBalance),this._dealerNetType){case G_TYPE.dealerNetType.upDealer:o.tipStr=G_CHINESE.dealerSuccess;var s=this.comp_uiLayer.getUIComp(G_RES_URL.uiName.dealerList);s&&s.upDealerSuccess(o);break;case G_TYPE.dealerNetType.continueDealer:o.tipStr=G_CHINESE.continueDealerSuccess;var s=this.comp_uiLayer.getUIComp(G_RES_URL.uiName.dealerList);s&&s.upDealerSuccess(o);break;case G_TYPE.dealerNetType.getList:this.showUI_dealerList(o)}this._dealerNetType=null},net_returnDownDealer:function(e){var t=e.tip;switch(t.code){
case G_TYPE.serverCodeType.success:break;case G_TYPE.serverCodeType.downDealer1:this.setBottomIsShow(!0);({tipIndex:19,showStr:G_CHINESE.downSuccess,isCountDown:!1,showPos:G_DATA.getCenterTipPos()});GG.tipsMgr.showSystem(G_CHINESE.downSuccess,null,2);var i=this.comp_uiLayer.getUIComp(G_RES_URL.uiName.dealerList);i&&i.setBtnShow(!1),this.comp_playersLayer.getMyselfEffectComp().clearDealerWordAni(),this.comp_playersLayer.setUpDealerBtnEnable(!1);break;case G_TYPE.serverCodeType.downDealer2:var n=e.deskDealer,o=e.players,s={myGold:e.dealer.maxDealerCoin,dealerInfo:n,rankList:o,tipStr:""};s.tipStr=G_CHINESE.giveUpDealer1;var i=this.comp_uiLayer.getUIComp(G_RES_URL.uiName.dealerList);i&&i.downDealerSuccess(s),GG.tipsMgr.showSystem(G_CHINESE.giveUpDealer1,null,2),this.getMyselfComp().setGoldValue(s.myGold);break;case G_TYPE.serverCodeType.downDealer3:this.setBottomIsShow(!0);({tipIndex:19,showStr:G_CHINESE.downSuccess,isCountDown:!1,showPos:G_DATA.getCenterTipPos()});GG.tipsMgr.showSystem(G_CHINESE.downSuccess,null,2)}this._isDealerSign=!1},net_exitHome:function(e){var t=e.tip;t.code==G_TYPE.serverCodeType.success&&GG.exitHome()},net_idleTimeOut:function(e){GG.tipsMgr.showConfirmTip_ONE(e.tip.tip,function(){GG.exitHome()}.bind(this))},_getOffSeconds:function(e,t){return GG.socketMgr.getOffSeconds(e,t)},shakeGame:function(){var e=2,t=2*e,i=.07,n=cc.moveBy(i,-t,0),o=cc.moveBy(i,2*t,0),s=cc.moveBy(i,-t,0),a=cc.moveBy(i,t,0),l=cc.moveBy(i,-e,0);this.node.runAction(cc.sequence(n,o,s,a,l))},onDestroy:function(){this._super(),GG.bull100Mgr=null,GG.Listener.delListen(G_TYPE.globalListener.playerGold,this._listenerName)}}),cc._RF.pop()},{BaseManager:"BaseManager",Bull100_btnContainer:"Bull100_btnContainer",Bull100_playerContainer:"Bull100_playerContainer",Bull100_pokerContainer:"Bull100_pokerContainer",Bull100_pokerResultContainer:"Bull100_pokerResultContainer",Bull100_tableContainer:"Bull100_tableContainer",Bull100_topEffect:"Bull100_topEffect",Obj_goldsContainer:"Obj_goldsContainer",Obj_uiContainer:"Obj_uiContainer"}],Bull100_btnContainer:[function(e,t,i){"use strict";cc._RF.push(t,"8ebeakRcqlHerVhexIQiAHf","Bull100_btnContainer"),cc.Class({"extends":e("AutoDealing"),properties:{_lastBtn:null,node_btnGroup:cc.Node,node_effectUnderButton:cc.Node,node_exitHomeBtn:cc.Node,node_rightBtn1:cc.Node,node_rightBtn2:cc.Node,node_rightBtn3:cc.Node,node_continueDealer:{"default":null,type:cc.Node,displayName:"续庄按钮容器"}},onLoad:function(){this._btnCompName="Obj_optionButton",this._isAdaptPos=!1,this._registerAllBtn()},initChipBtn:function(e){this._setBtnInfo(e)},setStartInfo:function(){this.setBtnGroupEnable(!1)},_registerAllBtn:function(){for(var e=this.node_btnGroup.children,t=0;t<e.length;t++)this.registerButton(e[t],this.OnClick_chooseMoney,this,parseInt(t),!0);this.registerButton(this.node_exitHomeBtn,this.OnClick_exit,this),this.registerButton(this.node_rightBtn1,this.OnClick_right1,this),this.registerButton(this.node_rightBtn2,this.OnClick_right2,this),this.registerButton(this.node_rightBtn3,this.OnClick_right3,this);var i=this.node_continueDealer.children[0],n=this.node_continueDealer.children[1];this.registerButton(i,this.OnClick_continueDealer,this),this.registerButton(n,this.OnClick_leaveDealer,this)},OnClick_chooseMoney:function(e,t){var i=parseInt(t);this._showChooseEffect(e.target);var n=i+1;GG.bull100Mgr.getMyselfComp().chooseChip(n)},OnClick_exit:function(e){var t=GG.bull100Mgr.testExitBtn();if(t){if(G_Config_common.isLocal)return void GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText1,function(){GG.exitHome()});if(GG.bull100Mgr.getIsBetting())GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText1,function(){var e={roomId:GG.bull100Mgr.getHomeID(),isBreak:!0};GG.socketMgr.SendMsg(NetType.s_grab_Exit,e)});else if(GG.bull100Mgr.getMyselfComp().getIsDealer()&&GG.bull100Mgr.getDealerState())GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText3,function(){var e={roomId:GG.bull100Mgr.getHomeID(),isBreak:!0};GG.socketMgr.SendMsg(NetType.s_grab_Exit,e)});else{var i={roomId:GG.bull100Mgr.getHomeID(),isBreak:!0};GG.socketMgr.SendMsg(NetType.s_grab_Exit,i)}}},OnClick_right1:function(e){GG.bull100Mgr.showUI_playerList()},OnClick_right2:function(e){var t=G_TYPE.gameModule.bull100;GG.bull100Mgr.showUI_rules(t)},OnClick_right3:function(e){GG.bull100Mgr.showUI_trendList(GG.bull100Mgr.getHomeID())},OnClick_continueDealer:function(e){GG.bull100Mgr.send_getDealerList()},OnClick_leaveDealer:function(e){GG.bull100Mgr.send_downDealer()},_setBtnInfo:function(e){for(var t,i=this.node_btnGroup.children,n=0;n<i.length;n++)t=parseInt(n),i[n].tag=e[t],i[n].getComponent(this._btnCompName).showMoney(e[t],!1)},chooseMoney:function(e){var t=this._getBtnByIndex(e);this.isBetting=GG.bull100Mgr.getFirstBetting(),this._showChooseEffect(t)},_showChooseEffect:function(e){this._chooseBtn(e),this.node_effectUnderButton.active=!0,this.node_effectUnderButton.x=e.x,this.node_effectUnderButton.y=.65*-e.height},_hideEffect:function(){this.node_effectUnderButton.active=!1},_chooseBtn:function(e){this._cancelChoose(),e.getComponent(this._btnCompName).showMoney(null,!0),this.setBtnEnable(e,!1,!0),this._lastBtn=e},_cancelChoose:function(){this._lastBtn&&(this._hideEffect(),this._lastBtn.getComponent(this._btnCompName).showMoney(null,!1),this.setBtnEnable(this._lastBtn,!0),this._lastBtn.y=0,this._lastBtn=null)},setBtnGroupEnable:function(e){this._cancelChoose();for(var t=this.node_btnGroup.children,i=0;i<t.length;i++)this.setBtnEnable(t[i],e)},refreshCanChooseBtn:function(e){this._list_myGrabOption||(this._list_myGrabOption=GG.bull100Mgr.getMyselfComp().getMoneyChooseDict());var t=this.node_btnGroup.children;G_DATA.isNumber(e)||(e=GG.bull100Mgr.getMyselfComp().getUsableBalance());for(var i=null,n=0;n<this._list_myGrabOption.length;n++)this._list_myGrabOption[n]<=e?(this.setBtnEnable(t[n],!0),i=parseInt(n)):(this._lastBtn&&this._lastBtn.tag==this._list_myGrabOption[n]&&this._cancelChoose(),this.setBtnEnable(t[n],!1));if(!this._lastBtn&&G_DATA.isNumber(i)){var o=GG.bull100Mgr.getMyselfComp().getChooseChip()-1;o<i&&(i=o),this._showChooseEffect(t[i]),GG.bull100Mgr.getMyselfComp().chooseChip(i+1)}},_setIsShowDealerBtn:function(e){this.node_continueDealer.active=e},setBottomIsShow:function(e){this.setBtnGroupEnable(!1),this.node_btnGroup.active=e,this._setIsShowDealerBtn(!e)},_getBtnByIndex:function(e){return this.node_btnGroup.children[e-1]},getIdleBettingPos:function(){var e=this.node_rightBtn1.position,t=this.node_rightBtn1.parent.parent.position,i=e.x+this.node_rightBtn1.parent.x+t.x,n=e.y+this.node_rightBtn1.parent.y+t.y+this.node_rightBtn1.height/2;return cc.p(i,n)}}),cc._RF.pop()},{AutoDealing:"AutoDealing"}],Bull100_playerBlock:[function(e,t,i){"use strict";cc._RF.push(t,"56d8eUX/ttGJZhl4dhP/ZFi","Bull100_playerBlock"),cc.Class({"extends":cc.Component,properties:{_chooseChip:null,_isHandle:null,_dict_betRecord:null,_playerID:null,_siteIndex:null,_touchTableCallFunc:null,_data_betting:null,_bettingTimes:null,_seatMyselfComp:null,_dealerMyselfComp:null,_isDealer:null,_isSending:null,node_headImg:{"default":null,type:cc.Node,displayName:"玩家头像"},node_playerName:{"default":null,type:cc.Node,displayName:"玩家名字"},node_roomName:{"default":null,type:cc.Node,displayName:"房间名字"},node_ownerGold:{"default":null,type:cc.Node,displayName:"玩家金币父层"},prefab_goldResultEffect:{"default":null,type:cc.Prefab,displayName:"金币增减特效"}},onLoad:function(){this._part_gold=this.getComponent("Part_playerBlock_Gold"),this._part_gold.bindBlock(this),this._label_gold=this.node_ownerGold.children[0].getComponent(cc.Label),this._goldResultCompName="Obj_goldResultEffect",this._dict_goldMatch=G_Config_bull100.dict_betGoldNum,this._goldResultFlyTime=.4,this._isSending=!1,this.setDefaultChoose()},setPlayerData:function(e){this.node.active=!0,this._dict_betRecord=null,this._part_gold.setBettingGold(0),this._bettingTimes=0,this._data_betting=null,this._isDealer=e.isDealer,this.setDefaultChoose(),this._playerID=e.playerId,this._siteIndex=e.seatIndex,this._setHeadImg(e.icon),this._setPlayerName(e.nickname),this.setGoldValue(e.coin),this._part_gold.setUsableBalance(e.usableBalance)},setHandleInfo:function(e){e.chooseDict&&(this._dict_goldValueMatch=e.chooseDict),this._setRoomName(e.roomName)},bindSeatMyself:function(e){this._seatMyselfComp=e},bindMyDealer:function(e){this._dealerMyselfComp=e},setDefaultChoose:function(){this._chooseChip||(this._chooseChip=1)},chooseChip:function(e){this._chooseChip=e},setGoldValue:function(e){e||(e=0),this._part_gold.setBalance(e),this._seatMyselfComp&&this._seatMyselfComp.setGoldValue(e)},setIsHandle:function(e){this._isHandle=e},hidePlayer:function(){this.node.active=!1},setChooseGoldValue:function(e){this._dict_goldValueMatch=e},setIsDealer:function(e){this._isDealer=e},getFlyGoldNum:function(){return this._dict_goldMatch[this._chooseChip]},getChooseChip:function(){return this._chooseChip},getChooseGoldValue:function(){return this._dict_goldValueMatch[this._chooseChip-1]},getMoneyChooseDict:function(){return this._dict_goldValueMatch},getWorldPos:function(){var e=this.node.parent.position;return cc.p(this.node.x+e.x,this.node.y+e.y)},getBetRecord:function(){return this._dict_betRecord},getIsShow:function(){return this.node.active},getSeatIndex:function(){return this._siteIndex},getGoldValue:function(){return this._part_gold.getBalance()},getIsBetting:function(){return Boolean(this._part_gold.getBettingGold())},getIsDealer:function(){return this._isDealer},getPlayerID:function(){return this._playerID},getHasBettingGold:function(){return this._part_gold.getBettingGold()},getUsableBalance:function(){return this._part_gold.getUsableBalance()},clearBettingGold:function(){this._part_gold.setBettingGold(0),this._part_gold.setGoldValueEX(0)},reduceGoldEX:function(e){var t=this._part_gold.getGoldValueEX();if(t>=e)return this._part_gold.payGoldValueEX(e),0;var i=e-t;return this._part_gold.setGoldValueEX(0),i},touchTable:function(e,t){if(this._touchTableCallFunc=t,e.startPos=this.getWorldPos(),e.goldNum=this.getFlyGoldNum(),!this._isHandle||G_Config_common.isLocal){var i=e.goldValue;return e.goldNum=G_Config_grab.num_otherGrabGoldNum,this._data_betting=e,void this._setTouchTableData(i,this.getGoldValue()-i)}if(!this._isSending){e.goldValue=this.getChooseGoldValue(),this._data_betting=e;var n={matchId:GG.bull100Mgr.getMatchID(),type:G_TYPE.net_gameModule.bull100,item:GG.bull100Mgr.getItemByTableIndex(e.tableIndex),gold:e.goldValue};this._isSending=!0,GG.socketMgr.SendMsg(NetType.s_doGrab,n),GG.socketMgr.registerLong(NetType.r_doGrab_return,this.net_grabReturn.bind(this))}},net_grabReturn:function(e){this._isSending=!1;var t=e.tip;if(t.code!=G_TYPE.serverCodeType.success){var i={tipIndex:19,retainTime:3,showStr:t.tip};return void GG.tipsMgr.showTxtTip(i)}if(t.code==G_TYPE.serverCodeType.matchNonExistent)return void GG.exitHome();var n=e.bet.gold,o=e.nbSelf.balance;this._setTouchTableData(n,o,e.nbSelf.usableBalance),GG.bull100Mgr.getBtnsComp().refreshCanChooseBtn(e.nbSelf.usableBalance)},_setTouchTableData:function(e,t,i){if(this._data_betting){var n=G_OBJ.data_bullBetting();for(var o in this._data_betting)o&&(n[o]=this._data_betting[o]);this._data_betting=null,n.goldValue=e,this._part_gold.addBettingGold(n.goldValue),this._part_gold.addGoldValueEX(n.goldValue),this.setGoldValue(t),this._part_gold.setUsableBalance(i),this._touchTableSuccess(n.tableIndex,n.goldNum),this._bettingTimes+=1,this._touchTableCallFunc&&(this._touchTableCallFunc(n),this._touchTableCallFunc=null)}},_touchTableSuccess:function(e,t){this._dict_betRecord||(this._dict_betRecord={}),this._dict_betRecord[e]?this._dict_betRecord[e]+=t:this._dict_betRecord[e]=t},getDealerPokerPos:function(){var e=.4,t=this.node.parent.position,i=cc.p(this.node.x-.5*this.node.width*this.node.scale*e+t.x,this.node.y-.5*this.node.height*this.node.scale+t.y);return i},_setHeadImg:function(e){G_TOOL.setHeadImg(this.node_headImg,e)},_setPlayerName:function(e){e||(e=""),e=G_TOOL.getNameLimit(e,10,!0),this.node_playerName.getComponent(cc.Label).string=e},_setRoomName:function(e){void 0===e&&(e=""),this.node_roomName&&e&&(this.node_roomName.getComponent(cc.Label).string=e)},showGoldValue:function(e){this._label_gold.string=G_TOOL.changeMoney(e)},showGoldChange:function(e){this._showGoldCount(e)},_showGoldCount:function(e){if(e){var t=cc.instantiate(this.prefab_goldResultEffect);t.parent=this.node,t.zIndex=2,t.getComponent(this._goldResultCompName).showGrabGold(e),t.scale=.1;var i,n;n=.3*this.node.width,i=this._isHandle?this.node.scale:this.node.parent.scale,this.node.x>cc.visibleRect.width/2&&(n*=-1);var o=this._goldResultFlyTime,s=cc.moveTo(o,n,.4*this.node.height),a=cc.scaleTo(o,1),l=cc.delayTime(2*o);t.runAction(cc.sequence(cc.spawn(s,a),l,cc.callFunc(this._labelMoveEnd,this,e)))}},_labelMoveEnd:function(e,t){e.destroy()},onDestroy:function(){}}),cc._RF.pop()},{}],Bull100_playerContainer:[function(e,t,i){"use strict";cc._RF.push(t,"6c7ea/tmxtDvIFMLUdtx57X","Bull100_playerContainer"),cc.Class({"extends":e("AutoDealing"),properties:{_dict_playerComp:null,_playerNum:null,node_playerContainer:{"default":null,type:cc.Node,displayName:"所有玩家容器"},node_btnGrabDealer:{"default":null,type:cc.Node,displayName:"抢庄按钮"},node_myself:{"default":null,type:cc.Node,displayName:"玩家自己"},node_dealer:{"default":null,type:cc.Node,displayName:"庄家"},prefab_player:{"default":null,type:cc.Prefab,displayName:"座位上的玩家"},comp_seatsContainer:{"default":null,type:e("Obj_seatsContainer"),displayName:"座位容器"}},onLoad:function(){this._dict_playerComp={},this._playerNum=0,this._playerCompName="Bull100_playerBlock",this._delaerWordCompName="Obj_dealerWordEffect",this.registerButton(this.node_btnGrabDealer,this.OnClick_grabDealer,this),this.getMyselfComp().setIsHandle(!0)},OnClick_grabDealer:function(e){GG.bull100Mgr.send_getDealerList()},setStartInfo:function(e,t,i){for(var n,o,s,a,l={},r=GG.getPlayer().getPlayerID(),c=e.length,_=0;_<c;_++)o=e[_],n=o.seatIndex,s=o.player,s.seatIndex=n,l[n]=s;for(var n in l){if(s=l[n],s&&s.playerId==r)for(var h in s)"seatIndex"==h&&0==s[h]||(t[h]=s[h]);n<1||(a=this._addOnePlayer(n),a&&(a.setPlayerData(s),s&&s.playerId==r&&this.getMyselfComp().bindSeatMyself(a)))}for(var u=this.comp_seatsContainer.getSeatsNum(),_=0;_<u;_++)n=_+1,l[n]||this._removeOnePlayer(n);var d=Boolean(r==i.playerId);if(t.isDealer=d,t.isDealer){for(var h in i)t[h]=i[h];this.setUpDealerBtnEnable(!1)}else this.setUpDealerBtnEnable(!0);t.playerId&&this.setOwnerInfo(t),this.setDealerInfo(i),d&&this.getMyselfComp().setGoldValue(t.coin),this.getMyselfComp().setIsDealer(d)},setOwnerInfo:function(e){this.getMyselfComp().setPlayerData(e),this.getMyselfComp().setHandleInfo(e)},setDealerInfo:function(e){var t={};for(var i in e)t[i]=e[i];t.coin=e.usableBalance,this.getDealerComp().setPlayerData(t)},onePlayerInsert:function(e,t){var i=/^\+?[1-9][0-9]*$/;if(i.test(e)){t.seatIndex=e,this._hidePlayer(e,t.playerId);var n=this._addOnePlayer(e);n&&n.setPlayerData(t)}},_hidePlayer:function(e,t){var i;for(var n in this._dict_playerComp)i=this._dict_playerComp[n],n==e||i&&i.getPlayerID()==t&&this._removeOnePlayer(n)},_addOnePlayer:function(e){var t=this._dict_playerComp[e];if(t)this.comp_seatsContainer.addOnePlayer(e);else{var i=cc.instantiate(this.prefab_player);i.parent=this.node_playerContainer;var n=this.comp_seatsContainer.addOnePlayer(e);n=G_TOOL.adaptPos(n);var o=G_TOOL.adaptSize(i.width,i.height);i.width=o.width,i.height=o.height,i.position=n,t=i.getComponent(this._playerCompName),this._dict_playerComp[e]=t}return this._playerNum+=1,t},_removeOnePlayer:function(e){var t=this._dict_playerComp[e];t&&t.getIsShow()&&(t.hidePlayer(),this.comp_seatsContainer.onePlayerLeave(e),this._playerNum-=1)},showGoldChangeEffect:function(){var e;for(var t in this._dict_playerComp)e=this._dict_playerComp[t],e&&e.showGoldChange();this.getMyselfComp().showGoldChange()},flyWinGold:function(e){var t,i=!1,n=this.getMyselfComp();if(t=n.getBetRecord()){var o=this._getWinGoldDict(e,t);this._moveGold(o,n.getWorldPos())}var s;for(var a in this._dict_playerComp)if(s=this._dict_playerComp[a],s.getPlayerID()!=GG.getPlayerID()&&s&&s.getIsShow()&&(t=s.getBetRecord())){i=!0;var o=this._getWinGoldDict(e,t);this._moveGold(o,s.getWorldPos())}if(t=GG.bull100Mgr.getIdleBetting()){i=!0;var o=this._getWinGoldDict(e,t);this._moveGold(o,GG.bull100Mgr.getIdleBettingPos())}var l=this.getGoldContainer(),r=l.recoverAllGold(this.getDealerComp().getWorldPos());r&&(i=!0),i&&GG.audioMgr.playSound(18)},_getWinGoldDict:function(e,t){var i,n={};for(var o in e)i=e[o],i&&t[o]&&(n[o]=t[o]);return n},_moveGold:function(e,t){var i,n=this.getGoldContainer();for(var o in e){i=e[o];var s=G_OBJ.data_flyGold_tableToPlayer();s.tableIndex=o,s.goldNum=i,s.targetPos=t,n.tableToPlayer(s)}},setMyselfIsShow:function(e){this.node_myself.active=e},setUpDealerBtnEnable:function(e){this.setBtnEnable(this.node_btnGrabDealer,e)},getDealerPokerPos:function(){return this.getDealerComp().getDealerPokerPos()},getMyselfComp:function(){return this.node_myself.getComponent(this._playerCompName)},getMyselfEffectComp:function(){var e,t=this.getMyselfComp(),i=t.node.getChildByName("bankerMark");return i&&(e=i.getComponent(this._delaerWordCompName)),e},getMyselfPos:function(){return this.node_myself.position},getDealerComp:function(){return this.node_dealer.getComponent(this._playerCompName)},getDealerWordEffectComp:function(){var e,t=this.getDealerComp(),i=t.node.getChildByName("bankerMark");return i&&(e=i.getComponent(this._delaerWordCompName)),e},getPlayerComp:function(e){return this._dict_playerComp[e]},getGoldContainer:function(){return GG.bull100Mgr.getGoldContainer()},clearAll:function(){for(var e in this._dict_playerComp)this._removeOnePlayer(e)}}),cc._RF.pop()},{AutoDealing:"AutoDealing",Obj_seatsContainer:"Obj_seatsContainer"}],Bull100_pokerContainer:[function(e,t,i){"use strict";cc._RF.push(t,"36070K0trNCHKLbIVOexRNn","Bull100_pokerContainer"),cc.Class({"extends":cc.Component,properties:{_pool:null,_startPos:null,_pokerNum:null,_dict_pokerGroup:null,_pokerSize:null,_coverPokerCallFunc:null,_dict_winList:null,_list_pokerResultValue:null,_list_pokerPos:null,_maxPokerNum:null,_list_hidePokers:null,prefab_poker:cc.Prefab},onLoad:function(){this._pokerCompName="Obj_poker",this._list_hidePokers=[],this._pokerNum=0,this._offPokerX=20,this._offGiveTime=.08,this._offGroupTime=.3,this._pokerMoveTime=.8,this._groupPokerNum=5,this._pokerMoveTime2=.2,this._pokerScale=1,this._openInterval=.6},giveCoverPokers:function(e,t,i){this._coverPokerCallFunc=t,this._maxPokerNum=e.length*this._groupPokerNum,this._clearPokers(),this._pokerData=null,e&&(this._list_pokerPos=e,this._pokerData=this._list_pokerPos.concat([])),i?this._showPokerGroup():this._givePokerGroup()},_showPokerGroup:function(){for(var e,t,i,n=this._pokerData.length,o=n-1;o>=0;o--){e=this._pokerData[o];for(var s=0;s<this._groupPokerNum;s++)t=this._getOnePoker(),t&&(i=this._pokerNum%this._groupPokerNum,t.position=cc.p(e.x+this._offPokerX*i,e.y-this._pokerOffY),this._dict_pokerGroup[this._getGroupNum()]||(this._dict_pokerGroup[this._getGroupNum()]=[]),this._dict_pokerGroup[this._getGroupNum()].push(t),this._pokerNum+=1)}this._coverPokerCallFunc&&(this._coverPokerCallFunc(),this._coverPokerCallFunc=null)},_givePokerGroup:function(){if(!this._pokerData||this._pokerData.length<1)return void(this._coverPokerCallFunc&&(this._coverPokerCallFunc(),this._coverPokerCallFunc=null));this._flyNum=5,this._dict_pokerGroup[this._getGroupNum()]=[];for(var e=this._pokerData.pop(),t=0;t<this._groupPokerNum;t++)this._flyOnePoker(e);GG.audioMgr.playSound(14)},_flyOnePoker:function(e){var t=this._getOnePoker();if(e&&t){var i=this._pokerNum%this._groupPokerNum,n=cc.delayTime(this._offGiveTime*i),o=cc.p(e.x,e.y-this._pokerOffY),s=cc.moveTo(G_TOOL.getUniformTime(t.position,o,this._pokerMoveTime),o);t.stopAllActions(),t.runAction(cc.sequence(n,s,cc.callFunc(this._onePokerFlyEnd,this))),this._dict_pokerGroup[this._getGroupNum()].push(t),this._pokerNum+=1}},_onePokerFlyEnd:function(e){if(this._flyNum-=1,this._flyNum<1){this._sortPokerOff();var t=cc.delayTime(this._offGroupTime);this.node.runAction(cc.sequence(t,cc.callFunc(this._givePokerGroup,this)))}},_sortPokerOff:function(){for(var e,t=this._dict_pokerGroup[this._getGroupNum()-1],i=t.length,n=0;n<i;n++)e=t[n],e&&(e.stopAllActions(),e.runAction(cc.moveBy(this._pokerMoveTime2,this._offPokerX*n,0)))},setPokersData:function(e,t){this._list_pokerResultValue=t;for(var i,n,o,s=this._getGroupNum(),a=0;a<s;a++)if(i=e[a],o=this._dict_pokerGroup[a],i)for(var l=0;l<i.length;l++)n=i[l],this._setOnePokerInfo(o[l],n.pokerIndex,n.isOpen)},_setOnePokerInfo:function(e,t,i){var n=G_DATA.getPokerInfo(t),o=e.getComponent(this._pokerCompName);o.setPokerInfo(n.pokerType,n.pokerValue,i)},openPokers:function(e){this._dict_winList=e,this._openGroupIndex=0,this._openOneGroup()},_openOneGroup:function(){if(!(this._pokerNum<1)){var e=this._dict_pokerGroup[this._openGroupIndex];if(e){for(var t,i=this._openCallBack.bind(this),n=0;n<e.length;n++)t=e[n].getComponent(this._pokerCompName),t.openPoker(i),i=null;this._openGroupIndex+=1,GG.audioMgr.playSound(16)}}},_openCallBack:function(){if(this._openGroupIndex>1&&this._dict_winList){var e=this._openGroupIndex-2,t=GG.bull100Mgr.getMinTableIndex(e),i=GG.bull100Mgr.getBigTableIndex(e),n=this._dict_winList[i]?i:t;GG.bull100Mgr.showTableWin(n,this._dict_winList[n])}var o=this._list_pokerResultValue[this._openGroupIndex-1],s=this._list_pokerPos[this._list_pokerPos.length-this._openGroupIndex];GG.bull100Mgr.showPokerResult(cc.p(s.x+.5*this._pokerSize.width,s.y-.5*+this._pokerSize.height),o);var a=0==o?11:o;GG.audioMgr.playSound(a),this._openOneGroup()},_getOnePoker:function(){if(!this.prefab_poker)return null;var e=this._list_hidePokers.pop();return e||(e=cc.instantiate(this.prefab_poker),this._pokerSize||(this._pokerSize=e.getComponent(this._pokerCompName).getPokerSize(),this._pokerOffY=this._pokerSize.height*this._pokerScale*.5),e.parent=this.node,e.scale=this._pokerScale),e.stopAllActions(),e.active=!0,e.position=this._getStartPos(),e.getComponent(this._pokerCompName).showPokerNegative(),e},_removePoker:function(e){e.getComponent(this._pokerCompName).clearAllActions(),e.getComponent(this._pokerCompName).showPokerNegative(),e.active=!1,this._list_hidePokers.push(e)},_deletePokers:function(){},_clearPokers:function(){this._pokerNum=0,this._dict_pokerGroup={};var e=this.node.children;this._list_hidePokers=[];for(var t,i=e.length,n=i-1;n>=0;n--)t=e[n].getComponent(this._pokerCompName),t&&this._removePoker(e[n])},_getStartPos:function(){return this._startPos||(this._startPos=G_DATA.getBottomTipPos()),this._startPos},_getGroupNum:function(){return Math.floor(this._pokerNum/this._groupPokerNum)},getIsGivePokerEnd:function(){return!Boolean(this._coverPokerCallFunc)},clearAll:function(){this._clearPokers(),this._dict_winList=null,this.node.stopAllActions()},onDestroy:function(){this._deletePokers(),this._pool&&this._pool.clear()}}),cc._RF.pop()},{}],Bull100_pokerResultContainer:[function(e,t,i){"use strict";cc._RF.push(t,"4c19f4ThPlPK6/llGibgPGc","Bull100_pokerResultContainer"),cc.Class({"extends":cc.Component,properties:{prefab_pokerResult:{"default":null,type:cc.Prefab,displayName:"卡牌结果"}},onLoad:function(){this._pokerResultCompName="Obj_onPokerResult"},showPokerResult:function(e,t){this._list_pokerResult||(this._list_pokerResult=[]);for(var i,n,o,s=0;s<this._list_pokerResult.length;s++)if(i=this._list_pokerResult[s],i&&!i.getIsShow()){o=i;break}o||(n=cc.instantiate(this.prefab_pokerResult),n.parent=this.node,o=n.getComponent(this._pokerResultCompName),this._list_pokerResult.push(o)),o.showResult(e,t,!0)},_clearPokerResult:function(){if(this._list_pokerResult)for(var e=0;e<this._list_pokerResult.length;e++)this._list_pokerResult[e].hideOnPokerResult()},clearAll:function(){this._clearPokerResult()}}),cc._RF.pop()},{}],Bull100_showResult:[function(e,t,i){"use strict";cc._RF.push(t,"420eb+YEfVKo5P4BV/wWN52","Bull100_showResult"),cc.Class({"extends":cc.Component,properties:{_list_rankHead:null,_winColor:null,_loseColor:null,node_myWinGold:{"default":null,type:cc.Node,displayName:"自己赢的钱"},prefab_head:{"default":null,type:cc.Prefab,displayName:"头像"},node_container:{"default":null,type:cc.Node,displayName:"头像容器"}},onLoad:function(){this._headCompName="Obj_winRankHead",this._loseColor=new cc.Color(199,199,199)},showResult:function(e){this.node.active=!0;var t=e.myChangeGold;t||(t=0),this._setGoldValue(t);var i=[{name:"人1",addGold:99}],n=e.othersInfo;if(n){i=[];var o;for(var s in n){o=n[s];var a=o.changeGold;a>0&&i.push({name:o.name,addGold:a,icon:o.icon})}}this._showRank(i)},_showRank:function(e){for(var t,i,n=this.node_container.children,o=(n.length,0);o<n.length;o++)t=n[o].getComponent(this._headCompName),t&&(i=e[o],i?(t.setIsShow(!0),t.setData(i)):t.setIsShow(!1))},_setGoldValue:function(e){var t=Boolean(e>0);this._setMyGoldColor(t);var i;i=t?"+"+e:e+"",this.node_myWinGold.getComponent(cc.Label).string=i},_setIsShow:function(e){this.node.active=e},_setMyGoldColor:function(e){e?this._winColor&&(this.node_myWinGold.color=this._winColor,this._winColor=null):(this._winColor||(this._winColor=this.node_myWinGold.color),this.node_myWinGold.color=this._loseColor)}}),cc._RF.pop()},{}],Bull100_tableContainer:[function(e,t,i){"use strict";cc._RF.push(t,"29ed5kqelRJQ6wjhrsG5Xlr","Bull100_tableContainer"),cc.Class({"extends":cc.Component,properties:{prefab_table:cc.Prefab},onLoad:function(){this._tableCompName="Bull100_table"},_addTables:function(){for(var e=4,t=0;t<e;t++){var i=cc.instantiate(this.prefab_table);i&&(i.parent=this.node)}},initAllTables:function(){for(var e,t,i=this.node.children,n=0;n<i.length;n++)e=i[n],t=e.getComponent(this._tableCompName),t&&t.initTable(n)},getTablePokerPos:function(){for(var e,t,i=this.node.children,n=[],o=i.length-1;o>=0;o--)e=i[o],t=e.getComponent(this._tableCompName),t&&n.push(t.getPokerPos());return n},setTableTouchEnable:function(e){for(var t,i,n=this.node.children,o=0;o<n.length;o++)t=n[o],i=t.getComponent(this._tableCompName),i&&i.setTouchEnable(e)},showTableWin:function(e,t){var i=this.node.children,n=GG.bull100Mgr.getTableContainerIndex(e),o=i[n];if(o){var s=o.getComponent(this._tableCompName);s&&s.showWin(e,t)}},getGoldPosList:function(e,t){var i=this.node.children,n=GG.bull100Mgr.getTableContainerIndex(e),o=i[n];return o?o.getComponent(this._tableCompName).getGoldPosList(e,t):null},setBettingSuccess:function(e,t,i){var n=this.node.children,o=GG.bull100Mgr.getTableContainerIndex(e),s=n[o];s&&(i?s.getComponent(this._tableCompName).setMyselfBettingSuccess(e,t):s.getComponent(this._tableCompName).setBettingSuccess(e,t))}}),cc._RF.pop()},{}],Bull100_table:[function(e,t,i){"use strict";cc._RF.push(t,"67349AfexdLn4EN0FD/POqC","Bull100_table"),cc.Class({"extends":cc.Component,properties:{_typeValue:null,_pool:null,_bigTableIndex:null,_minTableIndex:null,_bigCenterPos:null,_minCenterPos:null,_winTableType:null,_bigGoldNum:null,_minGoldNum:null,_bigMyGoldNum:null,_minMyGoldNum:null,node_big:cc.Node,node_min:cc.Node,frame_bigLight:cc.SpriteFrame,frame_minLight:cc.SpriteFrame,node_bigUpLabel:{"default":null,type:cc.Node,displayName:"押大总额节点"},node_bigDownLabel:{"default":null,type:cc.Node,displayName:"自己押大节点"},node_minUpLabel:{"default":null,type:cc.Node,displayName:"押小总额节点"},node_minDownLabel:{"default":null,type:cc.Node,displayName:"自己押小节点"},node_winFrame:{"default":null,type:cc.Node,displayName:"胜利特效框"},label_leftUp:{"default":null,type:cc.Label,displayName:"所有玩家押大金币总额"},label_rightUp:{"default":null,type:cc.Label,displayName:"所有玩家押小金币总额"}},onLoad:function(){this._scrollCompName="Obj_scrollValue",this._pokerOffX=.4,this._winColor=this.node_bigDownLabel.children[1].color,this._lostColor=new cc.Color(189,188,188)},initTable:function(e){this._setTableIndex(e),this._setBigMultiple(0),this._setMinMultiple(0),this._setBigDownGold(0),this._setBigUpGold(0),this._setMinDownGold(0),this._setMinUpGold(0),this.resetWinShow()},onClick_big:function(){var e=GG.bull100Mgr,t=e.getMyselfFlyGoldNum();e.touchTable(this._bigTableIndex,this._getBigGoldPos(t))},onClick_min:function(){var e=(GG.bull100Mgr,GG.bull100Mgr.getMyselfFlyGoldNum());GG.bull100Mgr.touchTable(this._minTableIndex,this._getMinGoldPos(e))},setBettingSuccess:function(e,t){e%2==0?(this._bigGoldNum+=t,this._setBigUpGold(this._bigGoldNum)):(this._minGoldNum+=t,this._setMinUpGold(this._minGoldNum))},setMyselfBettingSuccess:function(e,t){e%2==0?(this._bigMyGoldNum+=t,this._setBigDownGold(this._bigMyGoldNum)):(this._minMyGoldNum+=t,this._setMinDownGold(this._minMyGoldNum)),this.setBettingSuccess(e,t)},showWin:function(e,t){var i=null,n=null;if(t||(t=1),this._firstBigImg||(this._firstBigImg=this.node_big.getComponent(cc.Sprite).spriteFrame),this._firstMinImg||(this._firstMinImg=this.node_min.getComponent(cc.Sprite).spriteFrame),this.node_winFrame.active=!0,e%2==0?(this._winTableType=G_TYPE.tableType.big,this.node_big.getComponent(cc.Sprite).spriteFrame=this.frame_bigLight,this.node_winFrame.x=this.node_big.parent.x,this._bigMyGoldNum>0&&(this._setBigMultiple(t),i=this.node_bigDownLabel.children[1].getComponent(cc.Label),n=this._bigMyGoldNum),this._minMyGoldNum>0&&(this._setMinMultiple(t),this._setMinDownGold(this._minMyGoldNum*t,!0),this.node_minDownLabel.children[0].color=this._lostColor,this.node_minDownLabel.children[1].color=this._lostColor)):(this._winTableType=G_TYPE.tableType.min,this.node_min.getComponent(cc.Sprite).spriteFrame=this.frame_minLight,this.node_winFrame.x=this.node_min.parent.x,this._minMyGoldNum>0&&(this._setMinMultiple(t),i=this.node_minDownLabel.children[1].getComponent(cc.Label),n=this._minMyGoldNum),this._bigMyGoldNum>0&&(this._setBigMultiple(t),this._setBigDownGold(this._bigMyGoldNum*t,!0),this.node_bigDownLabel.children[0].color=this._lostColor,this.node_bigDownLabel.children[1].color=this._lostColor)),i){var o={startNum:0,targetNum:n*t,label:i,formatStr:"",callFunc:this._scrollCall.bind(this)};this.node.getComponent(this._scrollCompName).scrollLabel(o)}},_scrollCall:function(){},resetWinShow:function(){switch(this.node_winFrame.active=!1,this._winTableType){case G_TYPE.tableType.big:this.node_big.getComponent(cc.Sprite).spriteFrame=this._firstBigImg,this.node_minDownLabel.children[0].color=this._winColor,this.node_minDownLabel.children[1].color=this._winColor;break;case G_TYPE.tableType.min:this.node_min.getComponent(cc.Sprite).spriteFrame=this._firstMinImg,this.node_bigDownLabel.children[0].color=this._winColor,this.node_bigDownLabel.children[1].color=this._winColor}},setTouchEnable:function(e){var t=this.node_big.parent,i=this.node_min.parent;e?(t.on(cc.Node.EventType.TOUCH_START,this.onClick_big,this),i.on(cc.Node.EventType.TOUCH_START,this.onClick_min,this)):(t.off(cc.Node.EventType.TOUCH_START,this.onClick_big,this),i.off(cc.Node.EventType.TOUCH_START,this.onClick_min,this))},getGoldPosList:function(e,t){var i;return i=e%2==0?this._getBigGoldPos(t):this._getMinGoldPos(t)},_getBigGoldPos:function(e){e||(e=1);for(var t,i=[],n=0;n<e;n++)t=this._initGoldPos(),t.x+=this._bigCenterPos.x,t.y+=this._bigCenterPos.y,i.push(t);return i},_getMinGoldPos:function(e){e||(e=1);for(var t,i=[],n=0;n<e;n++)t=this._initGoldPos(),t.x+=this._minCenterPos.x,t.y+=this._minCenterPos.y,i.push(t);return i},_initGoldPos:function(){var e=this.node.parent.scale,t=this.node_big.parent;if(!this._bigCenterPos){var i=this.node.parent.position,n=this.node.parent.parent.position,o=this.node_min.parent;this._bigCenterPos=cc.p(i.x+(this.node.x+t.x)*e+n.x,i.y+(this.node.y+t.y)*e+n.y),this._minCenterPos=cc.p(i.x+(this.node.x+o.x)*e+n.x,i.y+(this.node.y+o.y)*e+n.y),this._goldHeight=(.5*t.height-this.node_bigDownLabel.height)*e}var s,a=.5*this._getGoldSize().width*.5,l=.5*t.width*e-a,r=G_TOOL.getRandomArea(0,l);s=G_TOOL.getRandomBool()?1:-1,r*=s;var c=this._goldHeight-a,_=G_TOOL.getRandomArea(0,c);return s=G_TOOL.getRandomBool()?1:-1,_*=s,cc.p(r,_)},_setBigUpGold:function(e){if(e){this.node_bigUpLabel.active=!0;var t=this.label_leftUp;
t&&(t.string=G_TOOL.changeMoney(e))}else this._bigGoldNum=0,this.node_bigUpLabel.active=!1,this.label_leftUp.string=""},_setMinUpGold:function(e){if(e){this.node_minUpLabel.active=!0;var t=this.label_rightUp;t&&(t.string=G_TOOL.changeMoney(e))}else this._minGoldNum=0,this.node_minUpLabel.active=!1,this.label_rightUp.string=""},_setBigDownGold:function(e,t){if(e){this.node_bigDownLabel.active=!0;var i,n=this.node_bigDownLabel.children[1];n&&(i=G_TOOL.changeMoney(e)),t&&(i="-"+i),n.getComponent(cc.Label).string=i}else this._bigMyGoldNum=0,this.node_bigDownLabel.active=!1},_setBigMultiple:function(e){var t=this.node_bigDownLabel.children[0];if(t){var i="",n=this.node_bigDownLabel.children[1];e?(i="X"+e,this._changeDownLabel(n,!0)):this._changeDownLabel(n,!1),t.getComponent(cc.Label).string=i}},_setMinDownGold:function(e,t){if(e){this.node_minDownLabel.active=!0;var i,n=this.node_minDownLabel.children[1];n&&(i=G_TOOL.changeMoney(e)),t&&(i="-"+i),n.getComponent(cc.Label).string=i}else this._minMyGoldNum=0,this.node_minDownLabel.active=!1},_setMinMultiple:function(e){var t=this.node_minDownLabel.children[0];if(t){var i="",n=this.node_minDownLabel.children[1];e?(i="X"+e,this._changeDownLabel(n,!0)):this._changeDownLabel(n,!1),t.getComponent(cc.Label).string=i}},_changeDownLabel:function(e,t){t?(e.anchorX=1,e.x=.43*e.parent.width):(e.anchorX=.5,e.x=0)},_setTableIndex:function(e){this._bigTableIndex=GG.bull100Mgr.getBigTableIndex(e),this._minTableIndex=GG.bull100Mgr.getMinTableIndex(e)},getPokerPos:function(){var e=this.node.parent.position,t=this.node.parent.scale,i=this.node.position,n=e.x+i.x*t-.5*this.node.width*t*this._pokerOffX,o=e.y+i.y*t-.55*this.node.height*t,s=this.node.parent.parent.position;return cc.p(n+s.x,o+s.y)},_getParentPos:function(){var e=this.node.parent.position,t=this.node.parent.scale;return cc.p(e.x*t,e.y*t)},_getGoldSize:function(){return this._goldSize||(this._goldSize=GG.bull100Mgr.getGoldImgSize()),this._goldSize}}),cc._RF.pop()},{}],Bull100_topEffect:[function(e,t,i){"use strict";cc._RF.push(t,"6fe37k7FJBF1p4TXNOChhYN","Bull100_topEffect"),cc.Class({"extends":cc.Component,properties:{_bettingCallFunc:null,_startCallFunc:null,_resultData:null,prefab_start:{"default":null,type:cc.Prefab,displayName:"开始游戏动画"},prefab_betting:{"default":null,type:cc.Prefab,displayName:"开始投注动画"},prefab_win:{"default":null,type:cc.Prefab,displayName:"胜利动画"},prefab_lose:{"default":null,type:cc.Prefab,displayName:"失败动画"},prefab_showResult:{"default":null,type:cc.Prefab,displayName:"结果显示容器"},node_grayLayer:{"default":null,type:cc.Node,displayName:"灰色层"}},onLoad:function(){this._winAniName="platform_win",this._loseAniName="platform_lose",this._resultCompName="Bull100_showResult",this._pokerResultCompName="Obj_onPokerResult"},playStartGameAni:function(e){this.playStartAni("grab_start",e),GG.audioMgr.playSound(13)},playStartAni:function(e,t){if(e||(e=""),this._startCallFunc=t,!this._startAni){this._startAni=cc.instantiate(this.prefab_start),this._startAni.parent=this.node;var i=this._startAni.getComponent(dragonBones.ArmatureDisplay);i.addEventListener(dragonBones.EventObject.COMPLETE,this._startAniEnd,this)}this._startAni.position=this._getStartAniPos(),this._startAni.active=!0,this._startAni.getComponent(dragonBones.ArmatureDisplay).playAnimation(e,1)},_startAniEnd:function(e){this._startAni&&(this._startAni.active=!1),this._startCallFunc&&(this._startCallFunc(),this._startCallFunc=null)},_frameEvent:function(e){GG.bull100Mgr.shakeGame()},clearStartAni:function(){this._startAni&&(this._startAni.active=!1),this._startCallFunc=null},playStartBettingAni:function(e){this.playBettingAni("platform_bet",e)},playBettingEnd:function(e){this.playBettingAni("platform_betOver",e)},playBettingAni:function(e,t){if(e||(e=""),this._bettingCallFunc=t,!this._bettingAni){this._bettingAni=cc.instantiate(this.prefab_betting),this._bettingAni.parent=this.node;var i=this._bettingAni.getComponent(dragonBones.ArmatureDisplay);i.addEventListener(dragonBones.EventObject.COMPLETE,this._bettingAniEnd,this)}this._bettingAni.position=this._getStartAniPos(),this._bettingAni.active=!0,this._bettingAni.getComponent(dragonBones.ArmatureDisplay).playAnimation(e,1)},_bettingAniEnd:function(e){this._bettingAni&&(this._bettingAni.active=!1),this._bettingCallFunc&&(this._bettingCallFunc(),this._bettingCallFunc=null)},clearBettingAni:function(){this._bettingAni&&(this._bettingAni.active=!1),this._bettingCallFunc=null},_getStartAniPos:function(){var e=cc.visibleRect;return cc.p(e.width/2,.6*e.height)},showResultEffect:function(e,t){void 0!=e.myChangeGold?(this.setGrayIsShow(!0),e.myChangeGold>0?this._playWin(e,t):this._playLose(e,t)):t&&(t(),t=null)},_playWin:function(e,t){if(this._resultData=e,this._winCallFunc=t,!this._winAni){this._winAni=cc.instantiate(this.prefab_win),this._winAni.parent=this.node;var i=this._winAni.getComponent(dragonBones.ArmatureDisplay);i.addEventListener(dragonBones.EventObject.COMPLETE,this._winEnd,this)}this._winAni.position=this._getResultAniPos(),this._winAni.active=!0,this._winAni.getComponent(dragonBones.ArmatureDisplay).playAnimation(this._winAniName,1),GG.audioMgr.playSound(22)},_winEnd:function(){this._getResultComp().showResult(this._resultData),this._winAni.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this._winAni.active=!1,this._getResultComp()._setIsShow(!1),this.setGrayIsShow(!1),this._winCallFunc&&(this._winCallFunc(),this._winCallFunc=null)},this)))},_clearWin:function(){this._winAni&&(this._getResultComp()._setIsShow(!1),this._winAni.stopAllActions(),this._winAni.active=!1,this._winCallFunc=null)},_playLose:function(e,t){if(this._resultData=e,this._loseCallFunc=t,!this._loseAni){this._loseAni=cc.instantiate(this.prefab_lose),this._loseAni.parent=this.node;var i=this._loseAni.getComponent(dragonBones.ArmatureDisplay);i.addEventListener(dragonBones.EventObject.COMPLETE,this._loseEnd,this)}this._loseAni.position=this._getResultAniPos(),this._loseAni.active=!0,this._loseAni.getComponent(dragonBones.ArmatureDisplay).playAnimation(this._loseAniName,1),GG.audioMgr.playSound(21)},_loseEnd:function(){this._getResultComp().showResult(this._resultData),this._loseAni.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this._loseAni.active=!1,this._getResultComp()._setIsShow(!1),this.setGrayIsShow(!1),this._loseCallFunc&&(this._loseCallFunc(),this._loseCallFunc=null)},this)))},_getResultComp:function(){if(!this._resultComp){var e=cc.instantiate(this.prefab_showResult);this.node.addChild(e,5),this._winAni&&(e.position=this._winAni.position),this._loseAni&&(e.position=this._loseAni.position),this._resultComp=e.getComponent(this._resultCompName)}return this._resultComp},_clearLose:function(){this._loseAni&&(this._getResultComp()._setIsShow(!1),this._loseAni.stopAllActions(),this._loseAni.active=!1,this._loseCallFunc=null)},_getResultAniPos:function(){var e=cc.visibleRect;return cc.p(e.width/2,.8*e.height)},setGrayIsShow:function(e){this.node_grayLayer&&(this.node_grayLayer.active=e)},getGrayLayer:function(){return this.node_grayLayer},clearAll:function(){this.clearBettingAni(),this.clearStartAni(),this._clearWin(),this._clearLose(),this.setGrayIsShow(!1)}}),cc._RF.pop()},{}],Config_bull100:[function(e,t,i){"use strict";cc._RF.push(t,"95222qkqtxKS6CJbdacFDND","Config_bull100");var n={dict_betGoldNum:{1:1,2:1,3:3,4:3,5:5},dealerSliderInterval:1e4};window.G_Config_bull100=n,cc._RF.pop()},{}],Config_chinese:[function(e,t,i){"use strict";cc._RF.push(t,"9616fPzp/pPkaXn+SquUBhT","Config_chinese");var n={dealerGoldText1:"上庄最低金额为",dealerGoldText2:"金钱不足,上庄至少需要",dealerGoldText3:"您已是当前庄家！",dealerGoldText4:"您目前上庄排序：第%s位！",exitText1:"当前游戏未结束，退出由系统代打?",exitText2:"你确定要退出游戏？",exitText3:"您已做庄,强制下庄系统则继续帮您打完本局!",dealerSuccess:"上庄成功!!!",continueDealerSuccess:"续庄成功!",giveUpDealer1:"您已从上庄列表退出竞庄",giveUpDealer2:"您已在庄,下庄系统将帮您打完本局?",downSuccess:"您已经成功下庄!",continueDealer:"此局结束后您将面临下庄危险，是否需要续庄！最低续庄金额为%s",limitBetting:"本桌限投%s次",bettingTimes:"当前投注次数: %s",isDealerTip:"请等待玩家投注(%s)",intoRoomLimit1:"您有未完成的牌局，请等待牌局结束！",exchangePageLeft:["今天数据","昨天数据","前天数据"],upDealerSuccess:"恭喜您，成为本局庄家!",downDealerWarning:"友情提示: 您的上庄资金不足80%，请及时续庄！",downDealerSuccess:"您已下庄!",noMyself:"没有玩家数据",inToRoomLimit:"≥ ",noRecord:"本周暂无数据",upperLimit:"9999兆",winMatch:"胜",loseMatch:"负",notInvolvedMatch:"未参与",turnOut:"转出",recharge:"充值",dealer:"当庄"};window.G_CHINESE=n,cc._RF.pop()},{}],Config_classic:[function(e,t,i){"use strict";cc._RF.push(t,"d5efdlRiO5OtrWl+DQwQ2Ov","Config_classic");var n={};window.G_Config_classic=n,cc._RF.pop()},{}],Config_common:[function(e,t,i){"use strict";cc._RF.push(t,"b26deKEmoBAK7r3zwyki638","Config_common");var n={version:"1.0.1",isLocal:!1,frameScale:.5,bottomTipPos:cc.p(.5*cc.visibleRect.width,.1*cc.visibleRect.height),time_tipDefault:3,num_maxNameLen:10,scale_moveGold:.5,showTrendItems:5,connectTimeOut:3,defaultVolume:1,notice_speed:240,notice_showTime:4,nativeHref:"http://192.168.0.100/player/"};window.G_Config_common=n,cc._RF.pop()},{}],Config_dialogUrl:[function(e,t,i){"use strict";cc._RF.push(t,"852465MKD5NP7E8Dfu10X+Z","Config_dialogUrl");var n={loginTokenUrl:"user/token.html",loginToSetUrl:"user/voiceSet.html",getSystemSetUrl:"game/playerSysSet.html",saveSystemSetUrl:"game/playerSysSetSave.html",timedRefreshUrl:"user/alive.html",logout:"passport/logout.html",login:"passport/login.html",personalInfoUrl:"game/playerInfo.html",playerTreasuresUrl:"game/statistics/treasures.html",playerProfitUrl:"game/statistics/profits.html",gameRoomListUrl:"game/rooms.html",announcementUrl:"",rulesUrl:"",recordUrl:"game/statistics/user/records.html",accountUrl:"playerRecharge/playerAccountRecord.html",trendUrl:"game/chart/inning.html",playerListUrl:"game/bull100/playerList.html"};window.G_DIALOG_URL=n,cc._RF.pop()},{}],Config_grab:[function(e,t,i){"use strict";cc._RF.push(t,"0512eKgI7FPO4yvK6/Ay6rT","Config_grab");var n={num_otherGrabGoldNum:2,time_grabWillEnd:2,num_winPokerOff:15,time_goldFlyOnHead:1.5};window.G_Config_grab=n,cc._RF.pop()},{}],Config_resourceUrl:[function(e,t,i){"use strict";cc._RF.push(t,"23f282iOddN5KHJaiCrIFod","Config_resourceUrl");var n={atlas_multipleImgName:{0:"comm_text_dont",imgName:"comm_text_"},atlas_pokerResult:{resultImgName:"comm_text_list_according_",noResult:"comm_text_list_according_no",dont:"comm_text_list_according_ok"},atlas_chooseMultipleName:{dealer_0:"Scene_Classic_buqaing02",dealer_1:"Scene_Classic_qz_1",dealer_2:"Scene_Classic_qz_2",dealer_3:"Scene_Classic_qz_3",dealer_4:"Scene_Classic_qz_4",score_5:"Scene_Classic_x5",score_10:"Scene_Classic_x10",score_15:"Scene_Classic_x15",score_25:"Scene_Classic_x25"},ani_getDealerName:{horizontal:"GetDealer01",vertical:"GetDealer02"},ani_getGoldOnHeadName:{horizontal:"GoldOnHead_horizontal",vertical:"GoldOnHead_vertical"},boneAni:{loading:"BoneAni_loading",matching:"BoneAni_loading_dating"},pokerType:{blockMin:"common_card_f_02",blockMax:"common_card_f_01",blackHeartMin:"common_card_h_02",blackHeartMax:"common_card_h_01",redHeartMin:"common_card_hong_02",redHeartMax:"common_card_hong_01",flowerMin:"common_card_mei_02",flowerMax:"common_card_mei_01",value_J:"common_card_J",value_Q:"common_card_Q",value_K:"common_card_k"},dict_tablesName:{platformConfig:"",commonConfig:"CommonConfig",commonLoading:"Common_loadingTips",chinese:"Chinese",grabConfig:"Grab_mainConfig",audioName:"Enum_audioName"},uiName:cc.Enum({account:"Prefab_dialog_account",announcement:"Prefab_dialog_announcement",dealerList:"Prefab_dialog_dealerList",playerList:"Prefab_dialog_playerList",record:"Prefab_dialog_record",rules:"Prefab_dialog_rules",rulesInHome:"Prefab_dialog_rulesInHome",systemSet:"Prefab_dialog_set",bull100Trend:"Prefab_dialog_bull100Trend",grabTrend:"Prefab_dialog_grabTrend"}),audioUrl:"resources/Sounds/%s.mp3"};window.G_RES_URL=n,cc._RF.pop()},{}],GameData:[function(e,t,i){"use strict";cc._RF.push(t,"bc6ad5lIgpKkqG/gsjUbiiI","GameData");var n={_curHash:null,getChinese:function(e){var t=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.chinese);return t?t.getDataByID(e):null},getBottomTipPos:function(){var e=cc.view.getDesignResolutionSize();return cc.p(.5*e.width,.17*e.height)},getTopTipPos:function(){var e=cc.view.getDesignResolutionSize();return cc.p(.5*e.width,.8*e.height)},getCenterTipPos:function(){var e=cc.view.getDesignResolutionSize();return cc.p(.5*e.width,.55*e.height)},getPokerInfo:function(e){return this.pokerValue=(e>>2)+1,this.pokerType=4-(3&e),this},getResNetRoot:function(e){if(G_Config_common.isLocal){var t=this.getLocalHref(),i=t.lastIndexOf(":");return t=t.substring(0,i+5),t+="/static/",t+e}return resRoot+"/"+e},getLocalHref:function(){return window.location?window.location.href:"http://192.168.0.109:8080"},getIdlePlayersSeatIndex:function(){return-2},getDealerSeatIndex:function(){return-1},getSceneName:function(e){var t;switch(parseInt(e)){case G_TYPE.gameModule.bull100:t="Poker_Bull100";break;case G_TYPE.gameModule.classic:t="Poker_classic";break;case G_TYPE.gameModule.grab:t="Poker_Grab"}return t},getOS:function(){switch(cc.sys.os){case cc.sys.OS_ANDROID:break;case cc.sys.OS_IOS:}return cc.sys.os},getBrowserType:function(){switch(cc.sys.browserType){case cc.sys.BROWSER_TYPE_QQ:break;case cc.sys.BROWSER_TYPE_SAFARI:break;case cc.sys.BROWSER_TYPE_ANDROID:}return cc.sys.browserType},getEnterHomeModel:function(e){var t;switch(parseInt(e)){case G_TYPE.gameModule.bull100:t=G_TYPE.net_gameModule.bull100;break;case G_TYPE.gameModule.grab:t=G_TYPE.net_gameModule.grab;break;case G_TYPE.gameModule.classic:t=G_TYPE.net_gameModule.classic}return t},getIsWinXin:function(){var e=window.navigator.userAgent.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)},isNumber:function(e){return Boolean("[object Number]"===Object.prototype.toString.call(e))},getLastSceneHash:function(){if(cc.sys.isNative)return null;var e=this._getCookie("poker_roomInfo");if(!e)return null;var t={enterType:null,roomId:null},i=e.split("-"),n=i[0];return n?(t.enterType=n,t.roomId=parseInt(i[1]),t):null},setCurSceneHash:function(e,t){cc.sys.isNative||this._setCookie("poker_roomInfo",e+"-"+t)},_setCookie:function(e,t){document.cookie=e+"="+encodeURI(t)+";"},_getCookie:function(e){var t,i=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(i))?encodeURIComponent(t[2]):null},setRichData:function(e){this._richData={};for(var t in e)this._richData[t]=e[t]},setGainsData:function(e){this._gainsData={};for(var t in e)this._gainsData[t]=e[t]},getRichData:function(){if(G_Config_common.isLocal){var e={};e.code=1,e.data=[];for(var t=0;t<3;t++)e.data.push({nickname:"997_"+t,walletbalance:667,avatarurl:""});return e}return this._richData},getGainsData:function(){if(G_Config_common.isLocal){var e={};e.code=1,e.data=[];for(var t=0;t<20;t++)e.data.push({nickname:"1111",walletbalance:3333,avatarurl:""});return e}return this._gainsData},getRoomListJson:function(e){if(this._roomListJson)e&&(e(this._roomListJson),e=null);else{var t=this;t._roomListJson=null,cc.loader.load(G_DATA.getResNetRoot("config/room.data.json"),function(i,n){i||(t._roomListJson=n),e&&(e(t._roomListJson),e=null)})}}};window.G_DATA=n,cc._RF.pop()},{}],GameStart:[function(e,t,i){"use strict";cc._RF.push(t,"0bb59bZNjlOg7qETPpsxzXm","GameStart");var n=cc.Enum({platform:0,bull100:1,grab:2,classic:3});cc.Class({"extends":cc.Component,properties:{_gameState:null,node_gameScene:{"default":null,type:cc.Node,displayName:"整个游戏的父层"},gameType:{"default":0,type:n,displayName:"游戏模式"}},onLoad:function(){},_reloadTable:function(){var e=[];switch(this.gameType){case n.platform:break;case n.classic:break;case n.grab:e.push(G_RES_URL.dict_tablesName.grabConfig);break;case n.bull100:}e.push(G_RES_URL.dict_tablesName.commonConfig),e.push(G_RES_URL.dict_tablesName.chinese),e.push(G_RES_URL.dict_tablesName.audioName),e.push(G_RES_URL.dict_tablesName.grabConfig),GG.tableMgr.reloadTables(e,this._addConfigCallFunc.bind(this))},_addConfigCallFunc:function(){switch(this._gameState=G_TYPE.webGameState.running,this.gameType){case n.platform:break;case n.classic:var e=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.classicConfig);if(e){var t=e.getFirstData();this._addConfig(G_Config_classic,t)}break;case n.grab:var e=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.grabConfig);if(e){var t=e.getFirstData();this._addConfig(G_Config_grab,t)}break;case n.bull100:var e=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.bull100Config);if(e){var t=e.getFirstData();this._addConfig(G_Config_grab,t)}}var e=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.commonConfig);if(e){var t=e.getFirstData();this._addConfig(G_Config_common,t)}this.node_gameScene.active=!0},_addConfig:function(e,t){if(t)for(var i in t)e[i]=t[i]},getGameState:function(){return this._gameState},getGameType:function(){return this.gameType},onDestroy:function(){cc.game.off(cc.game.EVENT_HIDE,this._pauseWebGame,this),cc.game.off(cc.game.EVENT_SHOW,this._resumeWebGame,this)}}),cc._RF.pop()},{}],Global_listener:[function(e,t,i){"use strict";cc._RF.push(t,"0c56cnXdidGDouKG4MozCpQ","Global_listener"),t.exports=cc.Class({properties:{_dict_listeners:null,_listenerIndex:null,_list_delIndex:null},ctor:function(){this._dict_listeners={},this._list_delIndex=[],this._listenerIndex=0},registerFunc:function(e,t){this._dict_listeners[e]||(this._dict_listeners[e]={});var i=t.name+"_"+this._getListenerIndex();return this._dict_listeners[e][i]=t,i},delListen:function(e,t){this._dict_listeners[e]&&this._dict_listeners[e][t]&&(this._whenCancelListener(t),delete this._dict_listeners[e][t],Object.keys(this._dict_listeners[e]).length<1&&(this._dict_listeners[e]=null))},dispatchEventEX:function(e,t){var i=this._dict_listeners[e];if(i){var n;for(var o in i)n=i[o],cc.isValid(n)&&n(o,t)}},_whenCancelListener:function(e){var t=e.split("_"),i=t[t.length-1];this._list_delIndex.push(i)},_getListenerIndex:function(){return this._list_delIndex[0]?this._list_delIndex.splice(0,1):(this._listenerIndex+=1,this._listenerIndex)}}),cc._RF.pop()},{}],Global:[function(e,t,i){"use strict";cc._RF.push(t,"fe86ejAMf9Av4e2z1Y1HOfE","Global");var n=n||{};window.GG=n,GG.classicMgr=null,GG.grabMgr=null,GG.platformMgr=null,GG.bull100Mgr=null,GG.getModuleMgr=function(){for(var e=[GG.grabMgr,GG.classicMgr,GG.platformMgr,GG.bull100Mgr],t=0;t<e.length;t++)if(e[t])return e[t];return null},GG.curMgr=null,GG.tipsMgr=null,GG.resMgr=null,GG._player=null,GG.getPlayer=function(){if(!this._player){var t=e("M_Player");this._player=new t}return this._player},GG.getPlayerID=function(){return this.getPlayer().getPlayerID()},GG.httpMgr=GG.httpMgr||function(){var t=e("HTTPMgr");return new t}(),GG.socketMgr=GG.socketMgr||function(){var t=e("SocketMgr");return new t}(),GG.tableMgr=GG.tableMgr||function(){var t=e("TablesMgr");return new t}(),GG.audioMgr=GG.audioMgr||function(){var t=e("AudioMgr");return new t}(),GG.Listener=GG.Listener||function(){var t=e("Global_listener");return new t}(),GG.topTouchLayer=GG.topTouchLayer||function(){var t=e("M_TopRequestLayer");return new t}(),GG.resMgr=GG.resMgr||function(){var t=e("ReloadResMgr");return new t}(),GG.s_requestMgr=GG.s_requestMgr||function(){var t=e("SocketRequestMgr");return new t}(),GG.webHandler=GG.webHandler||function(){var t=e("WebMobile_handler");return new t}(),GG.getGameState=function(){return this._gameState},GG.getGameType=function(){var e=cc.find("Canvas");if(e){var t=e.getComponent("GameStart");if(t)return t.getGameType()}return null},GG.exitHome=function(){var e={gameType:this.getGameType()};this.getPlayer().setOutHomeData(e),G_DATA.setCurSceneHash("",0),GG.changeScene(G_TYPE.sceneName.platform)},GG.exitGame=function(){GG.httpMgr.sendHttpRequest(G_DIALOG_URL.logout,null,function(e){e&&(cc.director.end(),location.replace(location.href))}.bind(this))},GG.changeScene=function(e){GG.getPlayer().setReloadSceneInfo({sceneName:e}),cc.director.preloadScene("InHomeLoading",function(){cc.director.loadScene("InHomeLoading")})},GG.showReconnect=function(e){if(GG.tipsMgr){var t=G_DATA.getChinese(62);GG.tipsMgr.showConfirmTip_TWO(t.content,e,function(){cc.director.end(),location.replace(location.href)})}},GG.getIsLoading=function(){return this._isLoading},GG.setIsLoading=function(e){this._isLoading=e},GG.loginSocket=function(e){GG.socketMgr.SendMsg(NetType.s_login,{token:GG.getPlayer().getPlayerToken(),userId:GG.getPlayer().getUID()},e)},GG._isFirstEnterPlatform=!0,GG._gameState=null,GG.whenGameStart=function(e){if(!GG._isFirstEnterPlatform)return!1;cc.game.config.showFPS=!1,GG._isFirstEnterPlatform=!1,this._gameState=G_TYPE.webGameState.running,!cc.sys.isNative&&document?GG.webHandler.gameStart():(cc.game.on(cc.game.EVENT_HIDE,this._pauseWebGame,this),cc.game.on(cc.game.EVENT_SHOW,this._resumeWebGame,this));var t=[];return t.push(G_RES_URL.dict_tablesName.commonConfig),t.push(G_RES_URL.dict_tablesName.chinese),t.push(G_RES_URL.dict_tablesName.audioName),t.push(G_RES_URL.dict_tablesName.grabConfig),GG.tableMgr.reloadTables(t,function(){GG.audioMgr.reloadPlatformAudio(function(){e&&(e(),e=null)})}),!0},GG._pauseWebGame=function(){if(this._gameState!=G_TYPE.webGameState.pause){this._gameState=G_TYPE.webGameState.pause,cc.audioEngine.pauseAll(),GG.audioMgr.stopMusic();var e=GG.curMgr;e&&e.whenPauseGame&&e.whenPauseGame(),cc.sys.garbageCollect()}},GG._resumeWebGame=function(){if(this._gameState!=G_TYPE.webGameState.running){this._gameState=G_TYPE.webGameState.running,cc.audioEngine.resumeAll(),GG.audioMgr.playMusic();var e=GG.curMgr;e&&e.whenResumeGame&&e.whenResumeGame(),GG.socketMgr.parsePauseInfo()}},cc._RF.pop()},{AudioMgr:"AudioMgr",Global_listener:"Global_listener",HTTPMgr:"HTTPMgr",M_Player:"M_Player",M_TopRequestLayer:"M_TopRequestLayer",ReloadResMgr:"ReloadResMgr",SocketMgr:"SocketMgr",SocketRequestMgr:"SocketRequestMgr",TablesMgr:"TablesMgr",WebMobile_handler:"WebMobile_handler"}],Grab_Manager:[function(e,t,i){"use strict";cc._RF.push(t,"44fc1hvIW1Cf70BkdECoI0L","Grab_Manager"),cc.Class({"extends":e("BaseManager"),properties:{_gameState:null,_list_winResult:null,_maxBettingGold:null,_homeID:null,_maxBettingTimes:null,_list_pokerIndex:null,_matchID:null,_playerID:null,_nextStartTime:null,_curEndGrabTime:null,_enterHomeData:null,_idleTip:null,_grabTip:null,_isPauseOverMatch:null,_dict_idleBetting:null,comp_topLayer:{"default":null,type:e("Grab_topLayer"),displayName:"顶部层"},comp_goldContainer:{"default":null,type:e("Grab_goldContainer"),displayName:"金币容器"},comp_playersContainer:{"default":null,type:e("Grab_playersLayer"),displayName:"玩家容器"},comp_btnsContainer:{"default":null,type:e("Grab_btnContainer"),displayName:"底部按钮"},comp_tablesContainer:{"default":null,type:e("Grab_tablesLayer"),displayName:"压住格子层"},comp_pokersLayer:{"default":null,type:e("Grab_pokerLayer"),displayName:"卡牌层"},comp_uiLayer:{"default":null,type:e("Obj_uiContainer"),displayName:"窗口UI层"},label_bettingTimes:{"default":null,type:cc.Label,displayName:"投注次数"},node_diyTip:{"default":null,type:cc.Node,displayName:"tip"}},onLoad:function(){GG.grabMgr=this,this._super(),this._list_pokerIndex=[],this._list_winResult=[],this._isPauseOverMatch=!0,this._bettingTimesStr=G_CHINESE.limitBetting,this.comp_topEffect=this.comp_topLayer.getTopEffect()},start:function(){if(GG.tipsMgr.setTextTip(this.node_diyTip.getComponent("Obj_txtTip")),G_Config_common.isLocal);else{this.addLongListenOnStart();var e=GG.getPlayer().getInHomeData();e&&(e.net_resetHomeData?(this._dealInHomeNetData(e.net_inHomeData),this.updateEnterHomeData(e.net_resetHomeData),this.refreshHome()):this.net_setHomeData(e.net_inHomeData))}},resetShow:function(){this.node.stopAllActions(),this.comp_pokersLayer.setStartInfo(this.comp_btnsContainer.getWheelPos(),this.comp_playersContainer.getPokerPos()),this._isPauseOverMatch&&(this._list_pokerIndex=[],this._list_winResult=[],this.comp_pokersLayer.clearData(),this.comp_tablesContainer.clearData(),this.comp_tablesContainer.setTouchEnable(!1),this._dict_idleBetting=null),this._isPauseOverMatch=!0,this.comp_goldContainer.clearAll(),this.comp_playersContainer.clearData(),this.comp_btnsContainer.setBtnGroupEnable(!1),this.comp_topEffect.clearAll()},on_Wait:function(e,t){this.setGameState(G_TYPE.grabState.wait),this._grabTip&&this._grabTip.getIsShow()&&this._grabTip.forceEnd();new Date(GG.socketMgr.getServerTime()),new Date(this._nextStartTime);if(this._idleTip&&this._idleTip.getIsShow())this._idleTip.forceChangeCountDown(e);else{var i={tipIndex:19,isCountDown:!0,showPos:this.node_diyTip.position,callBack:null};i.retainTime=e,t&&(i.callBack=t),this._idleTip=GG.tipsMgr.showOnlyOne(i)}this._clearByWait()},on_beforeStart:function(){this.setGameState(G_TYPE.grabState.readyStart),this.comp_topEffect.playGameStartAni(this.on_startTouchTables.bind(this)),this.on_giveOnePoker()},on_giveOnePoker:function(){this.setGameState(G_TYPE.grabState.givePoker);var e=G_OBJ.data_grabPokerInfo();e.pokerInfoList=[{pokerIndex:this._list_pokerIndex[0],isOpen:!0}],e.startPokerIndex=1,e.pokerResult=this._list_winResult[0],e.isFlyEffect=!0,this.comp_pokersLayer.showPokerEX(e)},on_startTouchTables:function(e){if(this.setGameState(G_TYPE.grabState.touchTables),this._idleTip&&this._idleTip.getIsShow()&&this._idleTip.forceEnd(),this.comp_tablesContainer.setTouchEnable(!0),this.comp_btnsContainer.refreshGrabOption(),this._grabTip&&this._grabTip.getIsShow())this._grabTip.forceChangeCountDown(e);else{var t,i={tipIndex:18,showPos:this.node_diyTip.position,isCountDown:!0};G_Config_common.isLocal?(t=6,i.callBack=this._touchTableEnd.bind(this)):t=this._getOffSeconds(GG.socketMgr.getServerTime(),this._curEndGrabTime),e&&(t=e),i.retainTime=t,this._grabTip=GG.tipsMgr.showOnlyOne(i)}},_touchTableEnd:function(){if(this.comp_tablesContainer.setTouchEnable(!1),this.comp_btnsContainer.setBtnGroupEnable(!1),G_Config_common.isLocal){var e={pokers:[{code:"33,34,4,36,2",odds:1,cardsPoint:parseInt(5)}]},t=this.setBettingEndInfo(e);t&&this.comp_topEffect.playGrabDoneAni(this.on_giveFivePokers.bind(this),t),this.on_Wait(15),this.comp_playersContainer.setMyselfMoney(this.getWinGold(),58888),this.comp_playersContainer.getSystemComp().setGoldValue(88888888)}},on_giveFivePokers:function(e){this.setGameState(G_TYPE.grabState.givePoker);var t=G_OBJ.data_grabPokerInfo();t.pokerInfoList=e,t.pokerResult=this._list_winResult[0],t.isFlyEffect=!0,t.startPokerIndex=2,t.callFunc=this._giveFivePokersEnd.bind(this),this.comp_pokersLayer.showPokerEX(t)},_giveFivePokersEnd:function(){var e=G_Config_grab.time_openDelay,t=cc.delayTime(e);this.node.runAction(cc.sequence(t,cc.callFunc(function(){this.comp_pokersLayer.openPokers(this.on_showResult.bind(this))},this)))},on_showResult:function(){if(this.setGameState(G_TYPE.grabState.showFlag),!(this._list_winResult.length<1)){for(var e,t,i=0;i<this._list_winResult.length;i++)e=this._list_winResult[i],t=this.comp_tablesContainer.setTableWin(e),this.comp_topEffect.playOneFlag(t);this.comp_tablesContainer.showOwnerGold(this.getMyselfComp().getAllGrabTable()),this.node.runAction(cc.sequence(cc.delayTime(G_Config_grab.time_showFlag),cc.callFunc(this.on_flyGold,this)))}},on_flyGold:function(){this.setGameState(G_TYPE.grabState.flyGold),this.comp_playersContainer.setWinTableResult(this._list_winResult),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){this._flyGoldEnd()},this)))},_flyGoldEnd:function(){var e=this.comp_playersContainer.showAllGoldResult();if(e){var t=cc.delayTime(G_Config_grab.time_goldFlyOnHead);this.node.runAction(cc.sequence(t,cc.callFunc(this.on_showGoldResultEnd,this)))}else this.on_showGoldResultEnd()},on_showGoldResultEnd:function(){this.getMyselfComp().resetShowGold(),G_Config_common.isLocal&&this.on_beforeStart()},playMyGoldMove:function(e){e.isMine=!0,this.getMyselfComp().touchGrabArea(e,this._ownerGrabContinue.bind(this))},_ownerGrabContinue:function(e){e.goldValue>0&&(this.comp_goldContainer.moveAddGolds(e,function(){}.bind(this)),this.comp_tablesContainer.getTable(e.tableIndex).addOwnerGold(e.goldValue))},playResultGoldMove:function(e){this.comp_goldContainer.flyResultGold(e)},setGameState:function(e){var t=this._gameState;switch(this._gameState=e,e){case G_TYPE.grabState.wait:break;case G_TYPE.grabState.readyStart:break;case G_TYPE.grabState.givePoker:break;case G_TYPE.grabState.readyTouchTable:break;case G_TYPE.grabState.touchTables:break;case G_TYPE.grabState.showFlag:break;case G_TYPE.grabState.flyGold:break;case G_TYPE.grabState.isBetting:break;default:return void(this._gameState=t)}},initButtonInfo:function(){this.comp_btnsContainer.setStartInfo()},changeIdleTip:function(e){if(this._idleTip&&this._idleTip.getIsShow()){var t=this._getOffSeconds(GG.socketMgr.getServerTime(),this._nextStartTime);this._idleTip.forceChangeCountDown(t)}},changeGrabTip:function(e){var t=this._getOffSeconds(GG.socketMgr.getServerTime(),this._curEndGrabTime);if(this._grabTip&&this._grabTip.getIsShow())this._grabTip.forceChangeCountDown(t);else{if(this.comp_topEffect.clearAll(),!this.comp_pokersLayer.getPokerNum()){var i=G_OBJ.data_grabPokerInfo();i.pokerInfoList=[{pokerIndex:this._list_pokerIndex[0],isOpen:!0}],i.pokerResult=this._list_winResult[0],i.isFlyEffect=!1,i.startPokerIndex=1,this.comp_pokersLayer.showPokerEX(i)}this.on_startTouchTables(t)}},showDialogUI:function(e,t){this.comp_uiLayer.addUI(e,t)},setBettingTimes:function(e){this.label_bettingTimes.string=G_TOOL.formatStr(this._bettingTimesStr,e)},getGameState:function(){return this._gameState},getMyselfComp:function(){return this.comp_playersContainer.getMyselfComp()},getTable:function(e){return this.comp_tablesContainer.getTable(e)},getBtnsComp:function(){return this.comp_btnsContainer},getMaxGrabGold:function(){return this._maxBettingGold},getWinGold:function(){for(var e,t,i=[],n=0;n<this._list_winResult.length;n++)e=this._list_winResult[n],t=this.getMyselfComp().getWinGoldNum(e),t&&i.push(e);return this.comp_tablesContainer.getWinGold(i)},getMaxGrabTimes:function(){return this._maxBettingTimes},getMatchID:function(){return this._matchID},getOwnerID:function(){return this._playerID},_getOffSeconds:function(e,t){return GG.socketMgr.getOffSeconds(e,t)},getCurGrabResult:function(){return this._list_winResult[0]},getHomeID:function(){return this._homeID},getIsGrab:function(){return this.getMyselfComp().getIsBettingEnd()},getIsBetStart:function(e,t){e||(e=this._nextStartTime),t||(t=this._curEndGrabTime);var i=GG.socketMgr.getServerTime();return!(e>i&&i>=t)},getFirstBetting:function(){return this._startGame},getEnterHomeData:function(){return this._enterHomeData},getIdleBettingPos:function(){return this.comp_btnsContainer.getIdleBettingPos()},getIdleBetting:function(){return this._dict_idleBetting},getTableContainer:function(){return this.comp_tablesContainer},getPokerShowPos:function(){return this.comp_playersContainer.getPokerPos()},_recodeIdleBetting:function(e,t){this._dict_idleBetting||(this._dict_idleBetting={}),this._dict_idleBetting[e]?this._dict_idleBetting[e]+=t:this._dict_idleBetting[e]=t},_clearByWait:function(){this.getMyselfComp().clearRecord()},forceStart:function(){if(G_Config_common.isLocal){var e=[100,500,1e3,2e3],t={myselfData:{chooseDict:e,roomName:null},othersData:[{player:{coin:7568,icon:null,nickname:"black1",playerId:5,usableBalance:7568},seatIndex:1},{player:{coin:7568,icon:null,nickname:"black",playerId:5,usableBalance:7568},seatIndex:2},{player:{coin:888888,icon:null,nickname:"solider",playerId:6,usableBalance:888888},seatIndex:3},{player:{coin:888888,icon:null,nickname:"jin",playerId:7,usableBalance:888888},seatIndex:4},{player:{coin:888888,icon:null,nickname:"jin1",playerId:8,usableBalance:888888},seatIndex:5},{player:{coin:888888,icon:null,nickname:"jin2",playerId:9,usableBalance:888888},seatIndex:6},{player:{coin:888888,icon:null,nickname:"jin3",playerId:9,usableBalance:888888},seatIndex:7}],dealerData:{coin:297300,icon:null,nickname:"系统大牛",playerId:7,usableBalance:74325},homeData:{roomId:1,userId:6,betTimes:10,matchId:1,beginTimeNext:1487559489225,settleTime:1487559474225,betChip:e,minDealerGold:1e5,areaInfo:{0:2,1:13,2:13,3:13,4:13,5:13,6:13,7:13,8:13,9:13,10:12}}};this._initInHomeData(t);
var i=1487559484012;if(i<this._curEndGrabTime){this.resetShow();var n=30,o=this._getOffSeconds(i,this._curEndGrabTime);if(n>0)if(this._list_pokerIndex[0]=n,o>G_Config_grab.time_grabWillEnd){var s=G_OBJ.data_grabPokerInfo();s.pokerInfoList=[{pokerIndex:n,isOpen:!0}],s.pokerResult=0,s.isFlyEffect=!1,s.startPokerIndex=1,this.comp_pokersLayer.showPokerEX(s)}else this.comp_pokersLayer.onlyShowPoker([{pokerIndex:n,isOpen:!0}]);this.on_startTouchTables(o)}else{this._isPauseOverMatch=!0,this.resetShow();var o=this._getOffSeconds(i,this._nextStartTime);this.on_Wait(2,this.on_beforeStart.bind(this))}}},testGetPoker:function(e){var t=[40,44,48,5,10],i=[36,37,39,10,11],n=[39,41,50,13,22],o=[5,31,38,0,29],s=[33,34,4,36,2],a=[{5:t},{6:i},{10:n},{9:o},{1:s}];if(this._testPokerList||(this._testPokerList=a[G_TOOL.getRandomArea(0,4)]),1==e){for(var l={},r=0;r<this._testPokerList.length;r++){l.value=r,l.pokerIndex=this._testPokerList[r][0];break}return l}for(var l={},c=0;c<this._testPokerList.length;c++)l.value=c,l.pokerIndex=this._testPokerList[c];return l},_initInHomeData:function(e){if(e.homeData){var t=e.homeData;this._homeID||(this._homeID=t.roomId),this._matchID||(this._matchID=t.matchId),this._nextStartTime=t.beginTimeNext,this._curEndGrabTime=t.settleTime,t.userId&&GG.getPlayer().setPlayerID(t.userId),t.betTimes&&(this._maxBettingTimes=t.betTimes,this.setBettingTimes(this._maxBettingTimes)),t.betChip&&(this._chipValueList=t.betChip,this._maxBettingGold=this._maxBettingTimes*t.betChip[t.betChip.length-1]),t.areaInfo&&this.comp_tablesContainer.setStartInfo(t.areaInfo)}this.comp_playersContainer.setStartInfo(e.othersData,e.myselfData,e.dealerData),e.dealerData&&e.dealerData.playerId==GG.getPlayerID()},net_setHomeData:function(e){var t=e.tip;if(t.code==G_TYPE.serverCodeType.success){this._dealInHomeNetData(e);var i=GG.socketMgr.getServerTime();if(i<this._curEndGrabTime){this.resetShow(),this._startGame=!0;var n=e.poker,o=this._getOffSeconds(i,this._curEndGrabTime);if(n>=0){this._list_pokerIndex[0]=n;var s=G_OBJ.data_grabPokerInfo();s.pokerInfoList=[{pokerIndex:n,isOpen:!0}],s.isFlyEffect=!1,s.startPokerIndex=1,this.comp_pokersLayer.showPokerEX(s)}this.on_startTouchTables(o)}else{this._isPauseOverMatch=!0,this.resetShow(),this._startGame=!1;var o=this._getOffSeconds(i,this._nextStartTime);if(o<=0){var n=e.poker;if(o=this._getOffSeconds(i,this._curEndGrabTime),n>=0){this._list_pokerIndex[0]=n;var s=G_OBJ.data_grabPokerInfo();s.pokerInfoList=[{pokerIndex:n,isOpen:!0}],s.isFlyEffect=!1,s.startPokerIndex=1,this.comp_pokersLayer.showPokerEX(s)}this.on_startTouchTables(o)}else this.on_Wait(o)}}},_dealInHomeNetData:function(e){this._enterHomeData=e;var t=e.match,i=(new Date(GG.socketMgr.getServerTime()),new Date(t.settleTime),GG.getPlayerID()),n={myselfData:{chooseDict:e.betChip,roomName:e.roomName},othersData:e.seats,dealerData:t.dealer,homeData:{roomId:e.roomId,userId:i,betTimes:e.betTimes,matchId:t.matchId,beginTimeNext:t.beginTimeNext,settleTime:t.settleTime,betChip:e.betChip,minDealerGold:e.minDealerCoin,areaInfo:e.betAreas}};this._initInHomeData(n)},net_resetGameData:function(e){var t=e.tip;if(t.code==G_TYPE.serverCodeType.success){this.updateEnterHomeData(e),this.resetShow();var i=e.match,n=(GG.getPlayerID(),{myselfData:{chooseDict:null,roomName:null},othersData:e.seats,dealerData:i.dealer,homeData:{beginTimeNext:i.beginTimeNext,settleTime:i.settleTime}});this._initInHomeData(n),this._list_pokerIndex[0]=e.poker,this.on_beforeStart()}},net_otherGrab:function(e){var t=e.tip;if("0"==t.code)for(var i,n=e.bets,o=0;o<n.length;o++){i=n[o];var s=parseInt(i.item.split("_")[0]),a=G_OBJ.data_grabBetting();switch(a.goldNum=G_Config_grab.num_otherGrabGoldNum,a.goldValue=i.gold,a.tableIndex=s,a.isMine=!1,i.seatIndex){case this.getMyselfComp().getSeatIndex():break;case G_DATA.getIdlePlayersSeatIndex():if(a.startPos=this.comp_btnsContainer.getIdleBettingPos(),!this.getMyselfComp().getSeatIndex()&&this.getMyselfComp().getIsBettingEnd()&&(a.goldValue=this.getMyselfComp().reduceGoldEX(a.goldValue)),a.goldValue<=0)break;a=this.comp_tablesContainer.touchOneTable(a.tableIndex,a),this.comp_goldContainer.moveAddGolds(a),this._recodeIdleBetting(a.tableIndex,a.goldNum);break;case G_DATA.getDealerSeatIndex():break;default:var l=this.comp_playersContainer.getCompByIndex(i.seatIndex);l&&(a.startPos=l.getWorldPos(),l.doChoose(a.tableIndex,a.goldNum)),a=this.comp_tablesContainer.touchOneTable(a.tableIndex,a),this.comp_goldContainer.moveAddGolds(a)}}},net_grabEnd:function(e){this._touchTableEnd();var t=this.setBettingEndInfo(e);t&&this.comp_topEffect.playGrabDoneAni(this.on_giveFivePokers.bind(this),t),this.on_Wait(this._getOffSeconds(GG.socketMgr.getServerTime(),this._nextStartTime))},setBettingEndInfo:function(e){var t,i,n;if(G_Config_common.isLocal);else{var o=e.tip;switch(o.code){case G_TYPE.serverCodeType.success:break;case G_TYPE.serverCodeType.noBetting:break;default:return null}this._super(e)}n=e.pokers[0];var s=n.code.split(",");t=[];for(var a=0;a<s.length;a++)i=parseInt(s[a]),isNaN(i)||t.push({pokerIndex:i,isOpen:!1});this._list_winResult.push(n.cardsPoint);var l=e.players;if(l)for(var r,c,a=0;a<l.length;a++)switch(r=l[a],r.seatIndex){case G_DATA.getDealerSeatIndex():this.comp_playersContainer.getSystemComp().setGoldValue(r.balance);break;case G_DATA.getIdlePlayersSeatIndex():break;default:c=this.comp_playersContainer.getCompByIndex(r.seatIndex),c&&c.setResultInfo(r.coin,r.balance)}return t},net_mineHasGrab:function(e){var t=e.tip;if("0"==t.code){var i=e.player;this.comp_playersContainer.setMyselfMoney(i.coin,i.balance)}},net_someOneInHome:function(e){var t=e.tip;if("0"==t.code)for(var i,n=e.seats,o=GG.getPlayerID(),s=0;s<n.length;s++)i=n[s],i&&i.player.playerId!=o&&this.comp_playersContainer.enterOnePlayer(i.seatIndex,i.player)},net_exitHome:function(e){var t=e.tip;"0"==t.code&&GG.exitHome()},_getWaitTimeSec:function(e){var t=GG.socketMgr.getServerTime(),i=new Date(e-t);return i.getSeconds()},addLongListenOnStart:function(){GG.socketMgr.registerLong(NetType.r_grab_reStartGame,this.net_resetGameData.bind(this)),GG.socketMgr.registerLong(NetType.r_grabEnd,this.net_grabEnd.bind(this)),GG.socketMgr.registerLong(NetType.r_mineHaveGrab,this.net_mineHasGrab.bind(this)),GG.socketMgr.registerLong(NetType.r_oneInHome,this.net_someOneInHome.bind(this)),GG.socketMgr.registerLong(NetType.r_grab_exitReturn,this.net_exitHome.bind(this)),GG.socketMgr.registerLong(NetType.r_otherGrab,this.net_otherGrab.bind(this))},onDestroy:function(){this._super(),GG.grabMgr=null}}),cc._RF.pop()},{BaseManager:"BaseManager",Grab_btnContainer:"Grab_btnContainer",Grab_goldContainer:"Grab_goldContainer",Grab_playersLayer:"Grab_playersLayer",Grab_pokerLayer:"Grab_pokerLayer",Grab_tablesLayer:"Grab_tablesLayer",Grab_topLayer:"Grab_topLayer",Obj_uiContainer:"Obj_uiContainer"}],Grab_btnContainer:[function(e,t,i){"use strict";cc._RF.push(t,"26aca2lT0ZA06ebEnuK1Os6","Grab_btnContainer"),cc.Class({"extends":e("AutoDealing"),properties:{_lastBtn:null,node_btnGroup:cc.Node,node_effectUnderButton:cc.Node,node_exitHomeBtn:cc.Node,node_playersList:cc.Node,node_rules:cc.Node,node_trend:cc.Node},onLoad:function(){this._init(),this._registerAllBtn()},setStartInfo:function(){var e=GG.grabMgr.getMyselfComp().getMoneyChooseDict();this._setBtnInfo(e),this.setBtnGroupEnable(!1)},_init:function(){this._btnCompName="Obj_optionButton",this._isAdaptPos=!1},_registerAllBtn:function(){for(var e=this.node_btnGroup.children,t=0;t<e.length;t++)this.registerButton(e[t],this.OnClick_chooseMoney,this,parseInt(t),!0);this.registerButton(this.node_exitHomeBtn,this.OnClick_exit,this),this.registerButton(this.node_playersList,this.OnClick_playerList,this),this.registerButton(this.node_rules,this.OnClick_rules,this),this.registerButton(this.node_trend,this.OnClick_trend,this)},OnClick_chooseMoney:function(e,t){this.chooseOption(t)},OnClick_changeDesk:function(){},OnClick_exit:function(e){if(G_Config_common.isLocal)return void GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText1,function(){GG.exitHome()});if(GG.grabMgr.getIsGrab())GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText1,function(){var e={roomId:GG.grabMgr.getHomeID(),isBreak:!0};GG.socketMgr.SendMsg(NetType.s_grab_Exit,e)});else{var t={roomId:GG.grabMgr.getHomeID(),isBreak:!0};GG.socketMgr.SendMsg(NetType.s_grab_Exit,t)}},OnClick_playerList:function(){var e=1;GG.grabMgr.showDialogUI(G_RES_URL.uiName.playerList,function(t){t.setData(e)})},OnClick_rules:function(){var e=G_TYPE.gameModule.grab;GG.grabMgr.showDialogUI(G_RES_URL.uiName.rulesInHome,function(t){t.showLayer(),t.setData(e)})},OnClick_trend:function(){var e=GG.grabMgr.getHomeID();GG.grabMgr.showDialogUI(G_RES_URL.uiName.grabTrend,function(t){t.setData(e)})},chooseOption:function(e){e=parseInt(e),GG.grabMgr.getMyselfComp().setChooseLevel(e),this._showChooseEffect(this._getBtnByIndex(e))},_setBtnInfo:function(e){for(var t,i=this.node_btnGroup.children,n=0;n<i.length;n++)t=parseInt(n),i[n].tag=e[t],i[n].getComponent(this._btnCompName).showMoney(e[t],!1)},_getBtnByIndex:function(e){return this.node_btnGroup.children[e]},chooseMoney:function(e){var t=this._getBtnByIndex(e);this.isBetting=GG.grabMgr.getFirstBetting(),this._showChooseEffect(t)},refreshGrabOption:function(e){this._list_myGrabOption||(this._list_myGrabOption=GG.grabMgr.getMyselfComp().getMoneyChooseDict()),G_DATA.isNumber(e)||(e=GG.grabMgr.getMyselfComp().getGoldValue());for(var t=null,i=(GG.grabMgr.getMyselfComp().getChooseLevel(),this.node_btnGroup.children),n=0;n<this._list_myGrabOption.length;n++)this._list_myGrabOption[n]<=e?(this.setBtnEnable(i[n],!0),t=parseInt(n)):(this._lastBtn&&this._lastBtn.tag==this._list_myGrabOption[n]&&this._cancelChoose(),this.setBtnEnable(i[n],!1));!this._lastBtn&&G_DATA.isNumber(t)&&(GG.grabMgr.getMyselfComp().getChooseLevel()<t&&(t=GG.grabMgr.getMyselfComp().getChooseLevel()),this._showChooseEffect(i[t]),GG.grabMgr.getMyselfComp().setChooseLevel(t))},setBtnGroupEnable:function(e){this._cancelChoose();for(var t=this.node_btnGroup.children,i=0;i<t.length;i++)this.setBtnEnable(t[i],e)},_showChooseEffect:function(e){e&&(this._cancelChoose(),e.getComponent(this._btnCompName).showMoney(null,!0),this._showUnderBtnEffect(e),this.setBtnEnable(e,!1,!0),this._lastBtn=e)},_cancelChoose:function(){this._lastBtn&&(this._hideUnderBtnEffect(),this._lastBtn.getComponent(this._btnCompName).showMoney(null,!1),this.setBtnEnable(this._lastBtn,!0),this._lastBtn=null)},_showUnderBtnEffect:function(e){this.node_effectUnderButton.active=!0,this.node_effectUnderButton.x=e.x,this.node_effectUnderButton.y=.65*-e.height},_hideUnderBtnEffect:function(){this.node_effectUnderButton.active=!1},getWheelPos:function(){var e=cc.view.getDesignResolutionSize();return cc.p(.8*e.width,.2*e.height)},getIdleBettingPos:function(){var e=this.node_playersList.position,t=this.node_playersList.parent.parent.position,i=e.x+this.node_playersList.parent.x+t.x,n=e.y+this.node_playersList.parent.y+t.y+this.node_playersList.height/2;return cc.p(i,n)}}),cc._RF.pop()},{AutoDealing:"AutoDealing"}],Grab_goldContainer:[function(e,t,i){"use strict";cc._RF.push(t,"93263ztXJhLmK5n7/NR+HHn","Grab_goldContainer"),cc.Class({"extends":cc.Component,properties:{_pool:null,_callFunc:null,frame_gold:cc.SpriteFrame},onLoad:function(){this._goldScale=G_Config_common.scale_moveGold,this._addGoldTime=G_Config_grab.time_goldFly_Add,this._resultGoldTime=G_Config_grab.time_goldFly_Result,this._pool=new cc.NodePool("Grab_goldContainer")},moveAddGolds:function(e,t){GG.audioMgr.playSound(15);for(var i,n,o,s=0,a=G_Config_grab.time_goldFly_delay,l=0;l<e.goldNum;l++)i=this._getGold(),i.position=e.startPos,i._flyCallFunc=e.callFunc,n=cc.delayTime(s),o=cc.moveTo(this._addGoldTime,e.targetPos),i.runAction(cc.sequence(n,o,cc.callFunc(this._flyAddGoldEnd,this,e))),s+=a;i&&(i._endCallFunc=t)},_flyAddGoldEnd:function(e,t){var i=e;i._flyCallFunc&&(i._flyCallFunc(),i._flyCallFunc=null),i._endCallFunc&&(i._endCallFunc(),i._endCallFunc=null),this._removeGold(i)},flyResultGold:function(e,t){if(e){var i;this._callFunc=t;for(var n=0;n<e.length;n++)i=e[n],i&&this._setResultGolds(i)}},_setResultGolds:function(e){for(var t=0;t<e.goldNum;t++){var i=this._getGold(),n=GG.grabMgr.getTable(e.tableIndex),o=n.removeOneGoldImg();if(o){i.position=o;var s=cc.moveTo(this._resultGoldTime,e.targetPos),a=this;i.runAction(cc.sequence(s,cc.callFunc(function(e){a._removeGold(e),a.callBack&&(a.callBack(),a.callBack=null)},this,this._resultGoldNum)))}}},recordLeaveGolds:function(e){},_getGold:function(){var e=this._pool.get();if(!e){e=new cc.Node;var t=e.addComponent(cc.Sprite);t.spriteFrame=this.frame_gold}return e.parent=this.node,e.scale=this._goldScale,e.active=!0,e},_removeGold:function(e){e.active=!1,this._pool.put(e)},clearAll:function(){this.node.stopAllActions();for(var e=this.node.children,t=e.length,i=t-1;i>=0;i--)this._removeGold(e[i])}}),cc._RF.pop()},{}],Grab_oneTable:[function(e,t,i){"use strict";cc._RF.push(t,"cd914lZMLpN6b4JTXgsnLK+","Grab_oneTable"),cc.Class({"extends":cc.Component,properties:{_ownerGold:0,_areaGold:0,_goldFrame:null,_bullType:null,_multiple:1,_maxAdaptGold:null,_curGoldNum:null,_isWin:null,num_result:{"default":0,type:cc.Integer,displayName:"代表的结果值"},label_multiple:{"default":null,type:cc.Label,displayName:"倍数"},node_goldContainer:{"default":null,type:cc.Node,displayName:"金币容器"},label_areaValue:{"default":null,type:cc.Label,displayName:"格子内总金币"},label_ownerValue:{"default":null,type:cc.Label,displayName:"投注值"},label_resultMultiple:{"default":null,type:cc.Label,displayName:"结果倍数"}},onLoad:function(){this._init()},_init:function(){this._ownerFormatStr="<b>%s</b>";var e=G_Config_grab.num_goldImgArea;this._maxGoldX=this.node.width*e*1.3,this._maxGoldY=-this.node.height*e*.35,this._maxAdaptGold=50,this._curGoldNum=0,this._loseColor=new cc.Color(253,41,31),this._winColor=this.label_ownerValue.node.color,this._goldScale=G_Config_grab.scale_moveGold,this.comp_scrollValue=this.getComponent("Obj_scrollValue")},setInfo:function(e,t,i){this._goldFrame=e,this._bullType=t,this._multiple=parseInt(i)},clearData:function(){this._ownerGold=0,this._areaGold=0,this._isWin=!1,this._setMultiple(),this._clearGoldImg(),this.label_areaValue.string="",this.label_ownerValue.node.color=this._winColor,this._setOwnerGold(0)},OnClick_table:function(e){var t=G_OBJ.data_grabBetting();t.tableIndex=this.getResultType(),t.targetPos=this.getGoldCenterPos(),t.callFunc=this._goldAdd.bind(this),GG.grabMgr.playMyGoldMove(t)},_goldAdd:function(){this._addOneGoldImg()},otherAddGold:function(e){e.targetPos=this.getWorldPos(),e.callFunc=this._goldAdd.bind(this);var t=e.goldValue;return e.isMine?this.addOwnerGold(t):this._addOthersGold(t),e},addOwnerGold:function(e){e&&(this._ownerGold+=e,this._setOwnerGold(this._ownerGold),this._addOthersGold(e))},_addOthersGold:function(e){e||(e=0),this._areaGold+=e,this._setAreaGold(this._areaGold)},_setOwnerGold:function(e){e?(this.label_ownerValue.node.parent.active=!0,this.label_ownerValue.string=G_TOOL.changeMoney(e),this.label_resultMultiple.string="",this._changeDownLabel(this.label_ownerValue.node,!1)):this.label_ownerValue.node.parent.active=!1},_setAreaGold:function(e){e?this.label_areaValue.string=G_TOOL.changeMoney(e):this.label_areaValue.string=""},showOwnerResult:function(){if(!(this._ownerGold<1)){var e=G_TOOL.changeMoney(this._ownerGold);if(this._changeDownLabel(this.label_ownerValue.node,this._isWin),this._isWin){this.label_resultMultiple.string="X"+this._multiple;var t=this._ownerGold*this._multiple,i={startNum:0,targetNum:t,label:this.label_ownerValue,formatStr:"",callFunc:function(){this.label_ownerValue.string=G_TOOL.changeMoney(t)}.bind(this)};this.comp_scrollValue.scrollLabel(i)}else e="-"+e,this.label_resultMultiple.string="",this.label_ownerValue.string=e,this.label_ownerValue.node.color=this._loseColor}},_scrollCall:function(){},_setMultiple:function(){var e=this._multiple+"倍";this.label_multiple.string=e},_addOneGoldImg:function(){if(this._goldFrame){var e=this._curGoldNum/this._maxAdaptGold;e=Math.min(Math.max(e,.55),1);var t=G_TOOL.getRandomBool()?1:-1,i=G_TOOL.getRandomArea(0,this._maxGoldX*e)*t;t=G_TOOL.getRandomBool()?1:-1;var n=G_TOOL.getRandomArea(0,this._maxGoldY*e)*t,o=this._getGold();o.position=cc.p(0,0),o.runAction(cc.moveTo(.35,i,n)),this._curGoldNum+=1}},removeOneGoldImg:function(){var e=this.node_goldContainer.children[0];if(e){var t=this.getWorldPos(),i=cc.p(t.x+e.x,t.y+e.y);return this._removeGold(e),this._curGoldNum-=1,i}return null},_getGold:function(){this._pool||(this._pool=new cc.NodePool("Grab_oneTable"+this.num_result));var e=this._pool.get();if(!e){e=new cc.Node;var t=e.addComponent(cc.Sprite);t.spriteFrame=this._goldFrame}return e.parent=this.node_goldContainer,e.scale=1/this.node.parent.scale*this._goldScale,e.active=!0,e},_removeGold:function(e){e.stopAllActions(),e.active=!1,this._pool.put(e)},_clearGoldImg:function(){for(var e=this.node_goldContainer.children,t=0;t<e.length;t++)e[t].destroy();this._curGoldNum=0},setTouchEnable:function(e){e?this.node.on(cc.Node.EventType.TOUCH_START,this.OnClick_table,this):this.node.off(cc.Node.EventType.TOUCH_START,this.OnClick_table,this)},_changeDownLabel:function(e,t){t?(e.anchorX=1,e.x=.47*e.parent.width):(e.anchorX=.5,e.x=0)},getWorldPos:function(){var e=this.node.parent.position,t=this.node.parent.scale;return cc.p(e.x+this.node.x*t,e.y+this.node.y*t-.4*this.node.height)},getGoldCenterPos:function(){var e=this.node.parent.position,t=this.node.parent.scale;return cc.p(e.x+this.node.x*t,e.y+this.node.y*t-.2*this.node.height)},getResultType:function(){return this.num_result},setTableWin:function(){this._isWin=!0},getGrabGold:function(){return this._ownerGold*this._multiple},getLostGold:function(){return this._ownerGold},getLeaveGoldImg:function(){return this._curGoldNum}}),cc._RF.pop()},{}],Grab_playerBlock:[function(e,t,i){"use strict";cc._RF.push(t,"96991gtPcZLnLBL5qF9FsyE","Grab_playerBlock"),cc.Class({"extends":cc.Component,properties:{_siteImg:null,_chooseMoneyLevel:null,_dict_chooseMoney:null,_callFunc:null,_defaultHeadFrame:null,_seatMyselfComp:null,_data_betting:null,_goldValueEX:null,_isSending:null,_dict_choosed:null,_curGoldValue:null,_grabGold:null,_playerName:null,_grabTimes:null,_seatIndex:null,_resultChangeMoney:null,_playerID:null,_usableBalance:null,node_headImg:{"default":null,type:cc.Node,displayName:"头像"},label_playerName:{"default":null,type:cc.Label,displayName:"玩家名"},node_goldValue:{"default":null,type:cc.Node,displayName:"拥有金币"},_playerType:0,playerType:{set:function(e){this._playerType=e},get:function(){return this._playerType},type:G_TYPE.playerType,displayName:"玩家类型"},prefab_goldValue:cc.Prefab},onLoad:function(){this._init()},_init:function(){this._dict_chooseLevel=G_Config_grab.dict_moveGoldNum,this._goldValueCompName="Obj_goldResultEffect",this._chooseMoneyLevel=0},start:function(){},setPlayerData:function(e){e&&(this.node.active=!0,this.clearData(),e.coin>=0?this.setGoldValue(e.coin):this.setGoldValue(0),e.seatIndex&&(this._seatIndex=e.seatIndex),this._playerName=e.nickname,this._setPlayerName(this._playerName),G_TOOL.setHeadImg(this.node_headImg,e.icon),this._playerID=e.playerId,this._usableBalance=e.usableBalance)},setSelfInfo:function(e){e.chooseDict&&(this._dict_chooseMoney=e.chooseDict);var t=this.node.getChildByName("homeName");t&&e.roomName&&(t.getComponent(cc.Label).string=e.roomName)},clearData:function(){this._dict_choosed={},this._grabGold=0,this._goldValueEX=0,this._grabTimes=0,this._isSending=!1,this._data_betting=null,this._resultChangeMoney=null},_refreshGoldShow:function(){this.node_goldValue.getComponent(cc.Label).string=G_TOOL.changeMoney(this._curGoldValue)},doChoose:function(e,t){this._dict_choosed[e]?this._dict_choosed[e]+=t:this._dict_choosed[e]=t},touchGrabArea:function(e,t){var i=this._dict_chooseMoney[this._chooseMoneyLevel];if(this._callFunc=t,i>this._curGoldValue){var n={tipIndex:21};GG.tipsMgr.showTxtTip(n)}else if(G_Config_common.isLocal)e.startPos=this.getWorldPos(),this.forceGrabReturn(e,i,e.tableIndex);else{if(this._isSending)return;e.startPos=this.getWorldPos(),e.goldValue=i,this._data_betting=e;var o={matchId:GG.grabMgr.getMatchID(),type:G_TYPE.net_gameModule.grab,item:e.tableIndex+"_W",gold:i};this._isSending=!0,GG.socketMgr.SendMsg(NetType.s_doGrab,o),GG.socketMgr.registerLong(NetType.r_doGrab_return,this.net_grabReturn.bind(this))}},net_grabReturn:function(e){this._isSending=!1;var t=e.tip;if(t.code!=G_TYPE.serverCodeType.success){var i={tipIndex:19,retainTime:3,showStr:t.tip};return void GG.tipsMgr.showTxtTip(i)}if(t.code==G_TYPE.serverCodeType.matchNonExistent)return void GG.exitHome();if(t.code==G_TYPE.serverCodeType.betNotPermitCoin)return void GG.exitHome();if(t.code==G_TYPE.serverCodeType.betNotPermitBet)return void GG.exitHome();if(this._data_betting){var n=G_OBJ.data_grabBetting();for(var o in this._data_betting)o&&(n[o]=this._data_betting[o]);this._data_betting=null,n.goldValue=e.bet.gold,n.goldNum=parseInt(this._dict_chooseLevel[this._chooseMoneyLevel+1]),this.doChoose(n.tableIndex,n.goldNum),this._grabGold+=n.goldValue,this._goldValueEX+=n.goldValue,this.setGoldValue(e.nbSelf.balance),this._usableBalance=e.nbSelf.usableBalance,GG.grabMgr.getBtnsComp().refreshGrabOption(this.getGoldValue()),this._grabTimes+=1,this._callFunc&&(this._callFunc(n),this._callFunc=null)}},forceGrabReturn:function(e,t,i){e.goldValue=t,this._grabGold+=t,this._goldValueEX+=t,this.setGoldValue(this._curGoldValue-t);var n=parseInt(this._dict_chooseLevel[this._chooseMoneyLevel+1]);e.goldNum=n,this.doChoose(i,n),this._grabTimes+=1,this._callFunc&&(this._callFunc(e),this._callFunc=null)},setResultInfo:function(e,t){G_DATA.isNumber(t)&&(this._curGoldValue=t),this._resultChangeMoney=e},showResultGold:function(){return!!this._resultChangeMoney&&(this._refreshGoldShow(),this._showGoldCount(this._resultChangeMoney),!0)},_showGoldCount:function(e){if(e){var t=cc.instantiate(this.prefab_goldValue);t.parent=this.node,t.zIndex=2,t.getComponent(this._goldValueCompName).showGrabGold(e),t.scale=.1;var i,n;n=.3*this.node.width,this.playerType==G_TYPE.playerType.owner?i=this.node.scale:this.playerType==G_TYPE.playerType.others&&(i=this.node.parent.scale),this.node.x>cc.visibleRect.width/2&&(n*=-1);var o=G_Config_grab.time_goldOnHead,s=cc.moveTo(o,n,.4*this.node.height),a=cc.scaleTo(o,1),l=cc.delayTime(2*o);t.runAction(cc.sequence(cc.spawn(s,a),l,cc.callFunc(this._labelMoveEnd,this,e)))}},_labelMoveEnd:function(e,t){e.destroy()},_payGold:function(e){if(this._curGoldValue-=e,this._curGoldValue<=0){this._curGoldValue=0;var t=G_DATA.getChinese(21);if(t){({showStr:t.content,showPos:G_Config_common.bottomTipPos,retainTime:t.retainTime})}}},_setPlayerName:function(e){e||(e=""),e=G_TOOL.getNameLimit(e,10,!0),this.label_playerName.string=e},bindSeatMyself:function(e){this._seatMyselfComp=e},bindSiteImg:function(e){this._siteImg=e},resetShowGold:function(){this.setGoldValue(this._curGoldValue)},setGoldValue:function(e){this._curGoldValue=e,this.node_goldValue.getComponent(cc.Label).string=G_TOOL.changeMoney(e),this._seatMyselfComp&&this._seatMyselfComp.setGoldValue(e)},setPlayerType:function(e){this.playerType=e},reduceGoldEX:function(e){if(this._goldValueEX>=e)return this._goldValueEX-=e,0;var t=e-this._goldValueEX;return this._goldValueEX=0,t},getMoneyChooseDict:function(){return this._dict_chooseMoney},getPokerPoint:function(){return cc.p(this.node.x+this.node.width*this.node.scaleY*.7,this.node.y)},setChooseLevel:function(e){this._chooseMoneyLevel=e},getChooseLevel:function(){return this._chooseMoneyLevel},getWinGoldNum:function(e){return this._dict_choosed[e]},getAllGrabTable:function(){return this._dict_choosed},getWorldPos:function(){var e=this.node.parent.position;return cc.p(this.node.x+e.x,this.node.y+e.y)},getPlayerName:function(){return this._playerName},getGoldValue:function(){return this._curGoldValue},_getIsOverMaxGrabTimes:function(){return this._grabTimes>=GG.grabMgr.getMaxGrabTimes()},getSeatIndex:function(){return this._seatIndex},getIsGrab:function(){if(!this._dict_choosed)return!1;var e=0;for(var t in this._dict_choosed)if(e+=this._dict_choosed[t],e>0)break;return Boolean(e)},getIsBettingEnd:function(){return Boolean(this._grabGold)},getPlayerID:function(){return this._playerID},getIsShow:function(){return this.node.active},getUsableBalance:function(){return this._usableBalance},clearRecord:function(){this._grabGold=0,this._goldValueEX=0},hidePlayer:function(){this.node.active=!1},remove:function(){this.node.destroy()},onDestroy:function(){}}),cc._RF.pop()},{}],Grab_playersLayer:[function(e,t,i){"use strict";cc._RF.push(t,"e3d36NeeddC047NW/XvKcvH","Grab_playersLayer"),cc.Class({"extends":cc.Component,properties:{_playerNum:null,_dict_playerBlocks:null,_dict_playerByID:null,node_owner:cc.Node,node_system:cc.Node,node_playerContainer:{"default":null,type:cc.Node,displayName:"所有玩家容器"},prefab_playerBlock:cc.Prefab,comp_seatsContainer:{"default":null,type:e("Obj_seatsContainer"),displayName:"座位容器"}},onLoad:function(){this._init()},_init:function(){this._playerCompName="Grab_playerBlock",this._dict_playerBlocks={},this._dict_playerByID={},this._playerNum=0},setStartInfo:function(e,t,i){for(var n,o,s,a,l={},r=GG.getPlayer().getPlayerID(),c=e.length,_=0;_<c;_++)o=e[_],n=o.seatIndex,s=o.player,s.seatIndex=n,l[n]=s;for(var n in l){if(s=l[n],s&&(this._dict_playerByID[s.playerId]=n),s&&s.playerId==r)for(var h in s)"seatIndex"==h&&0==s[h]||(t[h]=s[h]);n<1||(a=this._addOnePlayer(n),a&&a.setPlayerData(s),s&&s.playerId==r&&this.getMyselfComp().bindSeatMyself(a))}for(var u=this.comp_seatsContainer.getSeatsNum(),_=0;_<u;_++)n=_+1,l[n]||this._removeOnePlayer(n);!isNaN(t.playerId)&&t.playerId>0&&this.showOwner(t),this.showSystem(i)},showOwner:function(e){this.getMyselfComp().setPlayerData(e),this.getMyselfComp().setSelfInfo(e),GG.grabMgr.initButtonInfo()},enterOnePlayer:function(e,t){var i=/^\+?[1-9][0-9]*$/;if(i.test(e)){t.seatIndex=e,this._hidePlayer(e,t.playerId);var n=this._addOnePlayer(e);n&&n.setPlayerData(t)}},showSystem:function(e){e.moneyChoose=0,this.node_system.getComponent(this._playerCompName).setPlayerData(e)},clearData:function(){},_hidePlayer:function(e,t){var i;for(var n in this._dict_playerBlocks)i=this._dict_playerBlocks[n],n==e||i&&i.getPlayerID()==t&&this._removeOnePlayer(n)},_addOnePlayer:function(e){var t=this._dict_playerBlocks[e];if(t)this.comp_seatsContainer.addOnePlayer(e);else{var i=cc.instantiate(this.prefab_playerBlock);i.parent=this.node_playerContainer;var n=G_TOOL.adaptSize(i.width,i.height);i.width=n.width,i.height=n.height;var o=this.comp_seatsContainer.addOnePlayer(e);i.position=G_TOOL.adaptPos(o);var t=i.getComponent(this._playerCompName);this._dict_playerBlocks[e]=t}return this._playerNum+=1,t},_removeOnePlayer:function(e){var t=this._dict_playerBlocks[e];t&&t.getIsShow()&&(t.hidePlayer(),this.comp_seatsContainer.onePlayerLeave(e),this._playerNum-=1)},_clearAllPlayer:function(){for(var e in this._dict_playerBlocks)this._removeOnePlayer(e)},setWinTableResult:function(e){var t,i,n=!1;for(var o in this._dict_playerBlocks)t=this._dict_playerBlocks[o],t.getIsShow()&&t.getPlayerID()!=GG.getPlayerID()&&(i=this._checkResult(e,t.getAllGrabTable(),t.getWorldPos()));i&&i.length>0&&(n=!0),GG.grabMgr.playResultGoldMove(i),t=this.getMyselfComp(),s=t.getAllGrabTable(),s&&(i=this._checkResult(e,s,t.getWorldPos()),i&&i.length>0&&(n=!0),GG.grabMgr.playResultGoldMove(i));var s=GG.grabMgr.getIdleBetting();s&&(i=this._checkResult(e,s,GG.grabMgr.getIdleBettingPos()),i&&i.length>0&&(n=!0),GG.grabMgr.playResultGoldMove(i));var s=GG.grabMgr.getTableContainer().getLeaveGoldImages();if(s){i=[];var a,l=this.getSystemComp().getWorldPos();for(var r in s)if(a=s[r]){var c=G_OBJ.data_flyGold_tableToPlayer();c.goldNum=a,c.tableIndex=r,c.targetPos=l,i.push(c)}i&&i.length>0&&(n=!0),GG.grabMgr.playResultGoldMove(i)}n&&GG.audioMgr.playSound(18)},_checkResult:function(e,t,i){var n,o,s=[];for(var a in e)if(n=e[a],o=t[n]){var l=G_OBJ.data_flyGold_tableToPlayer();l.goldNum=o,l.tableIndex=n,l.targetPos=i,s.push(l)}return s},showAllGoldResult:function(){var e,t,i;for(var n in this._dict_playerBlocks)e=this._dict_playerBlocks[n],e.getIsShow()&&(i=e.showResultGold(),t||(t=i));return i=this.getMyselfComp().showResultGold(),t||(t=i),t},setMyselfMoney:function(e,t){this.getMyselfComp().setResultInfo(e,t)},getCompByIndex:function(e){return this._dict_playerBlocks[e]},getPlayerByID:function(e){return this.getCompByIndex(this._dict_playerByID[e])},getMyselfComp:function(){return this.node_owner.getComponent(this._playerCompName)},getPokerPos:function(){return this.node_system.getComponent(this._playerCompName).getPokerPoint()},getSystemComp:function(){return this.node_system.getComponent(this._playerCompName)}}),cc._RF.pop()},{Obj_seatsContainer:"Obj_seatsContainer"}],Grab_pokerLayer:[function(e,t,i){"use strict";cc._RF.push(t,"7367eR4I8tHuLC3vrJVwjYL","Grab_pokerLayer"),cc.Class({"extends":cc.Component,properties:{_pokerShowPos:null,_pokerNum:null,_StartPos:null,_pokerW:null,_pokerH:null,_pokerOffX:null,_callFunc:null,_curResultNum:null,_list_pokers:null,_firstPokerIndex:null,prefab_poker:cc.Prefab,atlas_pokerResult:{"default":null,type:cc.SpriteAtlas,displayName:"显示牛几图集"},prefab_pokerResult:{"default":null,type:cc.Prefab,displayName:"显示牛几结果"}},onLoad:function(){this._init()},_init:function(){this._pokerCompName="Obj_poker",this._pokerResultCompName="Obj_onPokerResult",this._moveTime=G_Config_grab.time_pokerMove,this._delayTime=G_Config_grab.delayTime_pokerMove,this._openMoveTime=G_Config_grab.time_openMovePoker,this._winPokerOff=G_Config_grab.num_winPokerOff,this._maxPokerNum=5,this._pokerNum=0,this._list_pokers=[]},setStartInfo:function(e,t){this._StartPos=e,this._pokerShowPos=cc.p(t.x,t.y),this._pokerW&&(this._pokerShowPos=cc.p(this._pokerShowPos.x,this._pokerShowPos.y))},clearData:function(){this.node.stopAllActions(),this._pokerNum=0,this._flyNum=0;for(var e=0;e<this._maxPokerNum;e++)this._list_pokers[e]&&this._delOnePoker(this._list_pokers[e]);this._pokerResult&&(this._pokerResult.destroy(),this._pokerResult=null)},showPokerEX:function(e){if(e.isFlyEffect)this._showPokerEX(e);else{var t=this;setTimeout(function(){t._showPokerEX(e)},100)}},_showPokerEX:function(e){this._pokerShowPos=GG.grabMgr.getPokerShowPos(),this._curResultNum=e.pokerResult?e.pokerResult:0,this._flyNum=0;var t=e.pokerInfoList;if(t){var i;if(1==e.startPokerIndex)this._pokerNum=0,i=this._addOnePokerEX(0,t[0],e.isFlyEffect);else{this._firstPokerIndex=t[0].pokerIndex;for(var n=1;n<t.length;n++)i=this._addOnePokerEX(n,t[n],e.isFlyEffect)}i&&(i._flyCall=e.callFunc),GG.audioMgr.playSound(14)}},_addOnePokerEX:function(e,t,i){var n=this._list_pokers[e];return n||(n=this._createPoker(),n.zIndex=e,this._list_pokers[e]=n),this._resetPokerInfo(n,t.pokerIndex),n.getComponent(this._pokerCompName).clearAllActions(),n.getComponent(this._pokerCompName).showPokerNegative(),n.active=!0,i?(n.position=this._StartPos,this._addFlyAction(n,t.isOpen)):(this._addNoFly(n),t.isOpen&&n.getComponent(this._pokerCompName).showPokerPlus()),this._pokerNum+=1,this._flyNum+=1,n},_createPoker:function(){var e=new cc.instantiate(this.prefab_poker);return e.parent=this.node,e.active=!0,e},_resetPokerInfo:function(e,t){var i=G_DATA.getPokerInfo(t),n=e.getComponent(this._pokerCompName);n.setPokerInfo(i.pokerType,i.pokerValue,!1)},_addFlyAction:function(e,t){e.getComponent(this._pokerCompName);this._pokerW||this._setPokerConfigInfo(e);var i=cc.delayTime(this._delayTime*this._flyNum),n=cc.moveTo(this._moveTime,this._getTargetPos());e.runAction(cc.sequence(i,n,cc.callFunc(this._moveEnd,this,t)))},_addNoFly:function(e){this._pokerW||this._setPokerConfigInfo(e),e.position=this._getTargetPos()},_moveEnd:function(e,t){if(t){var i=e.getComponent(this._pokerCompName);i.openPoker()}e._flyCall&&(e._flyCall(),e._flyCall=null)},_setPokerConfigInfo:function(e){var t=e.getComponent(this._pokerCompName),i=t.getPokerSize();this._pokerW=i.width*e.scaleX,
this._pokerH=i.height*e.scaleX,this._pokerOffX=this._pokerW*G_Config_grab.num_pokerOffX,this._pokerShowPos=cc.p(this._pokerShowPos.x,this._pokerShowPos.y)},_resetFirstPokerInfo:function(){this._list_pokers[0]&&this._resetPokerInfo(this._list_pokers[0],this._firstPokerIndex)},openPokers:function(e){this._callFunc=e,this._resetFirstPokerInfo();var t,i,n,o,s=0,a=(this.node.children,0);this._curResultNum>0&&(a=this._winPokerOff);for(var l=0;l<this._list_pokers.length;l++)t=this._list_pokers[l],t&&(n=t.getComponent(this._pokerCompName),n.showPokerPlus(),this._pokerW||this._setPokerConfigInfo(t),o=this._pokerShowPos.x,l>2&&(o+=a),t.position=cc.p(o,this._pokerShowPos.y),this._actOpenPoker(t,s*this._pokerOffX),s+=1,i=t);i._callFunc=this._showResult.bind(this),GG.audioMgr.playSound(16)},_actOpenPoker:function(e,t){var i=cc.moveTo(this._openMoveTime,e.x+t,e.y);e.runAction(cc.sequence(i,cc.callFunc(function(e){e._callFunc&&(e._callFunc(),e._callFunc=null)},this)))},_showResult:function(){var e=this._curResultNum,t=0==e?12:e;GG.audioMgr.playSound(t);var i=cc.p(this._pokerShowPos.x+.65*this._pokerW,this._pokerShowPos.y),n=cc.instantiate(this.prefab_pokerResult);this.node.addChild(n,this.node.children.length),n.getComponent(this._pokerResultCompName).showResult(i,e,!0,this._showResultEnd.bind(this)),this._pokerResult=n},_showResultEnd:function(){this._callFunc&&(this._callFunc(),this._callFunc=null)},_getTargetPos:function(){return cc.p(this._pokerShowPos.x+this._pokerOffX*this._pokerNum,this._pokerShowPos.y)},_delOnePoker:function(e){e.getComponent(this._pokerCompName).clearAllActions(),e.getComponent(this._pokerCompName).showPokerNegative(),e.active=!1},getPokerNum:function(){return this._pokerNum}}),cc._RF.pop()},{}],Grab_tablesLayer:[function(e,t,i){"use strict";cc._RF.push(t,"e4ec3rqaY5I0qKUPfGwL5Fi","Grab_tablesLayer"),cc.Class({"extends":cc.Component,properties:{_dict_tables:null,frame_gold:{"default":null,type:cc.SpriteFrame,displayName:"金币图片"}},onLoad:function(){this._init()},_init:function(){if(this._talbeCompName="Grab_oneTable",!this._dict_tables){this._dict_tables={};for(var e=this.node.children,t=0;t<e.length;t++){var i=e[t].getComponent(this._talbeCompName);this._dict_tables[i.getResultType()]=i}}},setStartInfo:function(e){var t={};t=e;var i;for(var n in this._dict_tables)i=this._dict_tables[n],i.setInfo(this.frame_gold,n,t[n])},clearData:function(){for(var e in this._dict_tables)this._dict_tables[e].clearData()},touchOneTable:function(e,t){return this._dict_tables[e].otherAddGold(t)},setTouchEnable:function(e){for(var t in this._dict_tables)this._dict_tables[t].setTouchEnable(e)},setTableWin:function(e){var t=this._dict_tables[e];return t.setTableWin(!0),t.getWorldPos()},showOwnerGold:function(e){for(var t in e)this._dict_tables[t].showOwnerResult()},getTablePos:function(e){return this._dict_tables[e].getWorldPos()},getTable:function(e){return this._dict_tables[e]},getWinGold:function(e){var t=function(t){for(var i=0;i<e.length;i++)if(t==e[i])return!0;return!1},i=0,n=0;for(var o in this._dict_tables){var s=t(o);s?n+=this._dict_tables[o].getGrabGold():i+=this._dict_tables[o].getLostGold()}var a=n-i;return a},getLeaveGoldImages:function(){var e,t,i={};for(var n in this._dict_tables)e=this._dict_tables[n],t=e.getLeaveGoldImg(),e&&t>0&&(i[n]=t);return i}}),cc._RF.pop()},{}],Grab_topEffect:[function(e,t,i){"use strict";cc._RF.push(t,"cb93fp5RkNDeb3yh6PN0aG/","Grab_topEffect"),cc.Class({"extends":cc.Component,properties:{_aniCallFunc:null,_grabDoneCallFunc:null,_list_flags:null,node_aniContainer:{"default":null,type:cc.Node,displayName:"动画容器"},prefab_startAni:{"default":null,type:cc.Prefab,displayName:"开始动画"},prefab_winFlagAni:{"default":null,type:cc.Prefab,displayName:"赢钱旗帜"},prefab_grabDoneAni:{"default":null,type:cc.Prefab,displayName:"押注完成"}},onLoad:function(){},playGameStartAni:function(e){this.playStartAni("grab_start",e),GG.audioMgr.playSound(13)},playStartAni:function(e,t){e||(e=""),this._aniCallFunc=t,this._startGrabAni||(this._startGrabAni=cc.instantiate(this.prefab_startAni),this._startGrabAni.parent=this.node_aniContainer,this._startGrabAni.position=this._getStartAniPos(),this._startGrabAni.getComponent(dragonBones.ArmatureDisplay).addEventListener(dragonBones.EventObject.COMPLETE,this._startAniEnd,this)),this._startGrabAni.active=!0,this._startGrabAni.getComponent(dragonBones.ArmatureDisplay).playAnimation(e,1)},_startAniEnd:function(e){this._startGrabAni&&(this._startGrabAni.active=!1),this._aniCallFunc&&(this._aniCallFunc(),this._aniCallFunc=null)},forceStopStart:function(){this._startGrabAni&&(this._startGrabAni.active=!1),this._aniCallFunc=null},playTouchStartAni:function(e){this.playGrabAni("platform_bet",e)},playGrabDoneAni:function(e,t){this.playGrabAni("platform_betOver",e,t)},playGrabAni:function(e,t,i){e||(e=""),this._grabDoneCallFunc=t,this._grabDoneAni||(this._grabDoneAni=cc.instantiate(this.prefab_grabDoneAni),this._grabDoneAni.parent=this.node_aniContainer,this._grabDoneAni.position=this._getStartAniPos(),this._grabDoneAni.getComponent(dragonBones.ArmatureDisplay).addEventListener(dragonBones.EventObject.COMPLETE,this._grabDoneAniEnd,this)),this._grabDoneAni.pokerInfo=i,this._grabDoneAni.active=!0,this._grabDoneAni.getComponent(dragonBones.ArmatureDisplay).playAnimation(e,1)},_grabDoneAniEnd:function(e){this._grabDoneCallFunc&&(this._grabDoneCallFunc(this._grabDoneAni.pokerInfo),this._grabDoneCallFunc=null),this._grabDoneAni&&(this._grabDoneAni.active=!1)},_getStartAniPos:function(){var e=cc.visibleRect;return cc.p(e.width/2,.6*e.height)},playOneFlag:function(e){var t=this._getOneFlag();t.position=e,t.active=!0;var i=t.getComponent(dragonBones.ArmatureDisplay);i.playAnimation("",1)},clearFlag:function(){this.forceStopAllAni()},_getOneFlag:function(){return this._flagAni||(this._flagAni=cc.instantiate(this.prefab_winFlagAni),this._flagAni.parent=this.node_aniContainer),this._flagAni},forceStopAllAni:function(){for(var e,t=this.node_aniContainer.children,i=0;i<t.length;i++)e=t[i],e&&(e.active=!1);this._grabDoneCallFunc=null},clearAll:function(){this.forceStopStart(),this.forceStopAllAni(),this.node.stopAllActions()}}),cc._RF.pop()},{}],Grab_topLayer:[function(e,t,i){"use strict";cc._RF.push(t,"dcc54iGPEZLnrgK9grY01fm","Grab_topLayer"),cc.Class({"extends":e("AutoDealing"),properties:{node_startImg:cc.Node},onLoad:function(){this._registerStart()},_registerStart:function(){this.node_startImg&&(this.node_startImg.active=!0,this.registerButton(this.node_startImg,this.OnClick_startImg,this)),G_Config_common.isLocal||(this.node_startImg.active=!1)},OnClick_startImg:function(e){G_Config_common.isLocal?(this.node_startImg.active=!1,GG.grabMgr.forceStart()):GG.socketMgr.connectSocket(this._connectEnd.bind(this))},_connectEnd:function(e){e&&(this.node_startImg.active=!1,this._login())},_login:function(){var e={userId:GG.getPlayer().getPlayerID()};GG.socketMgr.SendMsg(NetType.s_login,e)},getTopEffect:function(){return this.getComponent("Grab_topEffect")}}),cc._RF.pop()},{AutoDealing:"AutoDealing"}],HTTPMgr:[function(e,t,i){"use strict";cc._RF.push(t,"d63f2BZmKhJNpeBm9NQSiKV","HTTPMgr");var n=cc.Class({_list_request:null,_isRequesting:null,_isAddHeart:null,_failTime:null,_time_timeOut:null,_timeOutID:null,_dict_longWait:null,_sessionID:null,properties:{},ctor:function(){this._list_request=[],this._isRequesting=!1,this._isAddHeart=!1,this._nativeHref=G_Config_common.nativeHref},sendHttpRequest:function(e,t,i,n){this.addHeart(),this._recordSend(e,t,i,n)},_recordSend:function(e,t,i,n){this._dict_sendRequest||(this._dict_sendRequest={});var o=G_OBJ.data_httpSend();o.url=e,o.sendData=t,o.callFunc=i,o.xhrType=n,this._dict_sendRequest[e]=o,this._isRequesting||this._doNext()},_doNext:function(){var e;for(var t in this._dict_sendRequest)if(e=this._dict_sendRequest[t]){this._sendRequest(e.url,e.sendData,e.callFunc,e.xhrType);break}},_sendRequest:function(e,t,i,n){var o=new XMLHttpRequest,s=this;o.onreadystatechange=function(){404==o.status?s._endRequest(e,null,i):s._receiveData(o,e,t,i)};var a=e;n||(n="POST"),cc.sys.isNative&&(a=this._nativeHref+e,o.setRequestHeader("User-Agent","Chrome")),o.open(n,a,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this._sessionID,o.send(t),this._isRequesting=!0,GG.getIsLoading()||GG.topTouchLayer.showNetRequest();var s=this;this._addTimeOut(function(){s._endRequest(e,null,i)})},_receiveData:function(e,t,i,n){if(4==e.readyState&&200==e.status){var o=e.responseText;if(t.indexOf("logout")>-1||t.indexOf("login")>-1)o=!0;else try{o=JSON.parse(e.responseText),this._checkLongWait(t,o)}catch(s){o=null}this._endRequest(t,o,n)}},_endRequest:function(e,t,i){var n=this._dict_sendRequest[e];n&&(n.callFunc&&(n.callFunc(t),n.callFunc=null),delete this._dict_sendRequest[e],this.getIsRequesting()||GG.topTouchLayer.closeNetRequest(),this._cancelTimeOut(),this._isRequesting=!1,this._doNext())},_addTimeOut:function(e){this._time_timeOut=6e3,this._timeOutID=setTimeout(function(){e&&(e(),e=null)},this._time_timeOut)},_cancelTimeOut:function(){G_DATA.isNumber(this._timeOutID)&&(clearTimeout(this._timeOutID),this._timeOutID=null)},getIsRequesting:function(){var e=!1;if(this._dict_sendRequest)for(var t in this._dict_sendRequest){e=!0;break}return e},addHeart:function(){if(!this._isAddHeart){this._isAddHeart=!0;var e=this;setInterval(function(){e.timedRefresh()},9e5)}},timedRefresh:function(){this.sendHttpRequest(G_DIALOG_URL.timedRefreshUrl,{t:new Date},function(e){}.bind(this))},addLongRequestWait:function(e,t,i){this._dict_longWait||(this._dict_longWait={});var n=G_OBJ.data_httpSend();n.url=e,n.sendData=t,n.callFunc=i,this._dict_longWait[e]=n},_checkLongWait:function(e,t){if(this._dict_longWait&&this._dict_longWait[e]&&t&&!this._dict_sendRequest[e]){var i=this._dict_longWait[e];i&&i.callFunc&&(i.callFunc(t),i.callFunc=null),delete this._dict_sendRequest[e]}}});t.exports=n,cc._RF.pop()},{}],LocalStorage:[function(e,t,i){"use strict";cc._RF.push(t,"c685clodkBDvq7dP/zD+XPG","LocalStorage"),window.G_Storage={setData:function(e,t){cc.sys.localStorage.setItem(e,t)},delData:function(e){cc.sys.localStorage.removeItem(e)},getData:function(e){return cc.sys.localStorage.getItem(e)}},cc._RF.pop()},{}],M_Player:[function(e,t,i){"use strict";cc._RF.push(t,"20f361J4TtC0qM5pIHpvoN4","M_Player");var n=cc.Class({_playerID:null,_playerToken:null,_playerName:null,_playerUID:null,_playerGold:null,_dict_systemSet:null,_dict_baseInfo:null,_inHomeData:null,_outHomeData:null,_reloadSceneInfo:null,ctor:function(){},setPlayerToken:function(e){this._playerToken=e.token,this._playerUID=e.uid},setPlayerID:function(e){this._playerID=e},setPlayerName:function(e){this._playerName=e},setSystemSet:function(e){this._dict_systemSet=e},setBaseInfo:function(e){if(e){this._dict_baseInfo||(this._dict_baseInfo={});var t=e.data[0];if(t)for(var i in t)switch(this._dict_baseInfo[i]=t[i],i){case"id":this.setPlayerID(t[i]);break;case"coin":var n=G_OBJ.data_nbSelf();n.balance=t[i],this.setPlayerGold(n)}}},setInHomeData:function(e){this._inHomeData=e},setOutHomeData:function(e){this._outHomeData=e},setReloadSceneInfo:function(e){this._reloadSceneInfo=e},setPlayerGold:function(e){this._playerGold=parseInt(e.balance),GG.Listener.dispatchEventEX(G_TYPE.globalListener.playerGold,e)},getPlayerGold:function(){return this._playerGold},getPlayerID:function(){return this._playerID},getPlayerToken:function(){return this._playerToken},getPlayerName:function(){return this._dict_baseInfo.nickname},getSystemSet:function(){return this._dict_systemSet},getBaseInfo:function(){return this._dict_baseInfo},getHeadImgUrl:function(){return this._dict_baseInfo.avatarUrl},getInHomeData:function(){var e=this._inHomeData;return this._inHomeData=null,e},getOutHomeData:function(){var e=this._outHomeData;return this._outHomeData=null,e},getUID:function(){return this._playerUID},getGameID:function(){return 1},getReloadSceneInfo:function(){var e=this._reloadSceneInfo;return this._reloadSceneInfo=null,e},whenExit:function(){}});t.exports=n,cc._RF.pop()},{}],M_TopRequestLayer:[function(e,t,i){"use strict";cc._RF.push(t,"c00f2NCfttC5ZCmK/i2hKQW","M_TopRequestLayer"),t.exports=cc.Class({properties:{_ani:null,_isLoading:null},ctor:function(){this._isLoading=!1},showNetRequest:function(e){var t=this;this._getRequestAni(function(i){if(i&&!i.active){i.active=!0,t._showReconnectTip(i,e);var n=i.getChildByTag(1);if(n){var o=n.getComponent(dragonBones.ArmatureDisplay);o&&o.playAnimation("")}}})},closeNetRequest:function(){this._getRequestAni(function(e){e&&(e.active=!1)})},_getRequestAni:function(e){var t=cc.find("Canvas/layer_loadingRequest");if(t&&e)e(t),e=null;else{if(this._isLoading)return;var i=this;this._isLoading=!0,cc.loader.loadRes("ani_prefab/Prefab_simpleLoading",cc.Prefab,function(n,o){if(o){var s=cc.find("Canvas");t=new cc.Node,t.setContentSize(cc.visibleRect.width,cc.visibleRect.height),s.addChild(t,3),t.setName("layer_loadingRequest"),i.addTouchLimit(t);var a=cc.instantiate(o);a.y=.2*cc.visibleRect.height,t.addChild(a,1,1)}i._isLoading=!1,e&&(e(t),e=null)})}},getIsShow:function(){var e=cc.find("Canvas/layer_loadingRequest");return Boolean(e&&e.active)},_showReconnectTip:function(e,t){var i=e.getChildByTag(2);i||(i=new cc.Node,i.addComponent(cc.Label),i.y=.1*-cc.visibleRect.height,e.addChild(i,0,2));var n;if(t){var o=G_DATA.getChinese(61);n=o.content}else n="";i.getComponent(cc.Label).string=n},addTouchLimit:function(e){e||(e=cc.find("Canvas/layer_loadingRequest")),e&&e.on(cc.Node.EventType.TOUCH_START,this._touchThisLayer,this)},_touchThisLayer:function(){},cancelTouchLimit:function(e){e||(e=cc.find("Canvas/layer_loadingRequest")),e&&e.off(cc.Node.EventType.TOUCH_START,this._touchThisLayer,this)}}),cc._RF.pop()},{}],NetConfig:[function(e,t,i){"use strict";cc._RF.push(t,"e648ajm8FRKKbTsCIIs0DrC","NetConfig");var n={s_login:"NbLogin",s_enterHouse:"NbIntoRoomIn",r_tips:"NbTip",r_enterHouseReturn:"NbIntoRoomOut",r_idleTimeOut:"NbTimeoutOut",s_doGrab:"NbBet",r_getAnnouncement:"NbGameAnnouncement",r_passiveOut:"NbKickOut",r_nbSelf:"NbSelf",s_calculating:"NbClassicCounting",s_grabDealerOrSetScore:"NbClassicMultipleIn",r_setScoreEnd:"NbClassicBetMultipleOverOut",r_grabDealerEnd:"NbClassicDealerMultipleOverOut",r_getPlayersInfo:"NbClassicInitializeOut",r_oneGrab:"NbClassicMultipleOut",r_startInfo:"NbClassicNewMatchOut",r_oneInsert:"NbClassicSeatOut",r_calculateEnd:"NbClassicSettleOut",r_grab_reStartGame:"NbBullBaoStartMatchOut",r_doGrab_return:"NbBetOut",r_otherGrab:"NbBetBatchOut",r_grabEnd:"NbSettleMatchOut",r_mineHaveGrab:"NbSettlePlayerOut",r_oneInHome:"NbSeatOut",s_grab_Exit:"NbExitRoomIn",r_grab_exitReturn:"NbExitRoomOut",r_bull100_reStartGame:"NbStartMatchOut",s_bull100_dealerUp:"NbUpDealerIn",s_bull100_dealerContinue:"NbKeepDealerIn",s_bull100_dealerDown:"NbDownDealerIn",s_bull100_getDealerList:"NbUpDealerListIn",r_bull100_dealerDownWarning:"NbWarningDealerOut",r_bull100_dealerListReturn:"NbUpDealerOut",r_bull100_downDealerReturn:"NbDownDealerOut"};window.NetType=n,cc._RF.pop()},{}],Obj_calculateResult:[function(e,t,i){"use strict";cc._RF.push(t,"ef458IN8zhBxrU698dYUZ8d","Obj_calculateResult"),cc.Class({"extends":cc.Component,_choosePokerNum:null,properties:{_tip_trueResult:null,_callFunc:null,label_01:cc.Label,label_02:cc.Label,label_03:cc.Label,label_04:cc.Label},onLoad:function(){this._choosePokerNum=0,this._list_label=[this.label_01,this.label_02,this.label_03,this.label_04]},showCalculate:function(){this.node.active=!0},chooseOnePoker:function(e){if(this._choosePokerNum>=G_Config_classic.num_maxChoose)return!1;if(this._list_label[this._choosePokerNum].string=e.toString(),this._choosePokerNum+=1,this._choosePokerNum>=G_Config_classic.num_maxChoose){var t=this._getResult();this._list_label[this._choosePokerNum].string=t.toString()}return!0},cancelOnePoker:function(){this._tip_trueResult&&(this._tip_trueResult.forceEnd(),this._tip_trueResult=null),this._choosePokerNum-=1,this._list_label[this._choosePokerNum].string="",this._list_label[G_Config_classic.num_maxChoose].string=""},_getResult:function(){for(var e=0,t=0;t<this._choosePokerNum;t++)e+=parseInt(this._list_label[t].string);return e},_checkCalculate:function(e){},_countDownEnd:function(){this._tip_trueResult=null,this._callFunc&&this._callFunc()},showTrueResult:function(e,t){if(!(this._choosePokerNum<G_Config_classic.num_maxChoose)){this._callFunc=t;var i=this._getResult();if(i%10==0){var n=G_DATA.getChinese(17),o=G_DATA.getChinese(16),s=o.content.split(","),a=G_TOOL.formatStr(n.content,s[e]),l={showStr:a,showPos:cc.p(this.node.x,this.node.y+this.node.height),retainTime:n.retainTime,callBack:this._countDownEnd.bind(this)};this._tip_trueResult=GG.tipsMgr.showCountDownTip(l)}}},showOverTouch:function(){var e=G_DATA.getChinese(5),t={showStr:e.content,showPos:cc.p(this.node.x,this.node.y+this.node.height),retainTime:e.retainTime,callBack:this._showCountDown.bind(this)};GG.tipsMgr.showTxtTip(t),this._hideCountDown()},_showCountDown:function(){this._tip_trueResult&&this._tip_trueResult.showByOpacity()},_hideCountDown:function(){this._tip_trueResult&&this._tip_trueResult.hideByOpacity()},hideCalculate:function(){this.node.active&&(this._tip_trueResult&&(this._tip_trueResult.forceEnd(),this._tip_trueResult=null),this.onClear(),this.node.active=!1)},onClear:function(){for(var e=0;e<this._list_label.length;e++)this._list_label[e].string="";this._choosePokerNum=0}}),cc._RF.pop()},{}],Obj_cell_trend:[function(e,t,i){"use strict";cc._RF.push(t,"e1879pYLx1Gf6hjS0kLc/eK","Obj_cell_trend"),cc.Class({"extends":cc.Component,properties:{_list_labelSort:null},onLoad:function(){this._failColor=new cc.Color(187,111,110),this._winColor=new cc.Color(58,185,250),this._failStr="小",this._winStr="大",this._list_labelSort={};var e=this.node.children;this._list_labelSort[G_TYPE.pokerTypeStr.spade]=e[0],this._list_labelSort[G_TYPE.pokerTypeStr.heart]=e[1],this._list_labelSort[G_TYPE.pokerTypeStr.club]=e[2],this._list_labelSort[G_TYPE.pokerTypeStr.diamond]=e[3]},setData:function(e){e||(e=[["SPADE",1],["DIAMOND",0],["CLUB",1],["HEART",0]]);for(var t=(this.node.children,0);t<e.length;t++)this._setLabelResult(this._list_labelSort[e[t][0]],parseInt(e[t][1]))},_setLabelResult:function(e,t){t?(e.color=this._winColor,e.getComponent(cc.Label).string=this._winStr):(e.color=this._failColor,e.getComponent(cc.Label).string=this._failStr)}}),cc._RF.pop()},{}],Obj_coinEffect:[function(e,t,i){"use strict";cc._RF.push(t,"0f796fh/rJIb4s54HJEIHLg","Obj_coinEffect"),cc.Class({"extends":cc.Component,properties:{_coinAni:null},onLoad:function(){this._initPlayCoinAni()},_initPlayCoinAni:function(){this._coinAni||(this._coinAni=this.node.getComponent(dragonBones.ArmatureDisplay),this._coinAni.addEventListener(dragonBones.EventObject.COMPLETE,this._playCoinsEffectAni,this)),this._coinAni.playAnimation("coins",1)},_playCoinsEffectAni:function(){this.node.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){this._initPlayCoinAni()},this)))},onDestroy:function(){this.node.stopAllActions()}}),cc._RF.pop()},{}],Obj_confirmTip:[function(e,t,i){"use strict";cc._RF.push(t,"953a2PNGbdKQpEu8W0IIJ5g","Obj_confirmTip"),cc.Class({"extends":e("AutoDealing"),properties:{_callFunc:null,_callFunc2:null,_registerFunc:null,_isPlayEffect:null,label_center:cc.Label,node_left:cc.Node,node_right:cc.Node,node_center:cc.Node,node_grayLayer:cc.Node},onLoad:function(){this._showTime=G_Config_common.time_confirmTipShow/2,this._maxScale=G_Config_common.scale_confirmTipMax,this._touchCompName="Obj_touchLimit",this._isPlayEffect=!1},showContent:function(e,t,i){this._callFunc=t,this._callFunc2=i,this.node.active=!0,this._showOneBtn(!1),this._setContent(e),this._showEffect(!0),this.node_grayLayer.getComponent(this._touchCompName).addTouchLimit(),this._registerFunc&&this._registerFunc(!0)},showContentEx:function(e,t){this._callFunc=t,this.node.active=!0,this._showOneBtn(!0),this._setContent(e),this._showEffect(!0),this.node_grayLayer.getComponent(this._touchCompName).addTouchLimit(),this._registerFunc&&this._registerFunc(!0)},Btn_touchLeft:function(e){this._isPlayEffect||(this._callFunc2=null,this._showEffect(!1))},Btn_touchRight:function(e){this._isPlayEffect||(this._callFunc=null,this._showEffect(!1))},Btn_touchCenter:function(e){this._isPlayEffect||this._showEffect(!1)},_showEffect:function(e){this._isPlayEffect=!0;var t=this.node_center.parent;if(t.stopAllActions(),e){t.scale=0;var i=cc.scaleTo(this._showTime,this._maxScale),n=cc.scaleTo(this._showTime/2,1);t.runAction(cc.sequence(i,n,cc.callFunc(function(){this._isPlayEffect=!1},this)))}else{t.scale=1;var i=cc.scaleTo(this._showTime/2,this._maxScale),n=cc.scaleTo(this._showTime,.5);t.runAction(cc.sequence(i,n,cc.callFunc(function(){this._isPlayEffect=!1,this._removePage()},this)))}},playFrameEffect:function(e){var t=.2;e.scale=0,e.stopAllActions(),void 0===e._firstX&&(e._firstX=e.x),void 0===e._firstY&&(e._firstY=e.y);var i=cc.moveBy(t,.2*-cc.visibleRect.width,0),n=cc.scaleTo(t,.5),o=cc.rotateTo(t,0,90),s=cc.spawn(i,n,o),a=cc.sequence(s,cc.callFunc(this._playFrameEffect2,this));e.runAction(a)},_playFrameEffect2:function(e){var t=.5;e.rotationY=-90;var i=cc.moveTo(t,e._firstX,e._firstY),n=cc.scaleTo(t,1),o=cc.rotateTo(t,0,0),s=cc.spawn(i,n,o),a=cc.sequence(s,cc.callFunc(this.frameEffectEnd,this));e.runAction(a)},frameEffectEnd:function(){this._isPlayEffect=!1},_setContent:function(e){e=e.replace(",","\n"),e=e.replace("，","\n"),this.label_center.string=e},_showOneBtn:function(e){this.node_right.active=!e,this.node_left.active=!e,this.node_center.active=e},_removePage:function(){this._registerFunc&&this._registerFunc(!1),this._callFunc&&(this._callFunc(),this._callFunc=null),this._callFunc2&&(this._callFunc2(),this._callFunc2=null),this.node_grayLayer.getComponent(this._touchCompName).cancelTouchLimit(),this.node.active=!1},closePage:function(){this._callFunc=null,this._callFunc2=null,this._showEffect(!1)},registerFunc:function(e,t){t?this._registerFunc=e:this._registerFunc=null}}),cc._RF.pop()},{AutoDealing:"AutoDealing"}],Obj_countDownProgress:[function(e,t,i){"use strict";cc._RF.push(t,"9bcf6jOxYNHGon7BRMofV/U","Obj_countDownProgress"),cc.Class({"extends":cc.Component,_firstFrame:null,_callFunc:null,properties:{node_progress:cc.Node,frame_timeImage1:cc.SpriteFrame,frame_timeImage2:cc.SpriteFrame,label_count:cc.Label,font_green:cc.Font,font_orange:cc.Font,font_red:cc.Font},onLoad:function(){},_initData:function(){this._firstFrame=this.node_progress.getComponentInChildren(cc.Sprite).spriteFrame,this._progressBarSprite=this.node_progress.getComponentInChildren(cc.Sprite),this._progressComp=this.node_progress.getComponent(cc.ProgressBar)},showCountDown:function(e,t){this._firstFrame||this._initData(),isNaN(e)||(this.node.active=!0,this.node_progress.children[0].active=!0,this._callFunc=t,this._runTime=0,this._interval=.97,this._speedRate=1,this._curTime=e,this._firstTime=Math.min(Math.ceil(this._curTime*G_Config_classic.list_centerProgressTime[0]),this._curTime-1),this._secondTime=Math.max(Math.floor(this._curTime*G_Config_classic.list_centerProgressTime[1]),1),this._progressInterval=1/this._curTime,this._curTime+=1,this._runTime=this._interval,this._clearLabels(),this._progressComp.progress=1,this.schedule(this._let_update,.01))},_let_update:function(e){this._progressComp.progress-=this._progressInterval*e,this._runTime>=this._interval?(this._runTime=0,this._setNumImg()):this._runTime+=e},_setNumImg:function(){this._curTime-=1,this._curTime<=this._firstTime?this._curTime<=this._secondTime?this._curTime<=0?(this._callFunc&&this._callFunc(),this._callFunc=null,this._endSchedule()):(this._progressBarSprite.spriteFrame=this.frame_timeImage2,this.label_count.font=this.font_red,this.label_count.string=this._curTime):(this._progressBarSprite.spriteFrame=this.frame_timeImage1,this.label_count.font=this.font_orange,this.label_count.string=this._curTime):(this._progressBarSprite.spriteFrame=this._firstFrame,this.label_count.font=this.font_green,this.label_count.string=this._curTime)},_endSchedule:function(){this._curTime=0,this._progressComp.progress=0,this.unschedule(this._let_update),this.node.active=!1},getLeaveTime:function(){return this._curTime},forceEnd:function(){var e=this._callFunc;return this._callFunc=null,this._curTime=0,this._runTime=this._interval,e},_clearLabels:function(){this.label_count.string=""},onDestory:function(){this.unschedule(this._let_update)}}),cc._RF.pop()},{}],Obj_dealScroll:[function(e,t,i){"use strict";cc._RF.push(t,"a9194v8KDNAMoLVXJItM1QP","Obj_dealScroll");cc.Class({"extends":cc.Component,properties:{_itemPrefab:null,_showItemNum:null,_itemHeight:null,_itemWidth:null,_itemOffX:null,_itemOffY:null,_pool:null,_scrollType:null,_viewW2:null,_lineNum:null},onLoad:function(){this._itemOffY=0,this._itemOffX=0},setData:function(e){this._initData(),this._itemPrefab=e.itemPrefab,this._lineNum=e.lineNum,this._scrollType=e.scrollType,this._scrollType||(this._scrollType=G_TYPE.scrollType.vertical)},_initData:function(){this._showItemNum=0,this._itemHeight=null,this._itemWidth=null,this._viewW2||(this._viewW2=.5*this.node.parent.width)},addOneItem:function(){var e=this._getOnePoolNode();switch(this._scrollType){case G_TYPE.scrollType.vertical:e.y=-this._showItemNum*(this._itemHeight+this._itemOffY);break;case G_TYPE.scrollType.horizontal:var t=-this._viewW2;e.x=t+this._showItemNum*(this._itemWidth+this._itemOffY);break;case G_TYPE.scrollType.bag:var i,t=-this._viewW2;i=0==this._showItemNum?0:this._showItemNum%this._lineNum;var n=Math.floor(this._showItemNum/this._lineNum);e.x=t+i*(this._itemWidth+this._itemOffY)+this._itemWidth/2,e.y=-n*(this._itemHeight+this._itemOffX)}return this._showItemNum+=1,this._resetContainerSize(),e},getItemByIndex:function(e){var t=this.node.children,i=t[e];return i?i:this.addOneItem()},getAllItems:function(){return this.node.children},clearItems:function(e){for(var t=this.node.children,i=t.length-1;i>e;i--)t[i]&&this._removePoolNode(t[i])},setContentSize:function(e,t){e&&(this.node.width=e),t&&(this.node.height=t)},_getOnePoolNode:function(){if(!this._itemPrefab)return null;this._pool||(this._pool=new cc.NodePool("Obj_dealScroll"+this._itemPrefab.name));var e=this._pool.get();return e||(e=cc.instantiate(this._itemPrefab),this._itemHeight||(this._itemHeight=e.height),this._itemWidth||(this._itemWidth=e.width)),e.parent=this.node,e.active=!0,e},_removePoolNode:function(e){this._pool.put(e),this._showItemNum-=1,this._resetContainerSize()},_resetContainerSize:function(){var e,t;switch(this._scrollType){case G_TYPE.scrollType.vertical:t=this._itemWidth+this._itemOffX,e=this._showItemNum*(this._itemHeight+this._itemOffY);break;case G_TYPE.scrollType.horizontal:t=this._showItemNum*(this._itemWidth+this._itemOffX),e=this._itemHeight+this._itemOffY;break;case G_TYPE.scrollType.bag:t=this._lineNum*(this._itemWidth+this._itemOffX);var i=Math.ceil(this._showItemNum/this._lineNum);e=i*(this._itemHeight+this._itemOffY)}this.node.height=e,this.node.width=t},getShowItemNum:function(){return this._showItemNum},getScrollView:function(){return this.node.parent.parent.getComponent(cc.ScrollView)},registerBottomEvent:function(){},getNextPageList:function(e,t){return e.splice(0,t)},getPageNoByNum:function(e,t){var i=Math.floor(e/t);return e>i*t&&(i+=1),i},scrollToUp:function(){this.getScrollView().scrollToTop(.2)},onDestroy:function(){this._pool&&this._pool.clear()}}),cc._RF.pop()},{}],Obj_dealerListCell:[function(e,t,i){"use strict";cc._RF.push(t,"687f8AC+TdI2q0s9AnuqZPO","Obj_dealerListCell"),cc.Class({"extends":cc.Component,properties:{_dealerWord:null,node_head:{"default":null,type:cc.Node,displayName:"头像"},label_name:{"default":null,type:cc.Label,displayName:"名字"},label_gold:{"default":null,type:cc.Label,displayName:"金币"},prefab_dealerAni:{"default":null,type:cc.Prefab,displayName:"庄字动画"}},onLoad:function(){},setData:function(e){G_TOOL.setHeadImg(this.node_head,e.headImg),this._setPlayerName(e.name),this._setGoldValue(e.gold),e.isDealer?this._addDealerWord():this._delDealerWord()},_setPlayerName:function(e){e=e?G_TOOL.getNameLimit(e):"",this.label_name.string=e},_setGoldValue:function(e){e||(e=0),this.label_gold.string=G_TOOL.changeMoney(e)},_addDealerWord:function(){this._dealerWord=cc.instantiate(this.prefab_dealerAni),this._dealerWord.parent=this.node,this._dealerWord.position=cc.p(.05*-this.node.width,.5*-this.node.height)},_delDealerWord:function(){this._dealerWord&&this._dealerWord.destroy()}}),cc._RF.pop()},{}],Obj_dealerListSlider:[function(e,t,i){"use strict";cc._RF.push(t,"7110ckrbJVGjadOXy4EREkS","Obj_dealerListSlider"),cc.Class({"extends":cc.Component,properties:{_sliderComp:null,_ui_moveNum:null,_label_moveNum:null,_oneWordWidth:null,_offNum:null,_curMoveNum:null,_handleNode:null,_idleMoney:null,node_lightLine:{"default":null,type:cc.Node,displayName:"进度条"},node_touchLimit:{"default":null,type:cc.Node,displayName:"进度条触摸吞噬层"}},onLoad:function(){this._sliderComp=this.node.getComponent(cc.Slider),this._baseWordNum=4.5,this._time_numHide=2,this._addSliderEvent(),this._initMoveNum(),this._resetLightLine()},_addSliderEvent:function(){this._sliderComp.node.on("slide",this._sliderMove,this),this._sliderComp.node.on(cc.Node.EventType.TOUCH_END,this.sliderEnd,this);var e=this.node.getChildByName("Handle");if(e){e.getComponent(cc.Button);e.on(cc.Node.EventType.TOUCH_CANCEL,this.sliderEnd,this)}},_initMoveNum:function(){var e=this.node.getChildByName("Handle");e.children.length>0&&(this._ui_moveNum=e.children[0],this._label_moveNum=this._ui_moveNum.children[0].getComponent(cc.Label),this._oneWordWidth=this._ui_moveNum.width/this._baseWordNum)},setData:function(e,t,i){if(!e)return void this._setTouchLimit(!0);this._playerGold=e,this._offNum=t,this._minNum=i,this._idleMoney=this._playerGold-this._minNum;var n;this._playerGold<this._minNum?(this._setTouchLimit(!0),n=this._minNum,this._setGoldProgress(0)):this._playerGold<this._minNum+this._offNum?(this._setTouchLimit(!0),this._setGoldProgress(1),this._resetLightLine(),n=this._minNum):(this._setTouchLimit(!1),n=this._minNum,this._setGoldProgress(0)),this._setUIMoveNum(n),this._setMoveNumShow(!0),this._isShow=!0},_sliderMove:function(e){this._resetLightLine();var t=this._idleMoney*this._sliderComp.progress,i=Math.floor(t/this._offNum)*this._offNum;this._setUIMoveNum(i+this._minNum),this._setMoveNumShow(!0)},sliderEnd:function(){this._addTimeHide()},_setGoldProgress:function(e){this._sliderComp.progress=e,this._resetLightLine()},_resetLightLine:function(){this.node_lightLine.width=this.node.width*this._sliderComp.progress},_setUIMoveNum:function(e){this._curMoveNum=e,e+="";var t=e.length;this._ui_moveNum.width=t*this._oneWordWidth,this._label_moveNum.string=e},getMoveNum:function(){return this._curMoveNum},_setMoveNumShow:function(e){this._ui_moveNum&&(this._ui_moveNum.stopAllActions(),e?(this._ui_moveNum.opacity=255,this._ui_moveNum.active=!0):this._ui_moveNum.active=!1)},_addTimeHide:function(){this._ui_moveNum&&(this._ui_moveNum.stopAllActions(),this._ui_moveNum.runAction(cc.sequence(cc.fadeOut(this._time_numHide),cc.callFunc(function(){this._setMoveNumShow(!1)},this))))},_setTouchLimit:function(e){e?(this.node_touchLimit.active=!0,this.node_touchLimit.on(cc.Node.EventType.TOUCH_START,this._onClick_Touch,this)):(this.node_touchLimit.off(cc.Node.EventType.TOUCH_START,this._onClick_Touch,this),this.node_touchLimit.active=!1)},_onClick_Touch:function(){}}),cc._RF.pop()},{}],Obj_dealerWordEffect:[function(e,t,i){"use strict";cc._RF.push(t,"f34b9gL6nxOYr0lRtDl0NMD","Obj_dealerWordEffect"),cc.Class({"extends":cc.Component,properties:{_dealerWordAni:null},onLoad:function(){},playDealerWordAni:function(){this._dealerWordAni||(this._dealerWordAni=this.node.getComponent(dragonBones.ArmatureDisplay),this._dealerWordAni.addEventListener(dragonBones.EventObject.COMPLETE,this._playDealerWordEffectAni,this)),this.node.active=!0,this._dealerWordAni.playAnimation("zhuang_mark_2",1)},_playDealerWordEffectAni:function(){this._dealerWordAni.playAnimation("zhuang_mark_1",0);
},clearDealerWordAni:function(){this.node&&(this.node.active=!1)}}),cc._RF.pop()},{}],Obj_dialogAccountCell:[function(e,t,i){"use strict";cc._RF.push(t,"f1326nfQM5IboIc/NP0kvBu","Obj_dialogAccountCell"),cc.Class({"extends":cc.Component,properties:{label_time:{"default":null,type:cc.Label,displayName:"充值时间"},label_type:{"default":null,type:cc.Label,displayName:"操作类型"},label_money:{"default":null,type:cc.Label,displayName:"金额"},label_balance:{"default":null,type:cc.Label,displayName:"余额"}},onLoad:function(){},setData:function(e){this._setTime(e.completiontime),this._setType(e.transactiontype),this._setChangeMoney(e.transactionmoney),this._setBalance(e.balance)},_setType:function(e){this._recordFirstColor(this.label_type.node);var t,i;"DEPOSIT"!=e?(t=this._getFontColor(),i=G_CHINESE.turnOut):(t=this._getFirstColor(this.label_type.node),i=G_CHINESE.recharge),this.label_type.node.color=t,this.label_type.string=i},_setChangeMoney:function(e){this._recordFirstColor(this.label_money.node);var t;t=e<0?this._getFontColor():this._getFirstColor(this.label_money.node),this.label_money.node.color=t,this.label_money.string=e},_setTime:function(e){this.label_time.string=e},_setBalance:function(e){e||(e=0),this.label_balance.string=e},_recordFirstColor:function(e){void 0===e._firstColor&&(e._firstColor=e.color)},_getFirstColor:function(e){return e._firstColor?e._firstColor:e.color},_getFontColor:function(){return this._fontsColor||(this._fontsColor=new cc.Color(255,0,0)),this._fontsColor}}),cc._RF.pop()},{}],Obj_dialogPlayerListCell:[function(e,t,i){"use strict";cc._RF.push(t,"06af7RA1NNLNZrMIRx0CFe8","Obj_dialogPlayerListCell"),cc.Class({"extends":cc.Component,properties:{node_head:{"default":null,type:cc.Node,displayName:"头像"},label_name:{"default":null,type:cc.Label,displayName:"名字"},label_gold:{"default":null,type:cc.Label,displayName:"金币"}},onLoad:function(){},setData:function(e){G_TOOL.setHeadImg(this.node_head,e.avatarUrl),this._setPlayerName(e.nickname),this._setGoldValue(e.coin)},_setPlayerName:function(e){e=e?G_TOOL.getNameLimit(e,10):"",this.label_name.string=e},_setGoldValue:function(e){e=e?G_TOOL.changeMoney(e):0,this.label_gold.string=e}}),cc._RF.pop()},{}],Obj_dialogRecordCell:[function(e,t,i){"use strict";cc._RF.push(t,"3006d3TqmhAraFdhAM3/ALl","Obj_dialogRecordCell"),cc.Class({"extends":cc.Component,properties:{label_time:{"default":null,type:cc.Label,displayName:"对局时间"},label_roomType:{"default":null,type:cc.Label,displayName:"房间类型"},label_roomName:{"default":null,type:cc.Label,displayName:"房间名称"},label_bet:{"default":null,type:cc.Label,displayName:"押注"},label_result:{"default":null,type:cc.Label,displayName:"结果"},label_outCome:{"default":null,type:cc.Label,displayName:"胜负"}},onLoad:function(){},setData:function(e){this._setTime(e.confirmtime),this._setRoom(e.gamemodelname,e.gameroomname),this._setBet(e.effectiveamount),this._setResult(e.profitamount),this._setOutCome(e.profitamount)},_setTime:function(e){this.label_time.string=e},_setRoom:function(e,t){this.label_roomType.string=e.substring(0,2)+":",this.label_roomName.string=t},_setBet:function(e){e||(e=G_CHINESE.dealer),this.label_bet.string=e},_setResult:function(e){this._recordFirstColor(this.label_result.node);var t;t=e<0?this._getFontColor():this._getFirstColor(this.label_result.node),this.label_result.node.color=t,this.label_result.string=e},_setOutCome:function(e){this._recordFirstColor(this.label_outCome.node);var t,i;e<0?(i=this._getFontColor(),t=G_CHINESE.loseMatch):(i=this._getFirstColor(this.label_outCome.node),t=G_CHINESE.winMatch),this.label_outCome.node.color=i,this.label_outCome.string=t},_recordFirstColor:function(e){void 0===e._firstColor&&(e._firstColor=e.color)},_getFirstColor:function(e){return e._firstColor?e._firstColor:e.color},_getFontColor:function(){return this._fontsColor||(this._fontsColor=new cc.Color(255,0,0)),this._fontsColor}}),cc._RF.pop()},{}],Obj_effect_inHomeLoading:[function(e,t,i){"use strict";cc._RF.push(t,"14d3aZ8ia5Aeo4hKGQ1GkG5","Obj_effect_inHomeLoading"),cc.Class({"extends":e("BaseManager"),properties:{_maxProgress:null,_toSceneName:null,_loadingNum:null,_reConnectNum:null,label_tip:{"default":null,type:cc.Label,displayName:"加载时候的提示信息"},label_rate:{"default":null,type:cc.Label,displayName:"显示百分比"}},onLoad:function(){this._super(),this.node._firstPosY=this.node.y,this._node_sliderImg=this.node.children[0],this._node_sliderImg._firstPosY=this._node_sliderImg.y,this._firstMaxProgress=.9;var e=2;this._curProgress=0,this._loadingNum=0,this._reConnectNum=0,this._progressInSec=this._firstMaxProgress/e,this._isStartEffect=!1},start:function(){GG.setIsLoading(!0),this._showSliderEffect(),this.preloadedScene()},_step_loadAudioConfig:function(){var e=this;GG.audioMgr.getIsReloadGame()||(this._loadingNum+=1,GG.audioMgr.reloadGameAudio(function(){e._oneCompleted()}))},preloadedScene:function(){var e=GG.getPlayer().getReloadSceneInfo();e&&e.sceneName?(this._addReloadScene(e.sceneName),this._addTip()):this._loadInitGameConfig()},_oneCompleted:function(){this._loadingNum-=1,this._loadingNum<=0&&(this._firstMaxProgress=1,this._isStartEffect=!0)},_whenReloadEnd:function(){cc.sys.garbageCollect(),cc.director.loadScene(this._toSceneName),clearInterval(this.inervalId)},_loadInitGameConfig:function(){var e=this;this._loadingNum+=1;var t=GG.whenGameStart(function(){e._addConfigCallFunc(),G_Config_common.isLocal?e._toSceneName=G_TYPE.sceneName.platform:e._sendLogin(),e._addTip(),e._oneCompleted()});t||e._oneCompleted()},_doLogin:function(){console.log("发送登录请求");var e="mk06",t="1234567",i="username="+e+"&password="+t;this._loadingNum+=1,GG.httpMgr.sendHttpRequest(G_DIALOG_URL.login+"?"+i,null,function(e){console.log("接受到登录信息"),console.log(e),this._sendLogin(),this._oneCompleted()}.bind(this),"GET")},_sendLogin:function(){var e=null;GG.getPlayer().getPlayerToken()?this._whenLoginEnd():(this._loadingNum+=1,GG.httpMgr.sendHttpRequest(G_DIALOG_URL.loginTokenUrl,e,function(e){if(e){GG.getPlayer().setPlayerToken(e),this._reConnectNum=0,this._loadingNum+=1;var t=this;GG.socketMgr.connectSocket(function(){t._whenLoginEnd(),t._oneCompleted()})}else if(this._reConnectNum+=1,this._reConnectNum>6){var t=this;GG.showReconnect(function(){t._reConnectNum=0,t._sendLogin()})}else this._sendLogin();this._oneCompleted()}.bind(this)))},_whenLoginEnd:function(){this._step1_setPlayerInfo(),this._step2_setAudioConfig(),this._step3_setReloadScene()},_step1_setPlayerInfo:function(){var e=null;GG.getPlayer().getBaseInfo()||(this._loadingNum+=1,GG.httpMgr.sendHttpRequest(G_DIALOG_URL.personalInfoUrl,e,function(e){GG.getPlayer().setBaseInfo(e),this._oneCompleted()}.bind(this)))},_step2_setAudioConfig:function(){GG.audioMgr.getAudioConfig()||(this._loadingNum+=1,GG.httpMgr.sendHttpRequest(G_DIALOG_URL.getSystemSetUrl,"gameType=DOU_NIU",function(e){var t;t=e?0==e.code?{music:!0,sound:!0}:e.data.result[0]:{music:!0,sound:!0},GG.audioMgr.setAudioConfig(t),this._oneCompleted()}.bind(this)))},_step3_setReloadScene:function(){var e=this,t=G_DATA.getLastSceneHash();if(t){var i={roomId:t.roomId,gameModel:G_DATA.getEnterHomeModel(t.enterType)};e._loadingNum+=1,GG.s_requestMgr.send_inHome(i,function(i){i?(G_DATA.setCurSceneHash(t.enterType,t.roomId),e._addReloadScene(G_DATA.getSceneName(t.enterType))):(G_DATA.setCurSceneHash("",0),e._addReloadScene(G_TYPE.sceneName.platform)),e._oneCompleted()})}else G_DATA.setCurSceneHash("",0),this._addReloadScene(G_TYPE.sceneName.platform)},_addReloadScene:function(e){this._toSceneName=e,this._loadingNum+=1;var t=this;cc.director.preloadScene(this._toSceneName,function(){t._oneCompleted()}),e!=G_TYPE.sceneName.platform&&this._step_loadAudioConfig()},_addConfigCallFunc:function(){var e=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.grabConfig);if(e){var t=e.getFirstData();this._addConfig(G_Config_grab,t)}var e=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.commonConfig);if(e){var t=e.getFirstData();this._addConfig(G_Config_common,t)}},_addConfig:function(e,t){if(t)for(var i in t)e[i]=t[i]},_showSliderEffect:function(){this._loadingNum+=1,this._curProgress=0,this._setSliderValue(this._curProgress),this._isStartEffect=!0},_setSliderValue:function(e){this._setRateInfo(e);var t=e*this.node.height,i=this.node.height-t;this.node.y=-i,this._node_sliderImg.y=i},_setTipInfo:function(e){this.label_tip&&(this.label_tip.string=e)},_setRateInfo:function(e){var t=Math.floor(100*e)+"%";this.label_rate&&(this.label_rate.string=t)},update:function(e){this._isStartEffect&&this._playerSliderEffect(e)},_playerSliderEffect:function(e){return this._curProgress>=this._firstMaxProgress?(this._isStartEffect=!1,void this._oneCompleted()):(this._curProgress+=e*this._progressInSec,this._setSliderValue(this._curProgress),void(this._curProgress>=1&&(this._curProgress=1,this._setSliderValue(this._curProgress),this._isStartEffect=!1,this._whenReloadEnd())))},_addTip:function(){this._table=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.commonLoading),this._table?this._showTableTime():this._setLoadingTable()},_setLoadingTable:function(){GG.tableMgr.reloadTables(G_RES_URL.dict_tablesName.commonLoading,this._getLoadingTable.bind(this))},_getLoadingTable:function(){if(this._table=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.commonLoading),this._table){var e=this._table.getFirstData().content;this._setTipInfo(e),this._showTableTime()}},_getRandomTable:function(){var e=G_TOOL.getRandomArea(1,7),t=this._table.getDataByID(e).content;return t},_showTableTime:function(){var e=this;this.inervalId=setInterval(function(){e._setTipInfo(e._getRandomTable())},2e3)},onDestroy:function(){}}),cc._RF.pop()},{BaseManager:"BaseManager"}],Obj_goldResultEffect:[function(e,t,i){"use strict";cc._RF.push(t,"ffaf0Vp7ShAUbno9OmhAAEZ","Obj_goldResultEffect"),cc.Class({"extends":cc.Component,_callFunc:null,properties:{node_addGold:cc.Node,node_lostGold:cc.Node},onLoad:function(){this._reloadLabel()},_reloadLabel:function(){this._label_add=this.node_addGold.getComponentInChildren(cc.Label),this._label_lost=this.node_lostGold.getComponentInChildren(cc.Label)},showGrabGold:function(e){e&&(this._label_add||this._reloadLabel(),e>0?(this.node_addGold.active=!0,this.node_lostGold.active=!1,e="+"+e,this._label_add.string=e):(this.node_addGold.active=!1,this.node_lostGold.active=!0,this._label_lost.string=e))},showEffect:function(e,t,i,n){this.node.active=!0,this._callFunc=n,e>0?(this.node_addGold.active=!0,this.node_lostGold.active=!1,this._label_add.string="+"+e,this._showGoldAddEffect(t,i)):e<0?(this.node_lostGold.active=!0,this.node_addGold.active=!1,this._label_lost.string=e,this._showGoldLostEffect(t,i)):(this.node_addGold.active=!0,this.node_lostGold.active=!1,this._label_add.string=e,this._showGoldAddEffect(t,i))},_showGoldAddEffect:function(e,t){this.node.zIndex=-1,this.node.position=e,this.node.scale=0,this.node.opacity=0;var i=G_Config_classic.list_goldAddFly[0],n=cc.moveTo(i,0,t).easing(cc.easeOut(3)),o=cc.scaleTo(i,1),s=cc.fadeTo(i,255),a=cc.callFunc(this._addEffectMid,this,e);this.node.runAction(cc.sequence(cc.spawn(n,o,s),a))},_addEffectMid:function(e,t){this.node.zIndex=1;var i=G_Config_classic.list_goldAddFly[1],n=cc.delayTime(G_Config_classic.list_goldAddFly[2]),o=cc.fadeTo(i,100),s=cc.moveTo(i,t).easing(cc.easeInOut(3)),a=cc.scaleTo(i,.5),l=cc.callFunc(this._effectEnd,this);this.node.runAction(cc.sequence(n,cc.spawn(o,s,a),l))},_showGoldLostEffect:function(e,t){this.node.zIndex=-1,this.node.position=e,this.node.scale=0,this.node.opacity=255;var i=G_Config_classic.list_goldLostFly[0],n=cc.moveTo(i,0,t).easing(cc.easeOut(3)),o=cc.scaleTo(i,1),s=cc.delayTime(G_Config_classic.list_goldLostFly[1]),a=cc.fadeOut(G_Config_classic.list_goldLostFly[2]),l=cc.callFunc(this._effectEnd,this);this.node.runAction(cc.sequence(cc.spawn(n,o),s,a,l))},_effectEnd:function(){this.hideGold(),this._callFunc&&this._callFunc()},hideGold:function(){this.node.active=!1}}),cc._RF.pop()},{}],Obj_goldsContainer:[function(e,t,i){"use strict";cc._RF.push(t,"77608wtKXBFOYPUMcPVJ0dp","Obj_goldsContainer"),cc.Class({"extends":cc.Component,properties:{_dict_goldSort:null,frame_gold:{"default":null,type:cc.SpriteFrame,displayName:"金币图标"}},onLoad:function(){this._goldMoveTime=.3,this._recoveGoldMoveTime=.4,this._goldScale=G_Config_common.scale_moveGold,this._dict_goldSort={}},start:function(){GG.curMgr&&(this._tableContainer=GG.curMgr.getTableContainer())},playerToTable:function(e){for(var t,i,n,o=this._tableContainer.getGoldPosList(e.tableIndex,e.goldNum),s=0;s<e.goldNum;s++)t=o[s],t&&(i=this._getOneGold(),this._addFlyAction(i,{startPos:e.startPos,targetPos:t}),this._dict_goldSort[e.tableIndex]||(this._dict_goldSort[e.tableIndex]=[]),this._dict_goldSort[e.tableIndex].push(i),n=i);e.goldNum>0&&GG.audioMgr.playSound(15),n&&(n.callBack=e.callFunc)},tableToPlayer:function(e){for(var t,i=this._getRemoveGold(e.tableIndex,e.goldNum),n=0;n<e.goldNum;n++)t=i[n],t&&this._addFlyAction2(t,{targetPos:e.targetPos})},recoverAllGold:function(e){var t=[],i=!1;for(var n in this._dict_goldSort)this._dict_goldSort[n]&&(t=t.concat(this._dict_goldSort[n]));this._dict_goldSort={};for(var o,s=0;s<t.length;s++)o=t[s],o&&(i=!0,this._addFlyAction2(o,{targetPos:e}));return i},_getRemoveGold:function(e,t){if(!this._dict_goldSort[e])return[];if(t>=this._dict_goldSort[e].length){var i=this._dict_goldSort[e].concat([]);return this._dict_goldSort[e]=null,i}return this._dict_goldSort[e].splice(0,t)},_addFlyAction:function(e,t){var i=t.startPos,n=t.targetPos;i&&(e.position=i);var o=cc.moveTo(this._goldMoveTime,n);e.runAction(cc.sequence(o,cc.callFunc(this._goldFlyEnd,this,t.isRemove)))},_addFlyAction2:function(e,t){var i=t.startPos,n=t.targetPos;i&&(e.position=i);var o=cc.moveTo(this._recoveGoldMoveTime,n);e.runAction(cc.sequence(o,cc.callFunc(this._goldFlyEnd,this,!0)))},_goldFlyEnd:function(e,t){e.callBack&&(e.callBack(),e.callBack=null),t&&this._removeGold(e)},_getOneGold:function(){if(!this.frame_gold)return null;this._pool||(this._pool=new cc.NodePool("Obj_goldContainer"));var e=this._pool.get();if(!e){e=new cc.Node;var t=e.addComponent(cc.Sprite);t.spriteFrame=this.frame_gold}return e.parent=this.node,e.scale=this._goldScale,e.active=!0,e},_removeGold:function(e){e.stopAllActions(),e.active=!1,this._pool.put(e)},getGoldSize:function(){if(!this._goldSize){var e=this._getOneGold();this._goldSize=e.getContentSize(),this._removeGold(e)}return this._goldSize},clearAll:function(){for(var e=this.node.children,t=e.length-1;t>=0;t--)this._removeGold(e[t]);this._dict_goldSort={},this.node.stopAllActions()},onDestroy:function(){this._pool&&this._pool.clear()}}),cc._RF.pop()},{}],Obj_leftTopMenu:[function(e,t,i){"use strict";cc._RF.push(t,"c17a0Sz5yVIXJmuOlz/I4bH","Obj_leftTopMenu"),cc.Class({"extends":e("AutoDealing"),properties:{_isOpen:null,_isPlayingEff:null,_exitFunc:null,_changeFunc:null,node_dirImg:{"default":null,type:cc.Node,displayName:"菜单方向容器"},node_btnContainer:{"default":null,type:cc.Node,displayName:"按钮容器"}},onLoad:function(){this._isOpen=!1,this._scaleTime=.2,this._waitTime=3.5;var e=this.node_btnContainer.children[0],t=this.node_btnContainer.children[1];this.registerButton(this.node_dirImg,this.OnClick_menu,this),this.registerButton(e,this.OnClick_exit,this),this.registerButton(t,this.OnClick_change,this),this.setBtnEnable(t,!1)},OnClick_menu:function(e){this._isOpen=!this._isOpen,this._changeDirImg(this._isOpen),this._showOpenEffect()},OnClick_exit:function(e){this.OnClick_menu(),this._exitFunc&&this._exitFunc()},OnClick_change:function(e){this.OnClick_menu(),this._changeFunc&&this._changeFunc()},bindFunc:function(e,t){this._exitFunc=e,this._changeFunc=t},_changeDirImg:function(e){this.node_dirImg.children[0].active=!e,this.node_dirImg.children[1].active=e},_showOpenEffect:function(){if(!this._isOpen)return void this._showCloseEffect();this.node_btnContainer.stopAllActions(),this.node_btnContainer.active=!0,this.node_btnContainer.scaleY=0;var e=this._scaleTime,t=cc.scaleTo(e,1,1);this.node_btnContainer.runAction(cc.sequence(t,cc.callFunc(this._addWaitAct,this)))},_addWaitAct:function(){this.node_btnContainer.stopAllActions();var e=this._waitTime;this.node_btnContainer.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(this.OnClick_menu,this)))},_showCloseEffect:function(){this.node_btnContainer.stopAllActions();var e=this._scaleTime/2,t=cc.scaleTo(e,1,0);this.node_btnContainer.runAction(t)},resetShow:function(){this._changeDirImg(!1),this.node_btnContainer.active=!1}}),cc._RF.pop()},{AutoDealing:"AutoDealing"}],Obj_notice:[function(e,t,i){"use strict";cc._RF.push(t,"77d28KRz+1JubOiS0r0wfYZ","Obj_notice"),cc.Class({"extends":cc.Component,_moveSpeed:null,_isMove:null,_list_msg:null,_firstPosX:null,properties:{node_view:cc.Node,node_content:cc.Node},onLoad:function(){this._initConfigData()},_initConfigData:function(){this._curLabelNode=this.node_content.children[0],this._curLabel1=this._curLabelNode.getComponent(cc.RichText),this._firstPosX=this._curLabelNode.x+.75*this.node_view.width,this._endPosX=this._curLabelNode.x-2*this.node_view.width,this._isMove=!1,this._moveSpeed=G_Config_common.notice_speed,this._list_msg=[]},hideNotice:function(){this._isMove=!1,this.node.active=!1},addMsg:function(e){this._resetShowContent(e)},_resetShowContent:function(e){this.node.active=!0,this._isMove=!0,this._curLabel1.string=e,this._restartLabel()},_restartLabel:function(){this._curLabelNode.x=this._firstPosX,this._isMove=!0},update:function(e){this._isMove&&(this._curLabelNode.x-=e*this._moveSpeed,this._curLabelNode.x<=this._endPosX&&(this._isMove=!1,this.node.active=!1))}}),cc._RF.pop()},{}],Obj_onPokerResult:[function(e,t,i){"use strict";cc._RF.push(t,"64c66ub77NHYbI6OjWUwiq5","Obj_onPokerResult"),cc.Class({"extends":cc.Component,properties:{node_upImage:cc.Node,node_downImage:cc.Node,Atlas_onPokerResult:cc.SpriteAtlas},onLoad:function(){},_initSprite:function(){this._upSprite=this.node_upImage.getComponent(cc.Sprite),this._downSprite=this.node_downImage.getComponent(cc.Sprite),this._dontFrame=this.Atlas_onPokerResult.getSpriteFrame(G_RES_URL.atlas_pokerResult.dont)},showCalculateSuccess:function(){this.node.active=!0,this._upSprite||this._initSprite(),this.node_downImage.active=!1,this._upSprite.spriteFrame=this._dontFrame},showPokerResultValue:function(e,t){this.node.active=!0,this._upSprite||this._initSprite(),e<=0?(this.node_downImage.active=!1,e="no",this._callFunc&&(this._callFunc(),this._callFunc=null)):(this.node_downImage.active=!0,t?this._callFunc&&(this._callFunc(),this._callFunc=null):this._openResultEffect());var i=this.Atlas_onPokerResult.getSpriteFrame(G_RES_URL.atlas_pokerResult.resultImgName+e);this._upSprite.spriteFrame=i},_openResultEffect:function(){this.node_upImage.scale=0,this.node_downImage.scale=0;var e=G_Config_classic.time_pokerResultShow,t=cc.sequence(cc.scaleTo(e,G_Config_classic.scale_pokerResultShow),cc.scaleTo(e/2,1)),i=cc.scaleTo(e,1);this.node_downImage.runAction(t),this.node_upImage.runAction(cc.sequence(i,cc.callFunc(function(){this._callFunc&&(this._callFunc(),this._callFunc=null)},this)))},setTruePos:function(e){this.node.position=e,this.hideOnPokerResult()},hideOnPokerResult:function(){this.node.active=!1},getIsShow:function(){return this.node.active},showResult:function(e,t,i,n){this._callFunc=n,i?(this.node.position=e,this.showPokerResultValue(t,!0)):(this.setTruePos(e),this.showPokerResultValue(t))}}),cc._RF.pop()},{}],Obj_optionButton:[function(e,t,i){"use strict";cc._RF.push(t,"6568fLdAtFMO7u0FIJ1ZHfl","Obj_optionButton"),cc.Class({"extends":cc.Component,_valueOffX:null,properties:{_firstFrame:null,_lastValue:null,frame_disable:cc.SpriteFrame,node_centerLabel:{"default":null,type:cc.Node,displayName:"显示内容的label"}},onLoad:function(){this._normalColor=new cc.Color(199,140,39),this._chooseColor=new cc.Color(137,98,207)},showValue:function(e,t){this._showMultiple(e,t)},showMoney:function(e,t){this._showMoneyEX(e,t)},_initContainer:function(){if(!this._container){if(this._container=this.node.getChildByName("container"),!this._container)return!1;this._firstFrame=this.getComponent(cc.Sprite).spriteFrame,this._valueOffX=G_Config_common.num_multipleValueOff,this.node_leftLabel=this._container.getChildByName("left"),this._rightLabel=this._container.getChildByName("right").getComponent(cc.Label)}return!0},_isValidValue:function(e){return!!e&&(e!=this._lastValue&&(this._lastValue=e,!0))},_showRed:function(){this.node_leftLabel.getComponent(cc.Label).font=this.font_red,this._rightLabel.font=this.font_red,this._showDisable(!0)},_showGreen:function(){this.node_leftLabel.getComponent(cc.Label).font=this.font_green,this._rightLabel.font=this.font_green,this._showDisable(!1)},_showDisable:function(e){this._firstFrame||(this._firstFrame=this.getComponent(cc.Sprite).spriteFrame),e?this.getComponent(cc.Sprite).spriteFrame=this.frame_disable:this.getComponent(cc.Sprite).spriteFrame=this._firstFrame},_showMultiple:function(e,t){this.node_centerLabel.getComponent(cc.Label).string=e+"倍",this.node_centerLabel.getComponent(cc.LabelOutline).color=this.getOutLineColor(t),this._showDisable(t)},_showMoneyEX:function(e,t){e&&(this.node_centerLabel.getComponent(cc.Label).string=G_TOOL.changeMoney(e)),this.node_centerLabel.getComponent(cc.LabelOutline).color=this.getOutLineColor(t),this._showDisable(t)},getOutLineColor:function(e){return e?this._chooseColor:this._normalColor}}),cc._RF.pop()},{}],Obj_poker:[function(e,t,i){"use strict";cc._RF.push(t,"e21cbBuH+ZDuJqo2L/4lK4r","Obj_poker"),cc.Class({"extends":cc.Component,_isMyself:null,_ownPlayer:null,_isChoose:null,_callFunc:null,_pokerValue:null,_pokerType:null,_label_value:null,properties:{node_pokerPlus:cc.Node,node_pokerNegative:cc.Node,node_pokerValue:cc.Node,node_minIcon:cc.Node,node_maxIcon:cc.Node,node_specialIcon:cc.Node,frame_pokerUI:cc.SpriteAtlas,font_black:cc.Font,font_red:cc.Font},onLoad:function(){this._init()},_init:function(){this._isChoose=!1,this._label_value=this.node_pokerValue.getComponent(cc.Label),this._sprite_min=this.node_minIcon.getComponent(cc.Sprite),this._sprite_max=this.node_maxIcon.getComponent(cc.Sprite),this._openPokerTime=G_Config_common.time_pokerOpen,this._classic_otherScale=G_Config_classic.scale_noMyPoker,this._classic_flyTime=G_Config_classic.time_pokerFly,this._classic_moveUp=G_Config_classic.num_pokerUp,this.node_pokerPlus.active=!0},bindPlayer:function(e){this._ownPlayer=e},showPokerNegative:function(){this.node_pokerPlus.y=0,this.node_pokerPlus.scale=1,this.node_pokerNegative.active=!0,this.node_pokerNegative.scale=1},showPokerPlus:function(){this.node_pokerNegative&&(this.node_pokerNegative.active=!1)},flyPoker:function(e,t,i){this.onClear(),this.showPokerNegative(),this._isMyself=i,this._isMyself||(this.node.scale=this._classic_otherScale),this.node.position=e;var n=t.x,o=cc.moveTo(this._classic_flyTime,n,t.y),o=cc.moveTo(.4,n,t.y);this.node.runAction(cc.sequence(o,cc.callFunc(this._flyPokerEnd,this)))},_flyPokerEnd:function(){this._isMyself&&this.openPoker(),this._ownPlayer.addFlyEndPoker()},openPoker:function(e){if(this.node_pokerNegative.active===!1)return!1;this.node_pokerNegative.active=!1,this.node_pokerPlus.active=!1,this._callFunc=e,this.showPokerNegative();var t=cc.scaleTo(.5*this._openPokerTime,0,1);return this.node_pokerNegative.runAction(cc.sequence(t,cc.callFunc(this._openPoker_showValue,this))),!0},_openPoker_showValue:function(){this.node_pokerNegative.active=!1,this.node_pokerPlus.active=!0,this.node_pokerPlus.scaleX=0;var e=cc.scaleTo(.5*this._openPokerTime,1,1);this.node_pokerPlus.runAction(cc.sequence(e,cc.callFunc(this._openPoker_end,this)))},_openPoker_end:function(){this._callFunc&&this._callFunc(),this._callFunc=null},setPokerInfo:function(e,t,i){switch(this.node.active=!0,this.node_maxIcon.active=!0,this.node_specialIcon&&(this.node_specialIcon.active=!1),this._pokerValue=t,this._pokerType=e,i?this.showPokerPlus():this.showPokerNegative(),e){case G_TYPE.pokerType.block:this._label_value.font=this.font_red,this._sprite_min.spriteFrame=this.frame_pokerUI.getSpriteFrame(G_RES_URL.pokerType.blockMin),this._sprite_max.spriteFrame=this.frame_pokerUI.getSpriteFrame(G_RES_URL.pokerType.blockMax);break;case G_TYPE.pokerType.blackHeart:this._label_value.font=this.font_black,this._sprite_min.spriteFrame=this.frame_pokerUI.getSpriteFrame(G_RES_URL.pokerType.blackHeartMin),this._sprite_max.spriteFrame=this.frame_pokerUI.getSpriteFrame(G_RES_URL.pokerType.blackHeartMax);break;case G_TYPE.pokerType.redHeart:this._label_value.font=this.font_red,this._sprite_min.spriteFrame=this.frame_pokerUI.getSpriteFrame(G_RES_URL.pokerType.redHeartMin),this._sprite_max.spriteFrame=this.frame_pokerUI.getSpriteFrame(G_RES_URL.pokerType.redHeartMax);break;case G_TYPE.pokerType.flower:this._label_value.font=this.font_black,this._sprite_min.spriteFrame=this.frame_pokerUI.getSpriteFrame(G_RES_URL.pokerType.flowerMin),this._sprite_max.spriteFrame=this.frame_pokerUI.getSpriteFrame(G_RES_URL.pokerType.flowerMax)}var n;switch(t){case 1:n="A";break;case 10:n="1";break;case 11:n="J";break;case 12:n="Q";break;case 13:n="K";break;default:n=t}this._label_value.string=n},getPokerValue:function(){return this._pokerValue},getPokerType:function(){return this._pokerType},getPokerSize:function(){return this.node_pokerNegative.getContentSize()},getIsBlack:function(){return this.isBlackColor},setPokerTouchEnable:function(e){e?this.node_pokerPlus.on(cc.Node.EventType.TOUCH_START,this._callback_clickPoker,this):this.node_pokerPlus.off(cc.Node.EventType.TOUCH_START,this._callback_clickPoker,this)},_callback_clickPoker:function(e){var t=e.target;if(this._isChoose)t.y-=this._classic_moveUp,this._isChoose=!1,this._ownPlayer.touchThePokerDown();else{var i=this.getPokerValue();i>10&&(i=10);var n=this._ownPlayer.touchThePokerUp(i);n&&(t.y+=this._classic_moveUp,this._isChoose=!0)}},onClear:function(){this._isChoose=!1,this.node.scale=1},clearAllActions:function(){this.node_pokerNegative.stopAllActions(),this.node_pokerPlus.stopAllActions(),this.node.stopAllActions()},onDestroy:function(){}}),cc._RF.pop()},{}],Obj_rankItem_friend:[function(e,t,i){"use strict";cc._RF.push(t,"c45a8ez/DpOGqvONZJKQxoV","Obj_rankItem_friend"),cc.Class({"extends":cc.Component,properties:{richRankBG:{"default":[],type:cc.SpriteFrame,displayName:"富豪榜排名背景"},gainRankBG:{"default":[],type:cc.SpriteFrame,displayName:"盈利榜排名背景"},sprite_hat:{"default":null,type:cc.Sprite,displayName:"皇冠"},labelRank:{"default":null,type:cc.Label,displayName:"排名数字"},node_headImg:{"default":null,type:cc.Node,displayName:"头像"},label_name:{"default":null,type:cc.Label,displayName:"名字"},label_goldValue:{"default":null,type:cc.Label,displayName:"金币数值"},node_goldBG:{"default":null,type:cc.Node,displayName:"金币背景"}},onLoad:function(){},init:function(e,t,i){this._setHat(e,parseInt(t)),this._setPlayerName(i.nickname),this._setGoldValue(i.walletbalance?i.walletbalance:i.profitamount),G_TOOL.setHeadImg(this.node_headImg,i.avatarurl)},_setHat:function(e,t){t<3?(this.labelRank.node.active=!1,e?this.sprite_hat.spriteFrame=this.gainRankBG[t]:this.sprite_hat.spriteFrame=this.richRankBG[t]):(this.labelRank.node.active=!0,this.labelRank.string=(t+1).toString())},_setPlayerName:function(e){e=e?G_TOOL.getNameLimit(e,16,!1):"",this.label_name.string=e},_setGoldValue:function(e){var t;e?(t=e+"",t=t.length>=17?G_CHINESE.upperLimit:G_TOOL.changeMoney(e),this.node_goldBG.active=!0):(t=G_CHINESE.noRecord,this.node_goldBG.active=!1),this.label_goldValue.string=t},_resetBackground:function(e){this._widthRate||(this._widthRate=this.node_goldBG.width/6),this.node_goldBG._firstW||(this.node_goldBG._firstW=this.node_goldBG.width);for(var t,i=0,n=e,o=/^[\u4E00-\u9FA5]+$/,s=0;s<n.length;s++)t=n[s],i+=o.test(t)?2:1;var a=i*this._widthRate;this.node_goldBG.width=Math.max(this.node_goldBG._firstW,a)}}),cc._RF.pop()},{}],Obj_roomListCell:[function(e,t,i){"use strict";cc._RF.push(t,"e303fXC4KlIfIXdry/z8Mz2","Obj_roomListCell"),cc.Class({"extends":e("BaseUI"),properties:{_enterType:null,_homeID:null,node_backgroundBtn:{"default":null,type:cc.Node,displayName:"进入房间"},label_intoLimit:{"default":null,type:cc.Label,displayName:"进房限制"},label_onNumber:{"default":null,type:cc.Label,displayName:"在房人数"},node_roomBG:{"default":null,type:cc.Node,displayName:"房间背景"},node_roomName:{"default":null,type:cc.Node,displayName:"房间名称"},frame_roomTypeUI:{"default":null,type:cc.SpriteAtlas,displayName:"房间背景基础显示图片集"}},onLoad:function(){this.registerButton(this.node_roomBG,this.onClick_into,this)},setData:function(e,t){e&&(this._enterType=e.enterType,this._homeID=e.id,this._setEnterIcon(this.node_roomName,t.txtImgUrl),this._setEnterIcon(this.node_roomBG,t.bgImgUrl),this.label_intoLimit.string=G_CHINESE.inToRoomLimit+G_TOOL.changeMoney(e.minLimitPlayerBlance),this.label_onNumber.string=e.currentPlayerCount)},onClick_into:function(e){if(G_Config_common.isLocal)this._doEnter();else{var t={roomId:this._homeID,gameModel:G_DATA.getEnterHomeModel(this._enterType)};GG.platformMgr.requestEnterRoom(t,this._doEnter.bind(this))}},_doEnter:function(){G_DATA.setCurSceneHash(this._enterType,this._homeID),GG.changeScene(G_DATA.getSceneName(this._enterType))},_setEnterIcon:function(e,t){var i=this._getIconName(t);if(i){var n=this.frame_roomTypeUI.getSpriteFrame(i);n?e.getComponent(cc.Sprite).spriteFrame=n:G_TOOL.setHeadImg(e,t)}},_getIconName:function(e){if(!e)return null;var t=e.split("/"),i=t[t.length-1].split(".")[0];return i}}),cc._RF.pop()},{BaseUI:"BaseUI"}],Obj_scrollValue:[function(e,t,i){"use strict";cc._RF.push(t,"6f6ceHVjj1Dn7Voy9rX4nwo","Obj_scrollValue");cc.Class({"extends":cc.Component,properties:{_curLabel:null,_curNum:null,_maxNum:null,_formatStr:null,_callFunc:null,_isStartScroll:null,_interval:null,_maxScrollTimes:null},onLoad:function(){this._maxScrollTimes=50,this._isStartScroll=!1},scrollLabel:function(e){e&&(this._isStartScroll=!1,this._curNum=e.startNum,this._maxNum=e.targetNum,this._curLabel=e.label,this._formatStr=e.formatStr+"%s",this._callFunc=e.callFunc,this._initScrollData())},_initScrollData:function(){this._interval=Math.max(Math.floor((this._maxNum-this._curNum)/this._maxScrollTimes),0),this._isStartScroll=!0},_change:function(){this._curNum+=this._interval,this._curNum>=this._maxNum&&(this._curNum=this._maxNum,this._isStartScroll=!1),this._showValue(),this._isStartScroll||(this._clearData(),this._callFunc&&(this._callFunc(),this._callFunc=null))},_showValue:function(){var e=G_TOOL.formatStr(this._formatStr,G_TOOL.changeMoney(this._curNum));this._curLabel.string=e},_clearData:function(){this._curNum=0,this._maxNum=0,this._curLabel=null,this._formatStr="",this._interval=0},forceEnd:function(){this._callFunc=null,this._curNum=this._maxNum},update:function(e){this._isStartScroll&&this._change()}}),cc._RF.pop()},{}],Obj_seatsContainer:[function(e,t,i){"use strict";cc._RF.push(t,"e779eMDuShEOqiJv281BvTL","Obj_seatsContainer"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},addOnePlayer:function(e){var t=this.node.children[e-1];return t?(t.active=!1,t.position):null},onePlayerLeave:function(e){var t=this.node.children[e-1];t&&(t.active=!0)},getSeatsNum:function(){return this.node.children.length}}),cc._RF.pop()},{}],Obj_setTouchEffect:[function(e,t,i){"use strict";cc._RF.push(t,"2d913IYK5xMtoEMitw8o0jr","Obj_setTouchEffect"),cc.Class({"extends":cc.Component,properties:{_touchEffect:null,frame_touchEffect:cc.SpriteFrame},onLoad:function(){this.addTouchListener()},addTouchListener:function(){this.frame_touchEffect&&this.node.on(cc.Node.EventType.TOUCH_START,this.touchCall,this)},touchCall:function(e){var t=cc.p(e.getLocationX(),e.getLocationY());this._showTouchEff(t)},_showTouchEff:function(e){if(e=this.node.convertToNodeSpace(e),!this._touchEffect){this._touchEffect=new cc.Node,this._touchEffect.parent=this.node;var t=new cc.Node;this._touchEffect.addChild(t,0,1);var i=(t.addComponent(cc.Sprite).spriteFrame=this.frame_touchEffect,new cc.Node);this._touchEffect.addChild(i,0,2);i.addComponent(cc.Sprite).spriteFrame=this.frame_touchEffect}this._touchEffect.active=!0,
this._touchEffect.position=e;var t=this._touchEffect.getChildByTag(1),i=this._touchEffect.getChildByTag(2);t.stopAllActions(),i.stopAllActions(),t.scale=.1,t.opacity=255;var n=.5,o=cc.scaleTo(n,1),s=cc.fadeTo(n,70);t.runAction(cc.sequence(cc.spawn(o,s),cc.callFunc(this._effCall,this))),i.scale=.1,i.opacity=255,o=cc.delayTime(.2*n),s=cc.scaleTo(.6*n,.7);var a=cc.fadeTo(0,0);i.runAction(cc.sequence(o,s,a))},_effCall:function(){this._touchEffect&&(this._touchEffect.active=!1)}}),cc._RF.pop()},{}],Obj_systemTip:[function(e,t,i){"use strict";cc._RF.push(t,"8fea3wUoYNOl5pJOGqAF8VX","Obj_systemTip"),cc.Class({"extends":cc.Component,properties:{node_labelBG:cc.Node,label_center:cc.Label},onLoad:function(){this._firstPos=cc.p(this.node.x,this.node.y)},showContent:function(e,t,i,n){this.node.active=!0,this.label_center.string=e,this._firstPos||(this._firstPos=cc.p(this.node.x,this.node.y)),t||(t=this._firstPos),this.node.position=t;var o=3;G_DATA.isNumber(i)&&(o=i),this._countDownNum&&this._forceEnd(),this._curStr=e,this._callFunc=n,this._setCenterValue(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.delayTime(o),cc.callFunc(this._hideTip,this))),this._setBackgroundLen(e)},hideSystemTip:function(){this.node.stopAllActions(),this.node.active=!1},_forceEnd:function(){this._callFunc=null,this.node.stopAllActions(),this._hideTip()},_hideTip:function(){this.node.active=!1,this._callFunc&&(this._callFunc(),this._callFunc=null)},_setCenterValue:function(){this.label_center.string=this._curStr},_setBackgroundLen:function(e){this._widthRate||(this._widthRate=this.node_labelBG.width/14),this.node_labelBG._firstW||(this.node_labelBG._firstW=this.node_labelBG.width);for(var t,i=0,n=e,o=/^[\u4E00-\u9FA5]+$/,s=0;s<n.length;s++)t=n[s],i+=o.test(t)?2:1;var a=i*this._widthRate;this.node_labelBG.width=Math.max(this.node_labelBG._firstW,a)}}),cc._RF.pop()},{}],Obj_topOneLayer:[function(e,t,i){"use strict";cc._RF.push(t,"3827cXUXVxGSJC8QOIXG/UF","Obj_topOneLayer"),cc.Class({"extends":cc.Component,properties:{_isConfirmTipOpen:null,_isHasOpen:null,prefab_loadingAni:{"default":null,type:cc.Prefab,displayName:"网络请求动画"}},onLoad:function(){this._isConfirmTipOpen=!1,this._touchLimitLayer=this.getComponent("Obj_touchLimit")},start:function(){this._registerFunc(!0)},showNetRequest:function(e){if(this.prefab_loadingAni&&(this._netAni||(this._netAni=cc.instantiate(this.prefab_loadingAni),this._netAni.parent=this.node),!this._netAni.active)){if(this._isConfirmTipOpen)return void(this._isHasOpen=!0);this._netAni.active=!0;var t=cc.visibleRect.center;this._netAni.position=cc.p(t.x,1.35*t.y),this._showReconnectTip(e),this._netAni.getComponent(dragonBones.ArmatureDisplay).playAnimation(""),this._touchLimitLayer&&this._touchLimitLayer.addTouchLimit()}},closeNetRequest:function(){this._netAni&&(this._netAni.active=!1,this._touchLimitLayer&&this._touchLimitLayer.cancelTouchLimit())},_showReconnectTip:function(e){var t=this._netAni.getChildByName("tip");if(t){var i;if(e){var n=G_DATA.getChinese(61);i=n.content}else i="";t.getComponent(cc.Label).string=i}},_registerFunc:function(e){GG.tipsMgr&&GG.tipsMgr.registerConfirm(this._whenConfirmTipChange.bind(this),e)},_whenConfirmTipChange:function(e){if(this._isConfirmTipOpen=e,this._netAni.active)e&&(this._isHasOpen=!0,this.closeNetRequest());else if(!e&&this._isHasOpen){var t=this._netAni.getChildByName("tip"),i=!1;t&&(i=Boolean(t.getComponent(cc.Label).string)),this.showNetRequest(i)}},onDestroy:function(){this._registerFunc(!1)}}),cc._RF.pop()},{}],Obj_touchLimit:[function(e,t,i){"use strict";cc._RF.push(t,"28cc9CnmIZBXLGDeIMG+yuu","Obj_touchLimit"),cc.Class({"extends":cc.Component,properties:{_netAni:null},onLoad:function(){},addTouchLimit:function(e){this.node.on(cc.Node.EventType.TOUCH_START,this._touchThisLayer,this)},_touchThisLayer:function(){},cancelTouchLimit:function(){this.node.off(cc.Node.EventType.TOUCH_START,this._touchThisLayer,this)},setIsShowGray:function(e){!this._grayLayer}}),cc._RF.pop()},{}],Obj_txtTip:[function(e,t,i){"use strict";cc._RF.push(t,"0779d1B55VI+5GfT/GEwecN","Obj_txtTip"),cc.Class({"extends":cc.Component,properties:{_maxCountDown:null,_curCountDown:null,_callBack:null,_curBaseStr:null,_tipIndex:null,_tipMgr:null,_widthRate:null,_hideFunc:null,node_centerLabel:cc.Node},onLoad:function(){this._init()},_init:function(){this._mainLabel=this.node_centerLabel.getComponent(cc.Label),this._defaultTime=G_Config_common.time_tipDefault},bindMgr:function(e){this._tipMgr=e},showTip:function(e){var t;if(e.tipIndex){var i=G_DATA.getChinese(e.tipIndex);i&&(this._curBaseStr=i.content,t=i.retainTime)}this.node.active=!0;var n=e.showPos;this._initPos||(this._initPos=this.node.position),n||(n=this._initPos),this.node.position=n,this.showByOpacity(),e.showStr&&(this._curBaseStr=e.showStr),isNaN(e.retainTime)||(t=Math.max(e.retainTime,0)),this._callBack=e.callBack;var o=e.formatStr;if(this._tipIndex=e.tipIndex,e.isCountDown){if(!t)return this._hideTip(),void(this._callBack&&(this._callBack(),this._callBack=null));this._addCountDown(t),this._resetBackground(G_TOOL.formatStr(this._curBaseStr,123))}else{t||(t=this._defaultTime),this._showTxt(),this._resetBackground(G_TOOL.formatStr(this._curBaseStr,o));var s=cc.fadeOut(t);this.node.runAction(cc.sequence(s,cc.callFunc(this._clearTxtTip,this)))}},forceChangeStr:function(e){this._curBaseStr=e,this._resetBackground(G_TOOL.formatStr(this._curBaseStr,""))},forceChangeCountDown:function(e){this._maxCountDown=e,this._curCountDown=this._maxCountDown,this._showTxt(this._curCountDown)},forceEnd:function(){this._curCountDown&&this.unschedule(this.let_update),this._curCountDown=0,this._callBack=null,this._hideTip()},resetTxtAndTime:function(e,t){t||(t=this._defaultTime),this.node.stopAllActions(),this._curBaseStr=e,this._showTxt(),this._resetBackground(G_TOOL.formatStr(this._curBaseStr,""));var i=cc.fadeOut(t);this.node.runAction(cc.sequence(i,cc.callFunc(this._clearTxtTip,this)))},showByOpacity:function(){this.node.opacity=255},hideByOpacity:function(){this.node.opacity=0},_showTxt:function(e){e?this._mainLabel.string=G_TOOL.formatStr(this._curBaseStr,e):this._mainLabel.string=this._curBaseStr},_resetBackground:function(e){this._widthRate||(this._widthRate=this.node.width/13),this.node.width=e.length*this._widthRate},_addCountDown:function(e){this._curCountDown&&this._countDownEnd(),this._maxCountDown=e,this._curCountDown=this._maxCountDown,this._interval=1,this.schedule(this.let_update,this._interval),this._showTxt(this._curCountDown)},_countDownEnd:function(){this.unschedule(this.let_update),this._clearTxtTip()},let_update:function(e){this._curCountDown>0&&(this._curCountDown-=1,this._showTxt(this._curCountDown),this._curCountDown<=0&&this._countDownEnd())},_clearTxtTip:function(){this._callBack&&(this._callBack(),this._callBack=null),this._hideTip()},bindHideFunc:function(e){this._hideFunc=e},_hideTip:function(){this._tipMgr&&this._tipMgr.oneTipHide(this.node),this.node.active=!1,this._hideFunc&&(this._hideFunc(),this._hideFunc=null)},getIsShow:function(){return this.node.active},setIsShow:function(e){this.node.active=e},getTipIndex:function(){return this._tipIndex},onDestroy:function(){this._curCountDown&&this.unschedule(this.let_update)}}),cc._RF.pop()},{}],Obj_uiContainer:[function(e,t,i){"use strict";cc._RF.push(t,"82b09GVpxBPap6yQdYUAPAT","Obj_uiContainer"),cc.Class({"extends":cc.Component,properties:{_dict_ui:null,_ui_baseUrl:null,_isOnLoad:null,node_grayLayer:{"default":null,type:cc.Node,displayName:"灰色层"}},onLoad:function(){this._dict_ui={},this._ui_baseUrl="UI_prefabs/",this._isOnLoad=!1},addUI:function(e,t){this.showUI(e,t)},showUI:function(e,t){if(!this._isOnLoad){if(!e)return void(t&&(t(null),t=null));var i=this._dict_ui[e];if(i)i.hideLayer(),t&&(t(i),t=null);else{var n=e,o=this;this._isOnLoad=!0,cc.loader.loadRes(this._ui_baseUrl+n,function(n,s){o._isOnLoad=!1;var a=cc.instantiate(s);a.parent=o.node,a.position=o._getDialogPos(),i=a.getComponent(e),i.setUIName(e),i.bindContainer(o),o._dict_ui[e]=i,i.hideLayer(),t&&(t(i),t=null)})}}},addUIEx:function(e,t){t&&(t.setUIName(e),this._dict_ui[e]=t)},closeUI:function(e){this._dict_ui[e]&&this._dict_ui[e].hideLayer()},getUIComp:function(e){var t=this._dict_ui[e];return t||(t=this.addUI(e)),t},closeAllUI:function(){for(var e in this._dict_ui)this.closeUI(e)},_getDialogPos:function(){var e=cc.sys.isMobile?cc.view.getDesignResolutionSize():cc.visibleRect;return cc.p(.5*e.width,.5*e.height)},setGrayLayerIsShow:function(e){this.node_grayLayer&&(this.node_grayLayer.active=e)}}),cc._RF.pop()},{}],Obj_winRankHead:[function(e,t,i){"use strict";cc._RF.push(t,"21a84l8GWhGaJ4cPQfmakvy","Obj_winRankHead"),cc.Class({"extends":cc.Component,properties:{_defaultHeadFrame:null,node_head:{"default":null,type:cc.Node,displayName:"头像精灵"},label_playerName:{"default":null,type:cc.Label,displayName:"玩家名字"},label_gold:{"default":null,type:cc.Label,displayName:"金币数值"}},onLoad:function(){},setData:function(e){this._setPlayerName(e.name),this._setGoldValue(e.addGold),G_TOOL.setHeadImg(this.node_head,e.icon)},_setPlayerName:function(e){e||(e=""),e=G_TOOL.getNameLimit(e,8,!0),this.label_playerName.string=e},_setGoldValue:function(e){this.label_gold.string=G_TOOL.changeMoney(e)},setIsShow:function(e){this.node.active=e},getIsShow:function(){return this.node.active}}),cc._RF.pop()},{}],Object_config:[function(e,t,i){"use strict";cc._RF.push(t,"b6eb4DffzpAE7fb1TCIU67g","Object_config"),window.G_OBJ=window.G_OBJ||{},G_OBJ.data_bullBetting=function(){return{tableIndex:null,posList:null,startPos:null,goldValue:null,goldNum:null,isMine:null}},G_OBJ.data_grabBetting=function(){return{tableIndex:null,targetPos:null,callFunc:null,startPos:null,goldValue:null,goldNum:null,isMine:null}},G_OBJ.data_grabPokerInfo=function(){return{pokerInfoList:null,pokerResult:null,isFlyEffect:null,startPokerIndex:null,callFunc:null}},G_OBJ.data_inHomeData=function(){return{net_inHomeData:null,net_resetHomeData:null}},G_OBJ.data_flyGold_playerToTable=function(){return{tableIndex:null,goldNum:null,startPos:null,callFunc:null}},G_OBJ.data_flyGold_tableToPlayer=function(){return{tableIndex:null,goldNum:null,targetPos:null}},G_OBJ.data_nbSelf=function(){return{balance:null,usableBalance:null}},G_OBJ.data_dialog_exchangePages=function(){return{leftDealScrollComp:null,leftPrefab:null,leftContentList:null,leftClickFunc:null,rightDealScrollComp:null,rightPrefabList:null,isStopSetRightContent:null}},G_OBJ.data_matchEnd=function(){return{pokersInfoList:null,pokersResultList:null,othersInfo:null,dealerInfo:null,myselfInfo:null}},G_OBJ.data_selfMatchEndData=function(){return{changeGold:null,leaveGold:null}},G_OBJ.data_httpSend=function(){return{url:null,sendData:null,callFunc:null,xhrType:null}},G_OBJ.data_requestRecord=function(){return{gameId:null,dateClass:null,pageSize:null,pageNo:null}},cc._RF.pop()},{}],Part_dialog_exchangePages:[function(e,t,i){"use strict";cc._RF.push(t,"1766dv+yAxASqrmhL30tIbp","Part_dialog_exchangePages"),cc.Class({"extends":cc.Component,properties:{_clickFunc:null,_leftDealComp:null,_dict_rightContent:null,_list_rightPrefab:null,_rightScroll:null,_rightScrollViewComp:null,_lastRightContent:null,_lastIndex:null,_isRightAutoLimit:null,_clickShowLimit:null},onLoad:function(){this._leftNormalName="normal",this._leftChooseName="choose",this._dict_rightContent={}},initData:function(e){this._clickShowLimit=!1,this._initLeftScroll(e),this._list_rightPrefab=e.rightPrefabList,this._rightScroll=e.rightDealScrollComp.node,this._rightScrollViewComp=e.rightDealScrollComp.getScrollView(),this._isRightAutoLimit=e.isStopSetRightContent},showDefault:function(e){e&&(this._lastIndex=null),this._onClick(null,0)},_initLeftScroll:function(e){if(e.leftDealScrollComp){this._leftDealComp=e.leftDealScrollComp;var t={itemPrefab:e.leftPrefab,scrollType:G_TYPE.scrollType.vertical};this._leftDealComp.setData(t),this._clickFunc=e.leftClickFunc;for(var i,n,o=e.leftContentList,s=0;s<o.length;s++)if(i=this._leftDealComp.getItemByIndex(s)){if(n=i.getChildByName("content"),!n)continue;n.getComponent(cc.Label).string=o[s],this._registerClickEvent(i,this._onClick,this,s)}}},_onClick:function(e,t){this._lastIndex!=t&&(this._clickFunc&&this._clickFunc(t),this._clickShowLimit||this.doneClickShow(t))},diyClickShow:function(){this._clickShowLimit=!0},doneClickShow:function(e){this._lastIndex=e,this._showLeft(e),this._showRightContent(e)},_showLeft:function(e){var t=this._leftDealComp.getItemByIndex(e);t&&(this._lastTouchBtn&&(this._lastTouchBtn.getChildByName(this._leftChooseName).active=!1,this._lastTouchBtn=null),this._lastTouchBtn=t,t.getChildByName(this._leftChooseName).active=!0)},_showRightContent:function(e){if(this._rightScrollViewComp.scrollToTop(.5),!this._isRightAutoLimit){this._lastRightContent&&(this._lastRightContent.active=!1);var t=this._dict_rightContent[e];t||(t=this._createRightContent(e)),this._rightScroll.height=t.height,t.active=!0,this._lastRightContent=t}},_createRightContent:function(e){if(!this._list_rightPrefab[e])return null;var t=cc.instantiate(this._list_rightPrefab[e]);return t.parent=this._rightScroll,this._dict_rightContent[e]=t,t},_registerClickEvent:function(e,t,i,n){e.on(cc.Node.EventType.TOUCH_START,function(e){GG.audioMgr.playSound(17)},i),e.on(cc.Node.EventType.TOUCH_END,function(e){t.call(i,e,n)},i),e.on(cc.Node.EventType.TOUCH_CANCEL,function(e){},i)}}),cc._RF.pop()},{}],Part_playerBlock_Gold:[function(e,t,i){"use strict";cc._RF.push(t,"b384bgA7DZM6IuGbjtJZqgz","Part_playerBlock_Gold"),cc.Class({"extends":cc.Component,properties:{_balance:null,_usableBalance:null,_bettingGoldValue:null,_goldValueEX:null,_block:null},onLoad:function(){this._part_ui=this.getComponent("Part_playerBlock_UI"),this._balance=0,this._usableBalance=0,this._bettingGoldValue=0,this._goldValueEX=0},bindBlock:function(e){this._block=e},addBalance:function(e){this._balance+=e,this._block.showGoldValue(this._balance)},addUsableBalance:function(e){this._usableBalance+=e,this._block.showGoldValue(this._usableBalance)},payBalance:function(e){this._balance-=e,this._block.showGoldValue(this._balance)},payUsableBalance:function(e){this._usableBalance-=e,this._block.showGoldValue(this._usableBalance)},setBalance:function(e){this._balance=e,this._block.showGoldValue(this._balance)},setUsableBalance:function(e){this._usableBalance=e},getBalance:function(){return this._balance},getUsableBalance:function(){return this._usableBalance},setBettingGold:function(e){this._bettingGoldValue=e},addBettingGold:function(e){this._bettingGoldValue+=e},getBettingGold:function(){return this._bettingGoldValue},setGoldValueEX:function(e){this._goldValueEX=e},addGoldValueEX:function(e){this._goldValueEX+=e},payGoldValueEX:function(e){this._goldValueEX-=e},getGoldValueEX:function(){return this._goldValueEX}}),cc._RF.pop()},{}],Platform_Manager:[function(e,t,i){"use strict";cc._RF.push(t,"c9e2amfcZJE94McrGnyuBWh","Platform_Manager"),cc.Class({"extends":e("BaseManager"),properties:{_dict_ui:null,_richRankData:null,_ui_baseUrl:null,_roomComp:null,_enterRoomCallFunc:null,_isFirstEnter:null,_reConnectNum:null,comp_uiContainer:{"default":null,type:e("Obj_uiContainer"),displayName:"UI容器"},comp_enterBtn:{"default":null,type:e("Platform_ui_enter"),displayName:"房间入口"},comp_leftRank:{"default":null,type:e("Platform_leftRank"),displayName:"左边列表容器"},comp_bottomBtns:{"default":null,type:e("Platform_bottomBtns"),displayName:"底部按钮容器"},comp_topInfo:{"default":null,type:e("Platform_topInfo"),displayName:"大厅顶部信息"}},onLoad:function(){this._super(),this._ui_baseUrl="UI_prefabs/",GG.platformMgr=this,this._roomNode=!1,this._isFirstEnter=!1,this._reConnectNum=0},start:function(){if(this._initMainScene(),G_Config_common.isLocal){var e=this;setInterval(function(){GG.tipsMgr&&!e.getAdIsLimit()&&GG.tipsMgr.addNotice("这是一个很长的公告------------------")},3e3)}},_initMainScene:function(){if(G_Config_common.isLocal){var e=this;setTimeout(function(){e.comp_leftRank.setRichData(),e.showHomeList(!1,!0)},100)}else{var e=this;this.comp_leftRank.setRichData(),this.comp_topInfo.initShow(),setTimeout(function(){var t=GG.getPlayer().getOutHomeData();t&&t.gameType!=G_TYPE.gameModule.platform?e.comp_enterBtn.showHomeListFirst(t.gameType,!0):e.showHomeList(!1,!0)},100)}},openUI:function(e,t){this.comp_uiContainer.addUI(e,t)},showHomeList:function(e,t){this.comp_enterBtn.moveOutScene(e,t),this.comp_leftRank.moveOutScene(e,t),this.comp_bottomBtns.moveOutScene(e,t),this.comp_topInfo.setHomeListShow(e,t),this._roomComp&&(e?(this._roomComp.showLayer(),GG.platformMgr.setAdLimit(!0)):(this._roomComp.hideLayer(),GG.platformMgr.setAdLimit(!1)))},setHomeListInfo:function(e){this._roomComp.setDataList(e)},_addConfigCallFunc:function(){var e=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.grabConfig);if(e){var t=e.getFirstData();this._addConfig(G_Config_grab,t)}var e=GG.tableMgr.getTable(G_RES_URL.dict_tablesName.commonConfig);if(e){var t=e.getFirstData();this._addConfig(G_Config_common,t)}},_addConfig:function(e,t){if(t)for(var i in t)e[i]=t[i]},showRoomUI:function(e,t){if(this._roomComp)t&&(t(this._roomComp),t=null);else{var i,n=this;G_DATA.getRoomListJson(function(){cc.loader.loadRes(n._ui_baseUrl+e,function(o,s){if(o);else{var a=cc.instantiate(s);a.parent=n.comp_bottomBtns.node,i=a.getComponent(e),n._roomComp=i}t&&(t(i),t=null)})})}},releaseRoomUI:function(){var e=cc.loader.getDependsRecursively(this._ui_baseUrl+"Prefab_roomList");cc.loader.release(e)},requestEnterRoom:function(e,t){this._enterRoomCallFunc=t,GG.socketMgr.SendMsg(NetType.s_enterHouse,e),GG.socketMgr.registerLong(NetType.r_enterHouseReturn,this.net_setHomeData.bind(this))},net_setHomeData:function(e){if(e){var t=e.tip;if(t.code!=G_TYPE.serverCodeType.success)return t.code==G_TYPE.serverCodeType.goldNotEnough?void GG.tipsMgr.showConfirmTip_ONE(t.tip,function(){}.bind(this)):void GG.tipsMgr.showConfirmTip_ONE(t.tip,function(){t.code==G_TYPE.serverCodeType.matchNoEnd});var i=G_OBJ.data_inHomeData();i.net_inHomeData=e,GG.getPlayer().setInHomeData(i),this._enterRoomCallFunc&&(this._enterRoomCallFunc(),this._enterRoomCallFunc=null)}},onDestroy:function(){this._super(),GG.platformMgr=null}}),cc._RF.pop()},{BaseManager:"BaseManager",Obj_uiContainer:"Obj_uiContainer",Platform_bottomBtns:"Platform_bottomBtns",Platform_leftRank:"Platform_leftRank",Platform_topInfo:"Platform_topInfo",Platform_ui_enter:"Platform_ui_enter"}],Platform_bottomBtns:[function(e,t,i){"use strict";cc._RF.push(t,"25e9d3pzRtN9IL5uJp1EWk8","Platform_bottomBtns"),cc.Class({"extends":e("BaseUI"),properties:{node_buttonContainer:{"default":null,type:cc.Node,displayName:"按钮容器"},node_propContainer:{"default":null,type:cc.Node,displayName:"道具容器"}},onLoad:function(){this._registerEvent()},_registerEvent:function(){for(var e=this.node_buttonContainer.children,t=0;t<e.length;t++)e[t].tag=t,this.registerButton(e[t],this._onClick_touchBtn,this)},_onClick_touchBtn:function(e){switch(e.currentTarget.tag){case 0:var t=G_RES_URL.uiName.announcement;GG.platformMgr.openUI(t,function(e){e.showLayer()});break;case 1:var t=G_RES_URL.uiName.rules;GG.platformMgr.openUI(t,function(e){e.showLayer()});break;case 2:var t=G_RES_URL.uiName.record;GG.platformMgr.openUI(t,function(e){e.setData()});break;case 3:var t=G_RES_URL.uiName.account;GG.platformMgr.openUI(t,function(e){e.setData()})}},moveOutScene:function(e,t){if(this.node_buttonContainer._firstBtnPosY||(this.node_buttonContainer._firstBtnPosY=-this.node_buttonContainer.y),t)this.node_buttonContainer.y=this.node_buttonContainer._firstBtnPosY-(e?this.node_buttonContainer.height*this.node_buttonContainer.scale:0);else{var i=.5;this.node_buttonContainer.stopAllActions();var n=cc.p(this.node_buttonContainer.x,this.node_buttonContainer._firstBtnPosY);e&&(n.y=-(this.node_buttonContainer.height*this.node_buttonContainer.scale/2)),this.node_buttonContainer.runAction(cc.moveTo(i,n))}this.node_propContainer.active=!e}}),cc._RF.pop()},{BaseUI:"BaseUI"}],Platform_leftRank:[function(e,t,i){"use strict";cc._RF.push(t,"834471qZIhPe7wXg+6nY9a4","Platform_leftRank");var n={type1:1,type2:2};cc.Class({"extends":e("BaseUI"),properties:{_list_idleFriends:null,_curRankType:null,_gainsRankData:null,_firstShowNum:null,_list_richData:null,_list_gainsData:null,_isRichDataFull:null,_isGainsDataFull:null,sprite_listGainOn:{"default":null,type:cc.Sprite,displayName:"盈利榜图标"},sprite_listRichOn:{"default":null,type:cc.Sprite,displayName:"富豪榜图标"},sprite_listRankingBG:{"default":null,type:cc.Sprite,displayName:"高亮显示条"},node_listGainBtn:{"default":null,type:cc.Node,displayName:"盈利榜按钮"},node_listRichBtn:{"default":null,type:cc.Node,displayName:"富豪榜按钮"},comp_itemContainer:{"default":null,type:e("Obj_dealScroll"),displayName:"好友排行榜容器"},prefab_friendItem:{"default":null,type:cc.Prefab,displayName:"好友条目"},label_null:{"default":null,type:cc.Label,displayName:"无数据时显示"},comp_scroll:{"default":null,type:cc.ScrollView,displayName:"滚动的容器"}},onLoad:function(){this._itemCompName="Obj_rankItem_friend",this._firstShowNum=7,this._isRichDataFull=!1,this._isGainsDataFull=!1,this.registerButton(this.node_listGainBtn,this.onClick_tabBtn,this,n.type1,!0),this.registerButton(this.node_listRichBtn,this.onClick_tabBtn,this,n.type2,!0),this.comp_scroll.node.on("scroll-to-bottom",this._scrollToBottom,this);var e={itemPrefab:this.prefab_friendItem};this.comp_itemContainer.setData(e)},start:function(){},onClick_tabBtn:function(e,t){if(this._curRankType!=t)switch(t){case n.type1:this.setGainData(this._gainsRankData);break;case n.type2:this.setRichData(this._richRankData)}},_setRankTitle:function(e){this._curRankType=e;var t,i=!1;switch(e){case n.type1:i=!0,t=this.node_listGainBtn.x;break;case n.type2:t=this.node_listRichBtn.x}this.sprite_listRankingBG.node.x=t,this.sprite_listGainOn.node.active=i,this.sprite_listRichOn.node.active=!i},setGainData:function(e){if(e){this._setRankTitle(n.type1),this._setNull(""),this._list_gainsData=e.data.concat([]);var t=this.comp_itemContainer.getNextPageList(this._list_gainsData,this._firstShowNum);this._updateBottom(!0,t,!0)}else e=G_DATA.getGainsData(),e?(this._gainsRankData=e,this.setGainData(this._gainsRankData)):this._setGainsPageData(1)},setRichData:function(e){if(e){this._setRankTitle(n.type2),this._setNull(""),this._list_richData=e.data.concat([]);var t=this.comp_itemContainer.getNextPageList(this._list_richData,this._firstShowNum);this._updateBottom(!1,t,!0)}else e=G_DATA.getRichData(),e?(this._richRankData=e,this.setRichData(this._richRankData)):this._setRichPageData(1)},_setGainsPageData:function(e,t){void 0===t&&(t=this._firstShowNum);var i="gameId="+GG.getPlayer().getGameID()+"&pageSize="+t+"&pageNo="+e;GG.httpMgr.sendHttpRequest(G_DIALOG_URL.playerProfitUrl,i,function(t){this._whenRequestDone(e,n.type1,t)}.bind(this)),GG.httpMgr.addLongRequestWait(G_DIALOG_URL.playerProfitUrl,i,function(t){this._whenRequestDone(e,n.type1,t)}.bind(this))},_setRichPageData:function(e,t){void 0===t&&(t=this._firstShowNum);var i="pageSize="+t+"&pageNo="+e;GG.httpMgr.sendHttpRequest(G_DIALOG_URL.playerTreasuresUrl,i,function(t){this._whenRequestDone(e,n.type2,t)}.bind(this)),GG.httpMgr.addLongRequestWait(G_DIALOG_URL.playerTreasuresUrl,i,function(t){this._whenRequestDone(e,n.type2,t)}.bind(this))},_whenRequestDone:function(e,t,i){if(1==e)if(i)!i.data||i.data.length<1||"0"==i.code?(this.comp_itemContainer.clearItems(-1),this._setNull(i.msg),this._setRankTitle(t)):t==n.type2?(this._addRichNetData(e,i),this.setRichData(this._richRankData)):(this._addGainsNetData(e,i),this.setGainData(this._gainsRankData));else{var o=this.comp_itemContainer.getShowItemNum();o<1&&this._setNull()}else{if(!i)return;if(!i.data||i.data.length<1||"0"==i.code)switch(t){case n.type1:this._isGainsDataFull=!0;break;case n.type2:this._isRichDataFull=!0}else if(t==n.type2){if(this._addRichNetData(e,i),this._curRankType==n.type2){var s=this.comp_itemContainer.getNextPageList(this._list_richData,this._firstShowNum);this._updateBottom(!1,s,!1)}}else if(this._addGainsNetData(e,i),this._curRankType==n.type1){var s=this.comp_itemContainer.getNextPageList(this._list_gainsData,this._firstShowNum);this._updateBottom(!1,s,!1)}}},_addGainsNetData:function(e,t){if(this._gainsRankData){var i=this._gainsRankData.data.length,n=this.comp_itemContainer.getPageNoByNum(i,this._firstShowNum);if(e<n)return;this._gainsRankData.data=this._gainsRankData.data.concat(t.data),this._list_gainsData=t.data,t.data.length<this._firstShowNum&&(this._isGainsDataFull=!0)}else this._gainsRankData=t;G_DATA.setGainsData(this._gainsRankData)},_addRichNetData:function(e,t){if(this._richRankData){var i=this._richRankData.data.length,n=this.comp_itemContainer.getPageNoByNum(i,this._firstShowNum);if(e<n)return;this._richRankData.data=this._richRankData.data.concat(t.data),this._list_richData=t.data,t.data.length<this._firstShowNum&&(this._isRichDataFull=!0)}else this._richRankData=t;G_DATA.setRichData(this._richRankData)},_updateBottom:function(e,t,i){var n,o,s,a=0,l=this.comp_itemContainer.getShowItemNum();i&&(l=0);for(var r=l;r<l+this._firstShowNum&&(s=t[a],s);r++)n=this.comp_itemContainer.getItemByIndex(r),n&&(o=n.getComponent(this._itemCompName),o.init(e,r,s)),a+=1;i&&(this.comp_itemContainer.clearItems(t.length-1),this._scrollToUp())},_scrollToBottom:function(e){var t,i,o;switch(this._curRankType){case n.type1:i=!0,t=this.comp_itemContainer.getNextPageList(this._list_gainsData,this._firstShowNum),o=this._gainsRankData.data.length;break;case n.type2:i=!1,t=this.comp_itemContainer.getNextPageList(this._list_richData,this._firstShowNum),o=this._richRankData.data.length}if(t&&t.length>0)this._updateBottom(i,t);else if(o<50){var s=this.comp_itemContainer.getPageNoByNum(o+1,this._firstShowNum);switch(this._curRankType){case n.type1:this._isGainsDataFull||this._setGainsPageData(s,50-o);break;case n.type2:this._isRichDataFull||this._setRichPageData(s,50-o)}}},_scrollToUp:function(){this.comp_scroll.scrollToTop(.2)},_setNull:function(e){"[object String]"!==Object.prototype.toString.call(e)&&(e="request timeout!"),this.label_null.string=e},moveOutScene:function(e,t){this._firstPosX||(this._firstPosX=-this.node.x);var i=.3*cc.visibleRect.width+this._firstPosX;if(t){this.node.width*this.node.scale/2;this.node.x=e?-i:this._firstPosX,this.setFrameHide(e)}else{this.node.active=!0;var n=.5;this.node.stopAllActions();var o=cc.p(this._firstPosX,this.node.y);e&&(o.x=-i);var s=this;this.node.runAction(cc.sequence(cc.moveTo(n,o),cc.callFunc(function(){s.setFrameHide(e)})))}},setFrameHide:function(e){this.node.active=!e}}),cc._RF.pop()},{BaseUI:"BaseUI",Obj_dealScroll:"Obj_dealScroll"}],Platform_topInfo:[function(e,t,i){"use strict";cc._RF.push(t,"94707lnJddKIpBS9jaL9Sif","Platform_topInfo"),cc.Class({"extends":e("AutoDealing"),properties:{node_head:{"default":null,type:cc.Node,displayName:"头像"},label_name:{"default":null,type:cc.Label,displayName:"昵称"},label_coin:{"default":null,type:cc.Label,displayName:"金币"},node_exit:{"default":null,type:cc.Node,displayName:"退出按钮"},node_back:{"default":null,type:cc.Node,displayName:"返回按钮"},node_setting:{"default":null,type:cc.Node,displayName:"设置按钮"}},onLoad:function(){this._registerButton(),this.node.active=!1},_registerButton:function(){this.registerButton(this.node_exit,this.onClick_exit,this),this.registerButton(this.node_back,this.onClick_back,this),this.registerButton(this.node_setting,this.onClick_setting,this),this._listenerName=GG.Listener.registerFunc(G_TYPE.globalListener.playerGold,this.on_goldChange.bind(this))},onClick_exit:function(e){GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText2,function(){GG.exitGame()})},onClick_back:function(e){GG.platformMgr.showHomeList(!1)},onClick_setting:function(e){GG.platformMgr.openUI(G_RES_URL.uiName.systemSet,function(e){e.setData()})},on_goldChange:function(e,t){this.label_coin&&(this.label_coin.string=GG.getPlayer().getPlayerGold())},initShow:function(){var e=GG.getPlayer().getBaseInfo();e&&(G_TOOL.setHeadImg(this.node_head,e.avatarUrl),this._setName(e.nickname),this.label_coin.string=GG.getPlayer().getPlayerGold())},setHomeListShow:function(e){this.node.active||(this.node.active=!0),this.node_exit.active=!e,this.node_back.active=e},_setName:function(e){e||(e=""),this.label_name.string=G_TOOL.getNameLimit(e,12)},onDestroy:function(){GG.Listener.delListen(G_TYPE.globalListener.playerGold,this._listenerName)}}),cc._RF.pop()},{AutoDealing:"AutoDealing"}],Platform_ui_enter:[function(e,t,i){"use strict";cc._RF.push(t,"f10c7FbLoVAZ7LCP0U5t4AP","Platform_ui_enter"),cc.Class({"extends":e("BaseUI"),properties:{_roomPrefabName:null,_isTouchLimit:null,node_bull100:{"default":null,type:cc.Node,displayName:"百人大战"},node_grab:{"default":null,type:cc.Node,displayName:"押宝大战"}},onLoad:function(){this._registerButton(this.node_bull100,this._btn_clickEnter,this,G_TYPE.gameModule.bull100),this._registerButton(this.node_grab,this._btn_clickEnter,this,G_TYPE.gameModule.grab),this._roomPrefabName="Prefab_roomList"},_btn_clickEnter:function(e,t){this._isTouchLimit||this.showHomeList(t)},showHomeList:function(e,t){var i=this;GG.topTouchLayer.showNetRequest(),GG.platformMgr.showRoomUI(i._roomPrefabName,function(n){if(n)if(G_Config_common.isLocal){GG.topTouchLayer.closeNetRequest();var o=i._getLocalData(e);o.enterType=e,GG.platformMgr.showHomeList(!0,t),GG.platformMgr.setHomeListInfo(o)}else i._sendRoomListRequest(e,t)})},_sendRoomListRequest:function(e,t){var i;switch(e){case G_TYPE.gameModule.bull100:i=G_TYPE.net_gameModule2.bull100;break;case G_TYPE.gameModule.grab:i=G_TYPE.net_gameModule2.grab;break;case G_TYPE.gameModule.classic:i=G_TYPE.net_gameModule2.classic}GG.httpMgr.sendHttpRequest(G_DIALOG_URL.gameRoomListUrl,"gameModel="+i,function(i){i&&(i.enterType=e,GG.platformMgr.showHomeList(!0,t),GG.platformMgr.setHomeListInfo(i))}.bind(this))},_getLocalData:function(e){var t={};t.enterType=e,t.data=[];for(var i=2,n=0;n<6;n++){var o={id:n+1,minLimitPlayerBlance:1e3,currentPlayerCount:50*n},s=Math.ceil(o.id/i);o.minLimitPlayerBlance+=1e3*s,t.data.push(o)}return t},showHomeListFirst:function(e,t){this.showHomeList(e,t)},_registerButton:function(e,t,i,n,o){var s=this;e._isTouchEnabledEx=!0,e.on(cc.Node.EventType.TOUCH_START,function(e){var t=e.target.children[0];e.target._isTouchEnabledEx&&!o&&(s._setAniPause(t,!0),e.target.scale=1.1,GG.audioMgr.playSound(17))},i),e.on(cc.Node.EventType.TOUCH_END,function(e){var o=e.target.children[0];e.target.scale=1,s._setAniPause(o,!1),e.target._isTouchEnabledEx&&t.call(i,e,n)},i),e.on(cc.Node.EventType.TOUCH_CANCEL,function(e){var t=e.target.children[0];s._setAniPause(t,!1),e.target.scale=1},i)},_setAniPause:function(e,t){var i=e.getComponent(dragonBones.ArmatureDisplay);t?(i._lastTimeScale=i.timeScale,i.timeScale=.01):i._lastTimeScale&&(i.timeScale=i._lastTimeScale)},_resumeAni:function(e){},moveOutScene:function(e,t){this._firstPosX||(this._firstPosX=this.node.x);var i=cc.sys.isMobile?cc.view.getDesignResolutionSize():cc.visibleRect;if(t)this.node.x=e?this._firstPosX:2*i.width-this._firstPosX,this.setFrameHide(e);else{this._isTouchLimit=!0,this.node.active=!0;var n=.5;this.node.stopAllActions();var o=cc.p(2*i.width-this._firstPosX,this.node.y);e&&(o.x=this._firstPosX);var s=this;this.node.runAction(cc.sequence(cc.moveTo(n,o),cc.callFunc(function(){s._isTouchLimit=!1,s.setFrameHide(e)})))}},setFrameHide:function(e){this.node.active=!e}}),cc._RF.pop()},{BaseUI:"BaseUI"}],Prefab_dialog_account:[function(e,t,i){"use strict";cc._RF.push(t,"16c16qbJrVKdriJTtyWvtmd","Prefab_dialog_account");cc.Class({"extends":e("BaseDialog"),properties:{_lastTouchBtn:null,_dict_cacheData:null,_firstShowNum:null,_curDateClass:null,_dict_listFull:null,label_null:{"default":null,type:cc.Label,displayName:"无数据时显示"},comp_scroll:{"default":null,type:cc.ScrollView,displayName:"滚动的容器"}},onLoad:function(){this._super(),this._firstShowNum=6,this.comp_scroll.node.on("scroll-to-bottom",this._scrollToBottom,this),this._dealerItemCompName="Obj_dialogAccountCell",this._dict_cacheData={},this._dict_listFull={};var e={itemPrefab:this.prefab_item,
scrollType:G_TYPE.scrollType.vertical};this.comp_itemContainer.setData(e),this._comp_exchangPages=this.getComponent("Part_dialog_exchangePages");var e=G_OBJ.data_dialog_exchangePages();e.leftDealScrollComp=this.comp_leftBtnContainer,e.leftPrefab=this.prefab_leftButton,e.leftContentList=G_CHINESE.exchangePageLeft,e.leftClickFunc=this.onClick_leftBtn.bind(this),e.rightDealScrollComp=this.comp_itemContainer,e.isStopSetRightContent=!0,this._comp_exchangPages.initData(e),this._comp_exchangPages.diyClickShow()},hideLayer:function(){this._super(),this._resetCache()},setData:function(){this._comp_exchangPages.showDefault(!0)},onClick_leftBtn:function(e){return G_Config_common.isLocal?(this.showLayer(),this._updateBottom(this._getLocalData(),!0),void this._comp_exchangPages.doneClickShow(e)):void this._getDataByDate(e,1,function(t){this.showLayer(),this._curDateClass=e,this._comp_exchangPages.doneClickShow(e),this._updateBottom(t,!0)}.bind(this))},_sendRequest:function(e,t,i){if(!this._dict_listFull[e]){var n=G_OBJ.data_requestRecord();n.gameId=GG.getPlayer().getGameID(),n.dateClass=e,n.pageSize=this._firstShowNum,n.pageNo=t;var o="gameId="+n.gameId+"&dateClass="+n.dateClass+"&pageSize="+n.pageSize+"&pageNo="+n.pageNo;GG.httpMgr.sendHttpRequest(G_DIALOG_URL.accountUrl,o,function(t){if(t){var n=this._cacheNetData(e,t);i&&i(n)}}.bind(this))}},_getDataByDate:function(e,t,i){var n=this._dict_cacheData[e];if(n){var o=[];if(this._dict_cacheData[e].data){var s=this._dict_cacheData[e].data.datas.concat([]);o=s.splice(this._firstShowNum*(t-1),this._firstShowNum)}"[object Array]"===Object.prototype.toString.call(o)?i&&i(o):this._requestNetData(e,t,i)}else this._sendRequest(e,t,i)},_resetCache:function(){this._dict_cacheData={},this._dict_listFull={}},_cacheNetData:function(e,t){var i=[];return 1==t.code&&t.data.datas&&(i=t.data.datas,this._dict_cacheData[e]&&(this._dict_cacheData[e].code=t.code,this._dict_cacheData[e].data?this._dict_cacheData[e].data.datas=this._dict_cacheData[e].data.datas.concat(i):this._dict_cacheData[e].data=t.data)),this._dict_cacheData[e]||(this._dict_cacheData[e]=t),i},_scrollToBottom:function(e){var t=this,i=this.comp_itemContainer.getShowItemNum();this._getDataByDate(this._curDateClass,this.comp_itemContainer.getPageNoByNum(i+1,this._firstShowNum),function(e){t._updateBottom(e)})},_updateBottom:function(e,t){var i,n,o,s=0,a=this.comp_itemContainer.getShowItemNum(),l=e.length;t&&(a=0);for(var r=a;r<a+this._firstShowNum&&(o=e[s],o);r++)i=this.comp_itemContainer.getItemByIndex(r),i&&(n=i.getComponent(this._dealerItemCompName),n.setData(o)),s+=1;t&&(this.comp_itemContainer.clearItems(l-1),this._scrollToUp(),l<1?this._setNull(this._dict_cacheData[this._curDateClass].msg):this._setNull("")),l<this._firstShowNum&&(this._dict_listFull[this._curDateClass]=!0)},_scrollToUp:function(){this.comp_scroll.scrollToTop(.2)},_setNull:function(e){"[object String]"!==Object.prototype.toString.call(e)&&(e="request timeout!"),this.label_null.string=e},_getLocalData:function(){for(var e=[],t=0;t<6;t++){var i={completiontime:"2007/1/1",transactiontype:cc.random0To1()>.5?"DEPOSIT":"",transactionmoney:(t+1)*(cc.random0To1()>.5?1:-1),balance:t};e.push(i)}return e}}),cc._RF.pop()},{BaseDialog:"BaseDialog"}],Prefab_dialog_announcement:[function(e,t,i){"use strict";cc._RF.push(t,"0a979XuE+1DBZdWzYrxkmwc","Prefab_dialog_announcement"),cc.Class({"extends":e("BaseDialog"),properties:{_lastTouchBtn:null,_list_prefabs:null,prefab_versionAnnouncement:{"default":null,type:cc.Prefab,displayName:"版本公告预制体"},prefab_officialDescAnnouncement:{"default":null,type:cc.Prefab,displayName:"官方说明预制体"}},onLoad:function(){this._super(),this._comp_exchangPages=this.getComponent("Part_dialog_exchangePages");var e=G_OBJ.data_dialog_exchangePages();e.leftDealScrollComp=this.comp_leftBtnContainer,e.leftPrefab=this.prefab_leftButton,e.leftContentList=["版本公告","官方说明"],e.leftClickFunc=null,e.rightDealScrollComp=this.comp_itemContainer,e.rightPrefabList=[this.prefab_versionAnnouncement,this.prefab_officialDescAnnouncement],this._comp_exchangPages.initData(e)},start:function(){this._comp_exchangPages.showDefault(!0)}}),cc._RF.pop()},{BaseDialog:"BaseDialog"}],Prefab_dialog_bull100Trend:[function(e,t,i){"use strict";cc._RF.push(t,"925ecqVmzFC678Qg63jFlDO","Prefab_dialog_bull100Trend"),cc.Class({"extends":e("BaseDialog"),properties:{},onLoad:function(){this._super("UI_trend"),this._setScrollData()},_setScrollData:function(){this._itemCompName="Obj_cell_trend";var e={itemPrefab:this.prefab_item,scrollType:G_TYPE.scrollType.vertical};this.comp_itemContainer.setData(e)},setData:function(e){if(G_Config_common.isLocal){var t=this._getLocalData();console.log(t),this._setNetData(t)}else{var i;switch(GG.getGameType()){case G_TYPE.gameModule.bull100:i=G_TYPE.http_gameModule.bull100;break;case G_TYPE.gameModule.grab:i=G_TYPE.http_gameModule.grab;break;case G_TYPE.gameModule.classic:i=G_TYPE.http_gameModule.classic;break;default:i=1}var n="gameModelId="+i+"&gameRoomId="+e;GG.httpMgr.sendHttpRequest(G_DIALOG_URL.trendUrl,n,function(e){e&&this._setNetData(e)}.bind(this))}},_setNetData:function(e){this.showLayer();var t,i=[],n=e.data;if(n){for(var o=0;o<n.length;o++)if(i[o]||(i[o]=[]),t=n[o].matchResult)for(var s=0;s<t.length;s++)i[o].push([t[s].itemType,t[s].outcome]);this._showList(i)}else;},_showList:function(e){for(var t,i,n,o=0;o<G_Config_common.showTrendItems;o++)t=e[o],t&&(i=this.comp_itemContainer.getItemByIndex(o),i&&(n=i.getComponent(this._itemCompName),n.setData(t)));this.comp_itemContainer.clearItems(o)},hideLayer:function(){this._super()},_getLocalData:function(){var e={};if(e.data=G_TOOL.getRandomBool()?null:[],e.data){for(var t=10*cc.random0To1(),i=0;i<t;i++){var n={matchResult:this._getMatchResult()};e.data.push(n)}e.msg=""}else e.msg="request error";return e},_getMatchResult:function(){for(var e=[],t=["SPADE","DIAMOND","CLUB","HEART"],i=0;i<G_TOOL.getRandomArea(0,4);i++){var n={itemType:t[G_TOOL.getRandomArea(0,3)],outcome:G_TOOL.getRandomBool()?1:0};e.push(n)}return e}}),cc._RF.pop()},{BaseDialog:"BaseDialog"}],Prefab_dialog_dealerList:[function(e,t,i){"use strict";cc._RF.push(t,"d94ba+GJL9EE60oQvN313Hn","Prefab_dialog_dealerList"),cc.Class({"extends":e("BaseDialog"),properties:{_minDealerGold:null,node_bottomBtns:{"default":null,type:cc.Node,displayName:"按钮容器"},node_goldTip:{"default":null,type:cc.Node,displayName:"金币限制提示"},comp_goldSlider:{"default":null,type:e("Obj_dealerListSlider"),displayName:"进度条"}},onLoad:function(){this._super("UI_dealerList"),this._dealerItemCompName="Obj_dealerListCell",this._moneyFormat="<color=#FFFD61>%s</c>",this._limitText=[G_CHINESE.dealerGoldText1,G_CHINESE.dealerGoldText2,G_CHINESE.dealerGoldText3,G_CHINESE.dealerGoldText4],this._changeInterval=G_Config_bull100.dealerSliderInterval,this._registerEvent(),this._initDealerList()},start:function(){},setData:function(e){this._minDealerGold=GG.bull100Mgr.getMinDealerGold();var t=e.myGold,i=e.dealerInfo,n=GG.getPlayerID(),o=!1,s=e.rankList;s||(s=[]);for(var a,l,r=[],c="",_=0;_<s.length;_++)a=s[_],l=!1,a.playerId==i.playerId?(i=null,l=!0,r.splice(0,0,{headImg:a.icon,name:a.nickname,gold:a.usableBalance,isDealer:l})):r.push({headImg:a.icon,name:a.nickname,gold:a.usableBalance,isDealer:l}),a.playerId==n&&(o=!0,c=_+1);i&&(r.splice(0,0,{headImg:i.icon,name:i.nickname,gold:i.usableBalance,isDealer:!0}),i.playerId==n&&(l=!0,o=!0)),this.setBtnShow(o,l),this._setDealerList(r);var h=this._changeInterval;o?(this.comp_goldSlider.setData(t,h,h),l?this._showDownTip(this._limitText[2]):this._showDownTip(G_TOOL.formatStr(this._limitText[3],c))):(this.comp_goldSlider.setData(t,h,this._minDealerGold),t<this._minDealerGold?(this._showDownTip(this._limitText[1],this._minDealerGold),this.setBtnEnable(this.node_bottomBtns.children[1],!1)):(this._showDownTip(this._limitText[0],this._minDealerGold),this.setBtnEnable(this.node_bottomBtns.children[1],!0)))},_registerEvent:function(){for(var e=this.node_bottomBtns.children,t=0;t<e.length;t++)e[t].tag=t,this.registerButton(e[t],this._onClick_dealerBtnsr,this)},hideLayer:function(e){this._super()},_onClick_dealerBtnsr:function(e){switch(e.currentTarget.tag){case 0:GG.bull100Mgr.commitContinueDealer(this.comp_goldSlider.getMoveNum());break;case 1:GG.bull100Mgr.send_upDealer(this.comp_goldSlider.getMoveNum());break;case 2:GG.bull100Mgr.send_downDealer()}},_initDealerList:function(){var e={itemPrefab:this.prefab_item};this.comp_itemContainer.setData(e)},_setDealerList:function(e){var t,i,n=0;for(n=0;n<e.length;n++)t=this.comp_itemContainer.getItemByIndex(n),t&&(i=t.getComponent(this._dealerItemCompName),i.setData(e[n]));this.comp_itemContainer.clearItems(n-1)},setGoldLimitTip:function(e,t){var i;i=e>t?this._limitText[0]:this._limitText[1],this.node_goldTip.getComponent(cc.Label).string=i},setBtnShow:function(e,t){var i=this.node_bottomBtns.children;i[0].active=e||t,i[1].active=!(e||t),i[2].active=e||t},upDealerSuccess:function(e){if(this.showLayer(),this.setData(e),e.tipStr){({tipIndex:19,showStr:e.tipStr,isCountDown:!1,showPos:G_DATA.getCenterTipPos()})}},downDealerSuccess:function(e){if(this.showLayer(),this.setData(e),e.tipStr){({tipIndex:19,showStr:e.tipStr,isCountDown:!1,showPos:G_DATA.getCenterTipPos()})}},_showDownTip:function(e,t){t=t?G_TOOL.formatStr(this._moneyFormat,G_TOOL.changeMoney(t)):"",this.node_goldTip.getComponent(cc.RichText).string=e+t}}),cc._RF.pop()},{BaseDialog:"BaseDialog",Obj_dealerListSlider:"Obj_dealerListSlider"}],Prefab_dialog_grabTrend:[function(e,t,i){"use strict";cc._RF.push(t,"7eb00tVidxEJaSOXaAgURkD","Prefab_dialog_grabTrend"),cc.Class({"extends":e("BaseDialog"),properties:{_resultDict:null,_oneResultDict:null,_loseColor:null,_bullResult:null,_bullValue:null,node_data:{"default":null,type:cc.Node,displayName:"走势图数据节点"},node_noData:{"default":null,type:cc.Node,displayName:"无走势记录时显示节点"},node_trendBG:{"default":null,type:cc.Node,displayName:"无走势记录时背景节点"}},onLoad:function(){this._super(),this._pokerCompName="Obj_poker",this._pokerResultCompName="Obj_onPokerResult",this._pokerContainerName="pokerContainer",this._pokerResultNodeName="Prefab_PokerResult",this._resultDict={},this._oneResultDict={},this._loseColor=new cc.Color(253,41,31),this._winColor=new cc.Color(155,176,235),this._notMatchColor=this.node_data.color,this.node_noData.active=!1,this._winPokerOff=G_Config_grab.num_winPokerOff,this._bullResult=0,this._bullValue=0},setData:function(e){var t;if(G_Config_common.isLocal)t={code:1,data:[{client:"[29, 30, 11, 17, 2]",profitamount:1},{client:"[27, 13, 45, 30, 26]",profitamount:-1},{client:"[48, 51, 40, 15, 10]"},{client:"[48, 51, 40, 15, 10]"},{client:"[48, 51, 40, 15, 10]"},{client:"[48, 51, 40, 15, 10]"}]},this.showLayer(),this._showList(t);else{var i={gameModelId:G_TYPE.http_gameModule.grab,gameRoomId:e};this._sendRequest(i,function(e){e&&(this.showLayer(),this._showList(e))}.bind(this))}},_sendRequest:function(e,t){var i="gameModelId="+e.gameModelId+"&gameRoomId="+e.gameRoomId;GG.httpMgr.sendHttpRequest(G_DIALOG_URL.trendUrl,i,function(e){e&&t&&t(e)}.bind(this))},_showList:function(e){if(0==e.code)this.node_noData.getComponent(cc.Label).string=e.msg,this.node_noData.active=!0,this.node_data.active=!1;else{var t=e.data;this.node_noData.active=!1,this.node_data.active=!0;for(var i,n=this.node_data.children,o=0;o<n.length;o++)i=t[o],i?(n[o].active=!0,this._setPokerGroupInfo(i.client,n[o]),this._setWinOrLose(parseInt(i.profitamount),n[o])):n[o].active=!1}},_setPokerGroupInfo:function(e,t){var i,n,o=[];e=JSON.parse(e);for(var s=0;s<e.length;s++)i=e[s],n=G_DATA.getPokerInfo(i),o.push({flow:n.pokerType,pokerValue:n.pokerValue}),s<3&&(n.pokerValue>10&&(n.pokerValue=10),this._bullResult+=n.pokerValue),3==s&&(n.pokerValue>10&&(n.pokerValue=10),this._bullValue=n.pokerValue),4==s&&(n.pokerValue>10&&(n.pokerValue=10),this._bullValue+=n.pokerValue);this._refreshPokerGroundInfo(o,t)},_refreshPokerGroundInfo:function(e,t){for(var i,n=this._bullValue,o=parseInt(this._bullResult),s=t.getChildByName(this._pokerContainerName),a=t.getChildByName(this._pokerResultNodeName),l=0;l<e.length+1;l++)l<5&&s?(i=s.children[l],i.getComponent(this._pokerCompName).setPokerInfo(e[l].flow,e[l].pokerValue,!0)):5==l&&a&&(o%10==0?(n=this._bullValue%10,0==n&&(n=10)):n=-1,a.getComponent(this._pokerResultCompName).showPokerResultValue(parseInt(n),!0));this._bullValue=0,this._bullResult=0},_setWinOrLose:function(e,t){var i,n,o=t.getChildByName("resultText");o&&(this._winOrLoseLabel=o.getComponent(cc.Label),this._winOrLoseNode=o,e?e>0?(i=G_CHINESE.winMatch,n=this._winColor):(i=G_CHINESE.loseMatch,n=this._loseColor):(i=G_CHINESE.notInvolvedMatch,n=this._notMatchColor),this._winOrLoseLabel.string=i,this._winOrLoseNode.color=n)}}),cc._RF.pop()},{BaseDialog:"BaseDialog"}],Prefab_dialog_playerList:[function(e,t,i){"use strict";cc._RF.push(t,"31df5LxwYNGio3rVyUA8TeG","Prefab_dialog_playerList"),cc.Class({"extends":e("BaseDialog"),properties:{label_null:{"default":null,type:cc.Label,displayName:"无数据时显示"}},onLoad:function(){this._super("UI_playerList"),this._dealerItemCompName="Obj_dialogPlayerListCell";var e={itemPrefab:this.prefab_item,lineNum:3,scrollType:G_TYPE.scrollType.bag};this.comp_itemContainer.setData(e),this.comp_scroll=this.comp_itemContainer.getScrollView(),this.comp_scroll.node.on("scroll-to-bottom",this._scrollToBottom,this)},setData:function(){if(G_Config_common.isLocal){var e=this._getLocalData();this._setNetData(e)}else this.comp_itemContainer.clearItems(-1),GG.httpMgr.sendHttpRequest(G_DIALOG_URL.playerListUrl,null,function(e){e&&this._setNetData(e)}.bind(this))},_setNetData:function(e){this.showLayer();var t,i=e.data;"0"==e.code?t=e.msg:(t="",this._netDataList=i,this._showListByTouch()),this._setNull(t)},_showListByTouch:function(){var e=15,t=this._netDataList.splice(0,e);if(t&&!(t.length<1)){for(var i,n,o,s=this.comp_itemContainer.getShowItemNum(),a=0;a<e;a++)i=t[a],i&&(n=this.comp_itemContainer.getItemByIndex(s+a),n&&(o=n.getComponent(this._dealerItemCompName),o.setData(i)));this.comp_itemContainer.clearItems(s+a-1)}},_scrollToBottom:function(){this._showListByTouch()},_setNull:function(e){this.label_null.string=e},hideLayer:function(){this._super()},_getLocalData:function(){var e={};if(e.data=[],e.code=G_TOOL.getRandomBool()?0:1,1==e.code){for(var t=47,i=0;i<t;i++){var n={avatarUrl:"",nickname:"name_"+i,coin:-3+Math.floor(10*cc.random0To1())};e.data.push(n)}console.log(e.data)}return e.msg="request error",e}}),cc._RF.pop()},{BaseDialog:"BaseDialog"}],Prefab_dialog_record:[function(e,t,i){"use strict";cc._RF.push(t,"8f2caKCwp1J3b0ZdiUpPIaq","Prefab_dialog_record"),cc.Class({"extends":e("BaseDialog"),properties:{_lastTouchBtn:null,_dict_cacheData:null,_firstShowNum:null,_curDateClass:null,_dict_listFull:null,label_null:{"default":null,type:cc.Label,displayName:"无数据时显示"},comp_scroll:{"default":null,type:cc.ScrollView,displayName:"滚动的容器"}},onLoad:function(){this._super(),this._dealerItemCompName="Obj_dialogRecordCell",this._comp_exchangPages=this.getComponent("Part_dialog_exchangePages"),this._firstShowNum=6,this._dict_cacheData={},this._dict_listFull={};var e=G_OBJ.data_dialog_exchangePages();e.leftDealScrollComp=this.comp_leftBtnContainer,e.leftPrefab=this.prefab_leftButton,e.leftContentList=G_CHINESE.exchangePageLeft,e.leftClickFunc=this.onClick_leftBtn.bind(this),e.rightDealScrollComp=this.comp_itemContainer,e.isStopSetRightContent=!0,this._comp_exchangPages.initData(e),this._comp_exchangPages.diyClickShow();var e={itemPrefab:this.prefab_item,scrollType:G_TYPE.scrollType.vertical};this.comp_itemContainer.setData(e),this.comp_scroll.node.on("scroll-to-bottom",this._scrollToBottom,this)},setData:function(){this._comp_exchangPages.showDefault(!0)},onClick_leftBtn:function(e){return G_Config_common.isLocal?(this.showLayer(),this._updateBottom(this._getLocalRecordData(),!0),void this._comp_exchangPages.doneClickShow(e)):void this._getDataByDate(e,1,function(t){this.showLayer(),this._curDateClass=e,this._comp_exchangPages.doneClickShow(e),this._updateBottom(t,!0)}.bind(this))},_getDataByDate:function(e,t,i){var n=this._dict_cacheData[e];if(n){var o=[];if(this._dict_cacheData[e].data){var s=this._dict_cacheData[e].data.datas.concat([]);o=s.splice(this._firstShowNum*(t-1),this._firstShowNum)}"[object Array]"===Object.prototype.toString.call(o)?i&&i(o):this._requestNetData(e,t,i)}else this._requestNetData(e,t,i)},_requestNetData:function(e,t,i){if(!this._dict_listFull[e]){var n=G_OBJ.data_requestRecord();n.gameId=GG.getPlayer().getGameID(),n.dateClass=e,n.pageSize=this._firstShowNum,n.pageNo=t;var o="gameId="+n.gameId+"&dateClass="+n.dateClass+"&pageSize="+n.pageSize+"&pageNo="+n.pageNo;GG.httpMgr.sendHttpRequest(G_DIALOG_URL.recordUrl,o,function(t){if(t){var n=this._cacheNetData(e,t);n&&i&&i(n)}}.bind(this))}},_cacheNetData:function(e,t){var i=[];return 1!=t.code||!t.data.datas||t.data.datas.length<1||(i=t.data.datas,this._dict_cacheData[e]&&(this._dict_cacheData[e].code=t.code,this._dict_cacheData[e].data?this._dict_cacheData[e].data.datas=this._dict_cacheData[e].data.datas.concat(i):this._dict_cacheData[e].data=t.data)),this._dict_cacheData[e]||(this._dict_cacheData[e]=t),i},_scrollToBottom:function(e){var t=this,i=this.comp_itemContainer.getShowItemNum();this._getDataByDate(this._curDateClass,this.comp_itemContainer.getPageNoByNum(i+1,this._firstShowNum),function(e){t._updateBottom(e)})},_updateBottom:function(e,t){var i,n,o,s=0,a=this.comp_itemContainer.getShowItemNum();t&&(a=0);for(var l=a;l<a+this._firstShowNum&&(o=e[s],o);l++)i=this.comp_itemContainer.getItemByIndex(l),i&&(n=i.getComponent(this._dealerItemCompName),n.setData(o)),s+=1;t&&(this.comp_itemContainer.clearItems(e.length-1),this._scrollToUp(),e.length<1?this._setNull(this._dict_cacheData[this._curDateClass].msg):this._setNull("")),e.length<this._firstShowNum&&(this._dict_listFull[this._curDateClass]=!0)},_scrollToUp:function(){this.comp_scroll.scrollToTop(.2)},_setNull:function(e){"[object String]"!==Object.prototype.toString.call(e)&&(e="request timeout!"),this.label_null.string=e},_getLocalRecordData:function(){for(var e=[],t=0;t<7;t++){var i={confirmtime:"2007/1/1",gamemodelname:"经典",gameroomname:"房间"+t,effectiveamount:1e3,profitamount:123*(cc.random0To1()>.5?1:-1)};e.push(i)}return e[0].profitamount=-5e3,e[1].profitamount=-1e4,e}}),cc._RF.pop()},{BaseDialog:"BaseDialog"}],Prefab_dialog_rulesInHome:[function(e,t,i){"use strict";cc._RF.push(t,"0a6d2HHpjdIAJJYp8T52/0Q","Prefab_dialog_rulesInHome"),cc.Class({"extends":e("BaseDialog"),properties:{prefab_Bull100:{"default":null,type:cc.Prefab,displayName:"百人规则内容"},prefab_grab:{"default":null,type:cc.Prefab,displayName:"押宝规则内容"}},onLoad:function(){this._super("UI_rulesInHome"),this._rulesContent=[this.prefab_Bull100,this.prefab_grab]},setData:function(e){this._initRulesContent(e)},_initRulesContent:function(e){var t=cc.instantiate(this._rulesContent[e-1]);t.parent=this.comp_itemContainer.node,t.active=!0},hideLayer:function(){this._super()}}),cc._RF.pop()},{BaseDialog:"BaseDialog"}],Prefab_dialog_rules:[function(e,t,i){"use strict";cc._RF.push(t,"966e2xbsN5Cn4mFk1IER7RH","Prefab_dialog_rules"),cc.Class({"extends":e("BaseDialog"),properties:{_rulesContent:null,_dict_rulePage:null,_lastPage:null,_lastIndex:null,prefab_introduce:{"default":null,type:cc.Prefab,displayName:"规则简介预制体"},prefab_bull100:{"default":null,type:cc.Prefab,displayName:"百人规则预制体"},prefab_grab:{"default":null,type:cc.Prefab,displayName:"押宝规则预制体"}},onLoad:function(){this._super(),this._comp_exchangPages=this.getComponent("Part_dialog_exchangePages");var e=G_OBJ.data_dialog_exchangePages();e.leftDealScrollComp=this.comp_leftBtnContainer,e.leftPrefab=this.prefab_leftButton,e.leftContentList=["游戏简介","百人大战","押宝大战"],e.leftClickFunc=null,e.rightDealScrollComp=this.comp_itemContainer,e.rightPrefabList=[this.prefab_introduce,this.prefab_bull100,this.prefab_grab],this._comp_exchangPages.initData(e)},start:function(){this._comp_exchangPages.showDefault()}}),cc._RF.pop()},{BaseDialog:"BaseDialog"}],Prefab_dialog_set:[function(e,t,i){"use strict";cc._RF.push(t,"82611/wMStMw5RCoIcdMM0t","Prefab_dialog_set");var n={typeMusic:1,typeSound:2};cc.Class({"extends":e("BaseDialog"),properties:{_musicIsOpen:null,_soundIsOpen:null,_isOpenFirst:null,_dict_lastSet:null,node_changeBtn:{"default":null,type:cc.Node,displayName:"切换账号"},node_musicSwitch:{"default":null,type:cc.Node,displayName:"音乐开关"},node_soundSwitch:{"default":null,type:cc.Node,displayName:"音效开关"},node_musicIcon:{"default":null,type:cc.Node,displayName:"音乐左边图标"},node_soundIcon:{"default":null,type:cc.Node,displayName:"音效左边图标"},label_name:{"default":null,type:cc.Label,displayName:"玩家名字"}},onLoad:function(){this._super(),this._registerEvent(),this._isOpenFirst=!0},_registerEvent:function(){this.registerButton(this.node_changeBtn,this._onClick_change,this),this.registerButton(this.node_musicSwitch,this.onClick_open,this,n.typeMusic,!0),this.registerButton(this.node_soundSwitch,this.onClick_open,this,n.typeSound,!0)},hideLayer:function(){this._super(),this._dict_lastSet=null},_onClick_close:function(){if(G_Config_common.isLocal)return void this.hideLayer();if(this._dict_lastSet)if(this._dict_lastSet.music!=this._musicIsOpen||this._dict_lastSet.sound!=this._soundIsOpen){var e=this._musicIsOpen?"Set_open":"Set_close",t=this._soundIsOpen?"Set_open":"Set_close",i="musicClass="+e+"&soundClass="+t+"&gameType=DOU_NIU",n=this;GG.httpMgr.sendHttpRequest(G_DIALOG_URL.saveSystemSetUrl,i,function(e){n.hideLayer()}.bind(this))}else this.hideLayer();else this.hideLayer()},setData:function(){var e=this;if(G_Config_common.isLocal){var t={music:!0,sound:!0};this._dict_lastSet=t,GG.audioMgr.getAudioConfig()?t=GG.audioMgr.getAudioConfig():GG.audioMgr.setAudioConfig({music:!0,sound:!0}),this.defaultSetSound(t.music,t.sound),this._setName(),e.showLayer()}else{var t=GG.audioMgr.getAudioConfig();if(t){this._dict_lastSet={};for(var i in t)this._dict_lastSet[i]=t[i];this.defaultSetSound(t.music,t.sound),this._setName(),e.showLayer()}}},onClick_open:function(e,t){switch(t){case n.typeMusic:this._setMusicOpen(),GG.audioMgr.saveMusicConfig(this._musicIsOpen);break;case n.typeSound:this._setSoundOpen(),GG.audioMgr.saveSoundConfig(this._soundIsOpen)}},_setMusicOpen:function(){this._musicIsOpen=!this._musicIsOpen;var e,t,i;t=this.node_musicSwitch.children[0],e=this.node_musicSwitch.children[1],i=this.node_musicIcon.children[0],t.active=this._musicIsOpen,this._musicIsOpen?e.x=this.node_musicSwitch.width/2-e.width/2:e.x=-this.node_musicSwitch.width/2+e.width/2,i.active=this._musicIsOpen},_setSoundOpen:function(){this._soundIsOpen=!this._soundIsOpen;var e,t,i;t=this.node_soundSwitch.children[0],e=this.node_soundSwitch.children[1],i=this.node_soundIcon.children[0],t.active=this._soundIsOpen,this._soundIsOpen?e.x=this.node_soundSwitch.width/2-e.width/2:e.x=-this.node_soundSwitch.width/2+e.width/2,i.active=this._soundIsOpen},defaultSetSound:function(e,t){this._musicIsOpen=!e,this._soundIsOpen=!t,this._setMusicOpen(),this._setSoundOpen()},_setName:function(e){e=G_Config_common.isLocal?"123456":GG.getPlayer().getPlayerName(),e=e?G_TOOL.getNameLimit(e,16):"",this.label_name.string=e},_onClick_change:function(e){GG.tipsMgr.showConfirmTip_TWO(G_CHINESE.exitText2,function(){GG.exitGame()})}}),cc._RF.pop()},{BaseDialog:"BaseDialog"}],Prefab_dialog_trend:[function(e,t,i){"use strict";cc._RF.push(t,"414dePmJ3NOd7eATXcLfkn7","Prefab_dialog_trend"),cc.Class({"extends":e("BaseDialog"),properties:{},onLoad:function(){this._super("UI_trend"),this._setScrollData()},_setScrollData:function(){this._itemCompName="Obj_cell_trend";var e={itemPrefab:this.prefab_item,scrollType:G_TYPE.scrollType.vertical};this.comp_itemContainer.setData(e)},setData:function(e){var t;if(G_Config_common.isLocal){t=[];for(var i=0;i<5;i++){var n=[["SPADE",1],["DIAMOND",0],["CLUB",1],["HEART",0]];t.push(n)}this._showList(t)}else{var o;switch(GG.getGameType()){case G_TYPE.gameModule.bull100:o=G_TYPE.http_gameModule.bull100;break;case G_TYPE.gameModule.grab:o=G_TYPE.http_gameModule.grab;break;case G_TYPE.gameModule.classic:o=G_TYPE.http_gameModule.classic;break;default:o=1}var s="gameModelId="+o+"&gameRoomId="+e;GG.httpMgr.sendHttpRequest(G_DIALOG_URL.trendUrl,s,function(e){if(e){this.showLayer();var t,i=[],n=e.data;if(n){for(var o=0;o<n.length;o++)if(i[o]||(i[o]=[]),t=n[o].matchResult)for(var s=0;s<t.length;s++)i[o].push([t[s].itemType,t[s].outcome]);this._showList(i)}else e.msg}}.bind(this))}},_showList:function(e){for(var t,i,n,o=0;o<G_Config_common.showTrendItems;o++)t=e[o],t&&(i=this.comp_itemContainer.getItemByIndex(o),i&&(n=i.getComponent(this._itemCompName),n.setData(t)));this.comp_itemContainer.clearItems(o)},hideLayer:function(){this._super()}}),cc._RF.pop()},{BaseDialog:"BaseDialog"}],Prefab_roomList:[function(e,t,i){"use strict";cc._RF.push(t,"45c8dc1TENGMo9nIQJY25EY","Prefab_roomList"),cc.Class({"extends":e("BaseUI"),properties:{_dict_loadScene:null,_loadingScene:null,prefab_item:{"default":null,type:cc.Prefab,displayName:"房间预制体"},comp_itemContainer:{"default":null,type:e("Obj_dealScroll"),displayName:"房间列表容器"},node_roomName:{"default":null,type:cc.Node,displayName:"房间列表名称"}},onLoad:function(){this._dealerItemCompName="Obj_roomListCell",this._dict_loadScene={};var e={itemPrefab:this.prefab_item,lineNum:3,scrollType:G_TYPE.scrollType.bag};this.comp_itemContainer.setData(e)},setDataList:function(e){e&&(G_DATA.getRoomListJson(function(t){t?this.setRoomList(e.data,e.enterType,t):G_Config_common.isLocal&&(t=this._getLocalJson(),this.setRoomList(e.data,e.enterType,t))}.bind(this)),this._reloadScene())},setRoomList:function(e,t,i){this._showRoomName(t);var n,o=0,s=6;if(e){e=this._resortDataList(e);var a,l,r;for(o=0;o<e.length;o++)a=this.comp_itemContainer.getItemByIndex(o),a&&(l=a.getComponent(this._dealerItemCompName),r=e[o],r.enterType=t,n=(o+1)%s,l.setData(r,i[0==n?s:n]))}this.comp_itemContainer.clearItems(o-1),this.comp_itemContainer.scrollToUp()},_resortDataList:function(e){for(var t,i={},n=e.length-1;n>-1;n--)t=e[n],i[t.minLimitPlayerBlance]||(i[t.minLimitPlayerBlance]=[]),this._doBalancePush(i[t.minLimitPlayerBlance],t);var o=[],s=Object.keys(i);s.sort(function(e,t){var i=parseInt(e,10),n=parseInt(t,10);return i<n?-1:i>n?1:0});for(var a;this._isHaveChild(i);)for(var n=0;n<s.length;n++)if(a=i[s[n]])if(a.length<1)delete i[s[n]];else{var l=a.splice(0,1)[0];l&&o.push(l)}return o},_isHaveChild:function(e){for(var t in e)if(e[t])return!0;return!1},_doBalancePush:function(e,t){for(var i=e.length,n=0;n<i;n++)if(t.id<e[n].id){e.splice(n,0,t);break}i==e.length&&e.push(t)},_reloadScene:function(){if(!this._loadingScene){var e=this,t=G_TYPE.sceneName.loadingScene;cc.director.preloadScene(t,function(){e._loadingScene=!0})}},_showRoomName:function(e){var t=this.node_roomName.getChildByName("grab"),i=this.node_roomName.getChildByName("bull100");if(t&&i)switch(parseInt(e)){case G_TYPE.gameModule.bull100:i.active=!0,t.active=!1;break;case G_TYPE.gameModule.classic:break;case G_TYPE.gameModule.grab:var t=this.node_roomName.getChildByName("grab");t.active=!0,i.active=!1}},_getLocalJson:function(){return{1:{txtImgUrl:"images/room/name/platform_room_n_7.png",bgImgUrl:"images/room/bg/platform_room_b_1000.png"},2:{txtImgUrl:"images/room/name/platform_room_n_8.png",bgImgUrl:"images/room/bg/platform_room_b_2000.png"},3:{txtImgUrl:"images/room/name/platform_room_n_11.png",bgImgUrl:"images/room/bg/platform_room_b_20000.png"},4:{txtImgUrl:"images/room/name/platform_room_n_9.png",bgImgUrl:"images/room/bg/platform_room_b_5000.png"},5:{txtImgUrl:"images/room/name/platform_room_n_12.png",bgImgUrl:"images/room/bg/platform_room_b_50000.png"},6:{txtImgUrl:"images/room/name/platform_room_n_10.png",bgImgUrl:"images/room/bg/platform_room_b_10000.png"},7:{txtImgUrl:"images/room/name/platform_room_n_7.png",bgImgUrl:"images/room/bg/platform_room_b_1000.png"}}}}),cc._RF.pop()},{BaseUI:"BaseUI",Obj_dealScroll:"Obj_dealScroll"}],ReloadResMgr:[function(e,t,i){"use strict";cc._RF.push(t,"45da4o85DFHhavko98DhvWK","ReloadResMgr");var n=cc.Class({_dict_urlRes:null,_dict_headImg:null,_list_headImg:null,ctor:function(){},getHeadImg:function(e,t){if(this._dict_headImg||(this._dict_headImg={},this._list_headImg=[]),this._dict_headImg[e]){t&&t(this._dict_headImg[e][0]);var i=this._list_headImg.indexOf(e);i>-1&&(this._list_headImg.splice(i,1),this._list_headImg.splice(0,0,e))}else cc.loader.load(e,function(i,n){var o;if(i)console.log("request headImg error== "+i);else if(n&&(o=new cc.SpriteFrame(n),o&&(this._dict_headImg[e]=[o,n],this._list_headImg.splice(0,0,e),this._list_headImg.length>30))){var s=this._list_headImg.pop();this.removeOneHeadImg(s)}t&&t(o)}.bind(this))},removeOneHeadImg:function(e){this._dict_headImg[e]&&(cc.loader.releaseAsset(this._dict_headImg[e][0]),cc.loader.releaseAsset(this._dict_headImg[e][1]),delete this._dict_headImg[e])},removeAllImages:function(){for(var e in this._dict_headImg)cc.loader.releaseAsset(this._dict_headImg[e][0]),cc.loader.releaseAsset(this._dict_headImg[e][1])}});t.exports=n,cc._RF.pop()},{}],SocketCenter:[function(e,t,i){"use strict";cc._RF.push(t,"e36ccbGsY1MGLLYmQC2ljPd","SocketCenter"),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&(0|e)===e}),void 0!=window.netBeanInited&&window.netBeanInited||(window.NetBean=new Object);var n=function(){this.pos=0,this.data="",this.len=0,this.deepCount=0},o=14e8,s=function(e,t,i){this.wsUrl=e,this.msgHandle=t,this.printMsg=i,this.timeDiff=o,this.getServerTime=function(){return(new Date).getTime()-this.timeDiff},this.resetServerTime=function(e){this.timeDiff=Math.min(this.timeDiff,(new Date).getTime()-e)}};s.prototype.isConnected=function(){return this.socket&&this.socket.readyState==WebSocket.OPEN},s.prototype.connect=function(){if(window.WebSocket||(window.WebSocket=window.MozWebSocket),window.WebSocket){this.socket=new WebSocket(this.wsUrl);var e=this;return this.socket.onmessage=function(t){var i=n.toObject(t.data,e);if(i==-1)e.onOpen&&e.onOpen();else{var o=!0;e.msgReceived&&(o=e.msgReceived(i.constructor.className,i)),e.printMsg}},this.socket.onopen=function(e){this.send("0")},this.socket.onclose=function(t){e.onClose&&e.onClose()},this}},s.prototype.sendHeart=function(){if(this.socket.readyState==WebSocket.OPEN)return this.socket.send(String.fromCharCode(9)),!0;throw new Error("Disconnect from Server,Please try again...")},s.prototype.send=function(e,t){if(this.socket.readyState==WebSocket.OPEN){try{var i=n.toMsg(e,t);this.socket.send(i)}catch(o){console.error(o)}return!0}throw new Error("Disconnect from Server,Please try again...")},n.TYPE_NUM=0,n.TYPE_NUMS=1,n.TYPE_NUM_MAP=2,n.TYPE_STRING=4,n.TYPE_STRINGS=5,n.TYPE_STRING_MAP=6,n.TYPE_BOOL=8,n.TYPE_BOOLS=9,n.TYPE_BOOL_MAP=10,n.Type=function(e,t){return this.collectionType=e,this.jsonClass=t,this},n.getMsg=function(e){var t=new n;return t.data=e,t};var a=0,l=3;n.prototype.loadJsons=function(e){for(var t=function(e){return NetBean[e]||(NetBean[e]=function(){return this}),NetBean[e]},i=this.getLong(),o=0;o<i;o++){var s=this.getLong(),a=t(s);a.event=s,a.className=this.getString(),a.sendBy=this.getLong(),NetBean[a.className]=a;var l=this.getLong();a.fields=new Array,a.types=new Array,a.requireds=new Array;for(var r=0;r<l;r++){var c=this.getLong();a.requireds[c]=1==this.getLong(),a.fields[c]=this.getString();var _=this.getLong(),h=this.getLong();h<8?(h=4*h+_,a.types[c]=h):a.types[c]=new n.Type(_,t(h-8))}}window.netBeanInited=!0},n.toObject=function(e,t){var i=n.getMsg(e),o=i.getLong();t.resetServerTime(o);var s=i.getLong();return s==-1?(i.loadJsons(t),-1):i.toObject(NetBean[s])},n.toMsg=function(e,t){var i=new n,o=NetBean[e];return i.putLong(o.event),i.toMsg(o,t),i.data},n.prototype.toMsg=function(e,t){var i=0;this.mark();for(var n=e.types,o=e.fields,s=e.requireds,a=0;a<o.length;a++){var l=t[o[a]];if(void 0!=l&&null!=l){i++,this.putLong(a);var r=this.toFieldMsg(n[a],l);if(null!=r)throw new Error("变量赋值错误,NetBean."+e.className+"."+e.fields[a]+"="+l+",数据类型应该为:"+r)}else if(s[a])throw new Error("required的值不能为空,NetBean."+e.className+"."+e.fields[a]);
}this.putByteOnMark(i)},n.prototype.toFieldMsg=function(e,t){switch(e){case n.TYPE_NUM:if(!Number.isInteger(t))return"数字整型";this.putLong(t);break;case n.TYPE_STRING:if("string"!=typeof t)return"字符串类型";this.putString(t);break;case n.TYPE_BOOL:if("boolean"!=typeof t)return"布尔类型";this.putBoolean(t);break;default:var i=a,o=n.TYPE_NUM;switch("number"==typeof e?(i=3&e,o=e-i):(i=e.collectionType,o=-1),i){case a:this.toMsg(e,t);break;case l:this.mark();var s=0;for(var r in t)this.toFieldMsg(n.TYPE_STRING,r+""),o!=-1?this.toFieldMsg(o,t[r]):this.toMsg(e.jsonClass,t[r]),s++;this.putLongOnMark(t.length);break;default:this.putLong(t.length);for(var r in t)o!=-1?this.toFieldMsg(o,t[r]):this.toMsg(e.jsonClass,t[r])}}return null},n.prototype.toObject=function(e){var t;try{t=new e}catch(i){console.log(i)}for(var o=this.getByte(),s=0;s<o;s++){var r=this.getLong(),c=e.types[r],_="number"!=typeof c;if(!_&&c&!0||_&&c.collectionType!=a){var h=!1;_?h=c.collectionType==l:(3==(3&c)&&(h=!0),c-=3&c);var u=this.getFiled(n.TYPE_NUM);h?t[e.fields[r]]={}:t[e.fields[r]]=new Array;for(var d=0;d<u;d++){var p=h?this.getFiled(n.TYPE_STRING):d;t[e.fields[r]][p]=this.getFiled(c)}}else t[e.fields[r]]=this.getFiled(c)}return t},n.prototype.getFiled=function(e){switch(e){case n.TYPE_NUM:return this.getLong();case n.TYPE_STRING:return this.getString();case n.TYPE_BOOL:return this.getBoolean();default:return this.toObject(e.jsonClass)}},n.prototype.getLen=function(){var e=this.data.charCodeAt(this.pos++),t=e>>4&7;e=15&e;for(var i=0;i<t;i++)e|=this.data.charCodeAt(this.pos++)<<7*i+4;return e+this.pos},n.prototype.putLong=function(e){var t=e>0;t||(e*=-1);for(var i=0,n=e;n>0;)n=parseInt(n/2),i++;i=parseInt((i+3)/7),this.data+=String.fromCharCode(i<<4|(t?0:1)<<3|7&e),e=parseInt(e/8);for(var o=0;o<i;o++)this.data+=String.fromCharCode(127&e),e=parseInt(e/128)},n.prototype.getLong=function(){for(var e=this.data.charCodeAt(this.pos++),t=7&e,i=e>>4&7,n=8,o=0;o<i;o++)t+=(255&this.data.charCodeAt(this.pos++))*n,n*=128;return t*=0==(8&e)?1:-1},n.prototype.mark=function(){this.marks||(this.marks=new Array),this.marks.push(this.data),this.data=""},n.prototype.putByteOnMark=function(e){this.data=this.marks.pop()+String.fromCharCode(127&e)+this.data},n.prototype.putLongOnMark=function(e){var t=this.marks.pop(),i=e>0;i||(e*=-1);for(var n=0,o=e;o>0;)o=parseInt(o/2),n++;n=parseInt((n+3)/7),t+=String.fromCharCode(n<<4|(i?0:1)<<3|7&e),e=parseInt(e/8);for(var s=0;s<n;s++)t+=String.fromCharCode(127&e),e=parseInt(e/128);this.data=t+this.data},n.prototype.putByte=function(e){return this.data+=String.fromCharCode(127&e)},n.prototype.getByte=function(){return 127&this.data.charCodeAt(this.pos++)},n.prototype.putBoolean=function(e){return this.data+=String.fromCharCode(e?1:0)},n.prototype.getBoolean=function(){return 1==this.data.charCodeAt(this.pos++)},n.prototype.putString=function(e){for(var t=0,i=0;i<e.length;i++){var n=e.charCodeAt(i);t+=n<127?1:n<=2047?2:n<=65535?3:4}for(var o=0,s=t;s>0;)s>>=1,o++;o=parseInt((o+2)/7),s=t,this.data+=String.fromCharCode(o<<5|31&s),s>>=5;for(var i=0;i<o;i++)this.data+=String.fromCharCode(127&s),s>>=7;this.len+=t-e.length,this.data+=e},n.prototype.getString=function(){for(var e=this.data.charCodeAt(this.pos++),t=e>>5&3,i=31&e,n=0;n<t;n++)i|=(255&this.data.charCodeAt(this.pos++))<<7*n+5;if(0==i)return"";for(var o=0,s=this.pos,n=this.pos;n<this.data.length;n++){var a=this.data.charCodeAt(this.pos++);if(o+=a<127?1:a<=2047?2:a<=65535?3:4,o>=i)break}return this.data.substring(s,this.pos)},t.exports=s,cc._RF.pop()},{}],SocketMgr:[function(e,t,i){"use strict";cc._RF.push(t,"0988511JJBLsZEgA1+HGHAL","SocketMgr");var n=e("SocketCenter"),o=cc.Class({_socketCenter:null,_dict_shortEvents:null,_dict_longEvents:null,_dict_pauseInfo:null,_list_sendFail:null,_isHasBreak:null,_heartIntervalID:null,_timeOutID1:null,_dict_recvNetSpecial:null,properties:{},ctor:function(){this._dict_shortEvents={},this._dict_longEvents={},this._dict_recvNetSpecial={},this._isHasBreak=!1},connectSocket:function(e){if(!this._socketCenter){var t,i;cc.sys.isNative?(t="192.168.0.100/player/",i=8888):t=GG.webHandler.getLocalHost(),t.indexOf(":")>-1&&(t=t.substring(0,t.indexOf(":"))),""==t&&(t="localhost"),window.wsPort&&(i=window.wsPort);var o="ws://"+t+":"+i+"/ws";this._socketCenter=new n(o,null,(!1)),this._socketCenter.msgReceived=this.receiveMsg.bind(this);var s=this;this._socketCenter.onOpen=function(){s._whenOpen(e)},this._socketCenter.onClose=function(){s._whenClose()},this._connect()}},_whenOpen:function(e){if(this._list_sendFail)for(var t,i=0;i<this._list_sendFail.length;i++)t=this._list_sendFail[i],this.SendMsg(t.netType,t.msgDict,t.callFunc);this._list_sendFail=null,this._isHasBreak&&(GG.topTouchLayer.closeNetRequest(),this._cancelTimeOutCheck(),this._isHasBreak=!1,this._isLimit||GG.getGameType()!=G_TYPE.gameModule.platform&&GG.exitHome()),this._isLimit||GG.loginSocket(),this._isLimit=!1,e&&(e(!0),e=null)},_whenClose:function(){this._connect(),this._isHasBreak=!0,this._isLimit&&this._startTimeOutCheck()},_connect:function(){this._socketCenter&&(this._socketCenter.connect(),this._addHeartInfo())},getIsConnected:function(){return Boolean(this._socketCenter&&this._socketCenter.isConnected())},getServerTime:function(){return this._socketCenter?this._socketCenter.getServerTime():(new Date).getTime()},SendMsg:function(e,t,i){if(!this._dict_shortEvents.hasOwnProperty(e)){var n;if(!NetBean[e])return this._list_sendFail||(this._list_sendFail=[]),void this._list_sendFail.push({netType:e,msgDict:t,callFunc:i});n=new NetBean[e];for(var o in t)n[o]=t[o];i&&this._autoRegisterListenerFunc(e,i),this._socketCenter.send(e,n)}},_autoRegisterListenerFunc:function(e,t){switch(e){case NetType.s_enterHouse:this.registerLong(NetType.r_enterHouseReturn,t)}},receiveMsg:function(e,t){var i=cc.find("Canvas");if(!i||!i.active)return!0;if(GG.getGameState()==G_TYPE.webGameState.pause)return this._savePauseInfo(e,t),!1;var n=this._checkCode(t);if(!n)return!1;if(this._globalNetType(e,t),GG.getIsLoading()){var o=this._setLoadingNetData(e,t);if(o)return}var s=!0;return this._dict_shortEvents&&this._dict_shortEvents[e]?(this._dict_shortEvents[e](t),delete this._dict_shortEvents[e],s=!1):this._dict_longEvents&&this._dict_longEvents[e]&&(this._dict_longEvents[e](t),s=!1),s},registerLong:function(e,t){this._dict_longEvents[e]=t},cancelLong:function(e){delete this._dict_longEvents[e]},cancelAllLongListen:function(){for(var e in this._dict_longEvents)delete this._dict_longEvents[e];for(var e in this._dict_shortEvents)delete this._dict_shortEvents[e]},getOffSeconds:function(e,t){return Math.max(Math.floor(.001*(t-e)),0)},_addHeartInfo:function(){G_DATA.isNumber(this._heartIntervalID)&&(clearInterval(this._heartIntervalID),this._heartIntervalID=null);var e=(new Date).getTime();this._heartIntervalID=setInterval(function(){var t=(new Date).getTime();t-e>=3500&&(this._socketCenter&&this._socketCenter.isConnected()&&this._socketCenter.sendHeart(),e=(new Date).getTime())}.bind(this),500,null)},_checkCode:function(e){if(!e.tip)return!0;switch(e.tip.code){case G_TYPE.serverCodeType.success:break;case G_TYPE.serverCodeType.serverErr1:return GG.tipsMgr.showConfirmTip_ONE(e.tip.tip),!1;default:return!0}return!0},_globalNetType:function(e,t){switch(e){case NetType.r_mineHaveGrab:var i=t.tip;if(i.code!=G_TYPE.serverCodeType.success)return;var n=G_OBJ.data_nbSelf();n.balance=t.player.balance,n.usableBalance=t.usableBalance,GG.getPlayer().setPlayerGold(n);break;case NetType.r_nbSelf:var i=t.tip;if(!i||i.code==G_TYPE.serverCodeType.success){var n=G_OBJ.data_nbSelf();n.balance=t.balance,n.usableBalance=t.usableBalance,GG.getPlayer().setPlayerGold(n)}}},_setLoadingNetData:function(e,t){switch(e){case NetType.r_bull100_reStartGame:GG.curMgr.updateEnterHomeData(t);var i=GG.getPlayer().getInHomeData();i&&(i.net_resetHomeData=t,GG.getPlayer().setInHomeData(i));break;case NetType.r_grab_reStartGame:GG.curMgr.updateEnterHomeData(t);var i=GG.getPlayer().getInHomeData();i&&(i.net_resetHomeData=t,GG.getPlayer().setInHomeData(i));break;case NetType.r_enterHouseReturn:return!1}return!0},_savePauseInfo:function(e,t){if(GG.curMgr)switch(e){case NetType.r_bull100_reStartGame:GG.curMgr.updateEnterHomeData(t);break;case NetType.r_grab_reStartGame:GG.curMgr.updateEnterHomeData(t);break;case NetType.r_grabEnd:GG.curMgr.setBettingEndInfo(t);break;case NetType.r_mineHaveGrab:t.player&&(isNaN(t.player.balance)||GG.curMgr.getMyselfComp().setGoldValue(t.player.balance));break;case NetType.r_idleTimeOut:this._dict_recvNetSpecial[NetType.r_idleTimeOut]=t;break;case NetType.r_passiveOut:this._dict_recvNetSpecial[NetType.r_passiveOut]=t}},parsePauseInfo:function(){if(GG.curMgr){GG.curMgr.refreshHome();for(var e in this._dict_recvNetSpecial)switch(e){case NetType.r_idleTimeOut:GG.curMgr.net_idleTimeOut(this._dict_recvNetSpecial[e]);break;case NetType.r_passiveOut:GG.curMgr.net_passiveOut(this._dict_recvNetSpecial[e])}return void(this._dict_recvNetSpecial={})}},_startTimeOutCheck:function(){this._cancelTimeOutCheck();var e=6e3,t=this;this._timeOutID1=setTimeout(function(){GG.topTouchLayer.closeNetRequest(),GG.showReconnect(function(){t._whenClose(),GG.topTouchLayer.showNetRequest(!0)})},e)},_cancelTimeOutCheck:function(){G_DATA.isNumber(this._timeOutID1)&&clearTimeout(this._timeOutID1)},setTimeOutLimit:function(e){this._cancelTimeOutCheck(),this._isLimit=e}});t.exports=o,cc._RF.pop()},{SocketCenter:"SocketCenter"}],SocketRequestMgr:[function(e,t,i){"use strict";cc._RF.push(t,"8ebd8sa+V1C0ZZpdqrs0I/G","SocketRequestMgr"),t.exports=cc.Class({properties:{_dict_sendInfo:null},ctor:function(){this._dict_sendInfo={}},send_inHome:function(e,t){this._dict_sendInfo[NetType.s_enterHouse]=t,GG.socketMgr.SendMsg(NetType.s_enterHouse,e,this._netData_inHome.bind(this))},_netData_inHome:function(e){var t=e.tip;if(t.code!=G_TYPE.serverCodeType.success)t.code==G_TYPE.serverCodeType.goldNotEnough,GG.tipsMgr&&GG.tipsMgr.showConfirmTip_ONE(t.tip,function(){t.code==G_TYPE.serverCodeType.matchNoEnd}),e=null;else{var i=G_OBJ.data_inHomeData();i.net_inHomeData=e,GG.getPlayer().setInHomeData(i)}this._dict_sendInfo[NetType.s_enterHouse]&&(this._dict_sendInfo[NetType.s_enterHouse](e),delete this._dict_sendInfo[NetType.s_enterHouse])}}),cc._RF.pop()},{}],TablesMgr:[function(e,t,i){"use strict";cc._RF.push(t,"4cc05tUHe5HaZ3zY38K9L/1","TablesMgr");var n=cc.Class({_nameList:null,_typeList:null,_firstDict:null,_dataDict:null,_keyList:null,setData:function(e,t,i,n){this._nameList=e,this._typeList=t,this._firstDict=i,this._keyList=n,this._dataDict={}},getDataByID:function(e){if(this._dataDict[e])return this._dataDict[e];var t=this._parseObj(e);return this._dataDict[e]=t,t},getKeyList:function(){return this._keyList},getFirstData:function(){var e;for(var t in this._firstDict)if(e=this.getDataByID(t))break;return e},getAllData:function(){for(var e,t={},i=0;i<this._keyList.length;i++)e=this._keyList[i],t[e]=this.getDataByID(e);return t},_parseObj:function(e){if(!this._firstDict)return null;var t=this._firstDict[e];if(!t)return console.log("table parse _____ no this key :"+e),null;for(var i={},n=1;n<t.length;n++){var o=this._parseByType(t[n],this._typeList[n],this._nameList[n]);i[this._nameList[n]]=o}return i},_parseByType:function(e,t,i){if(void 0==e||null==e)return null;try{switch(t){case"key_int":return parseInt(e);case"number":return parseFloat(e);case"string":return e.toString();case"json":return e=e.replace(/\'/g,'"'),JSON.parse(e);case"calculate":return e.toString();default:return null}}catch(n){return console.log(n),null}}}),o=cc.Class({properties:{_tDict:null,_callFunc:null,_list_reloadNames:null},ctor:function(){},getTable:function(e){return this._tDict[e]},reloadTables:function(e,t){var i=Object.prototype.toString.call(e);switch(i){case"[object String]":this._list_reloadNames=[e];break;case"[object Array]":this._list_reloadNames=e;break;case"[object Object]":this._list_reloadNames=[];for(var n in e)this._list_reloadNames.push(e[n]);break;default:return}this._callFunc=t,this._loadStep()},_loadStep:function(){if(this._list_reloadNames.length<=0)return void(this._callFunc&&(this._callFunc(),this._callFunc=null));var e=this._list_reloadNames.splice(0,1);this._loadTable(e)},_loadTable:function(e){return this._tDict&&this._tDict[e]?void this._loadStep():void cc.loader.loadRes("Tables/"+e,function(t,i){t?(console.log(t),this._callFunc&&(this._callFunc(),this._callFunc=null)):(this._tDict||(this._tDict={}),this._tDict[e]=this._sortData(i),this._loadStep())}.bind(this))},_sortData:function(e){if(!e)return console.log("table is null"),null;this._data=e;for(var t,i,o={},s=[],a=0;a<e.length;a++)switch(a){case 0:break;case 1:t=e[a];break;case 2:i=e[a];break;default:var l=e[a][0];s.push(l),o[l]=e[a]}var r=new n;return r.setData(t,i,o,s),r},reloadConfigOnStart:function(e){this.reloadTables(G_RES_URL.dict_tablesName,e)},onDestroy:function(){}});t.exports=o,cc._RF.pop()},{}],TipsMgr:[function(e,t,i){"use strict";cc._RF.push(t,"1d79e9uH8xIC6c4VzCQUoc6","TipsMgr"),cc.Class({"extends":cc.Component,properties:{_curTxtTipNum:null,_confirmTag:null,_list_hideTips:null,prefab_confirmTip:cc.Prefab,prefab_txtTip:cc.Prefab,node_countDownProgress:cc.Node,node_systemTip:cc.Node,Node_topNotice:cc.Node},onLoad:function(){GG.tipsMgr=this,this._progressCompName="Obj_countDownProgress",this._systemTipCompName="Obj_systemTip",this._txtTipCompName="Obj_txtTip",this._confirmTipCompName="Obj_confirmTip",this._topNoticeCompName="Obj_notice",this._dict_onlyOne={},this._curTxtTipNum=0,this._commonScale=G_Config_common.frameScale,this._confirmTag=3,this._list_hideTips=[]},showTxtTip:function(e){var t=this._getTxtTip();return t.showTip(e),t},_getTxtTip:function(){var e=this._list_hideTips.splice(0,1)[0];return e||(e=this._getNewTip()),e.getComponent(this._txtTipCompName)},_getNewTip:function(){var e=cc.instantiate(this.prefab_txtTip);return e.parent=this.node,e.getComponent(this._txtTipCompName).bindMgr(this),this._curTxtTipNum+=1,e},oneTipHide:function(e){var t=e.getComponent(this._txtTipCompName);t&&(this._dict_onlyOne[t.getTipIndex()]||this._list_hideTips.push(e))},setTextTip:function(e){e&&(this._diyTipComp=e)},showOnlyOne:function(e){var t,i=e.tipIndex;return this._diyTipComp?t=this._diyTipComp:(this._dict_onlyOne||(this._dict_onlyOne={}),t=this._dict_onlyOne[i]),t?t.getIsShow()?t.forceChangeCountDown(e.retainTime):t.showTip(e):(t=this._getNewTip().getComponent(this._txtTipCompName),this._dict_onlyOne[i]=t,t.showTip(e)),t},showProgressCountDown:function(e,t){this.node_countDownProgress.getComponent(this._progressCompName).showCountDown(e,t)},getProgressLeaveTime:function(){return this.node_countDownProgress.getComponent(this._progressCompName).getLeaveTime()},forceProgressEnd:function(){this.node_countDownProgress.getComponent(this._progressCompName).forceEnd()},showConfirmTip_ONE:function(e,t){var i=this.node.getChildByTag(this._confirmTag);i||(i=cc.instantiate(this.prefab_confirmTip),i.parent=this.node,i.tag=3),i.getComponent(this._confirmTipCompName).showContentEx(e,t)},showConfirmTip_TWO:function(e,t,i){var n=this.node.getChildByTag(this._confirmTag);n||(n=cc.instantiate(this.prefab_confirmTip),n.parent=this.node,n.tag=3),n.getComponent(this._confirmTipCompName).showContent(e,t,i)},clearConfirm:function(){var e=this.node.getChildByTag(this._confirmTag);if(e){var t=e.getComponent(this._confirmTipCompName);t&&e.active&&t.closePage()}},registerConfirm:function(e,t){if(this.node){var i=this.node.getChildByTag(this._confirmTag);i&&i.getComponent(this._confirmTipCompName).registerFunc(e,t)}},showSystem:function(e,t,i,n){this.node_systemTip.getComponent(this._systemTipCompName).showContent(e,t,i,n)},addNotice:function(e){this.Node_topNotice.getComponent(this._topNoticeCompName).addMsg(e)},setTouchLimit:function(e){var t=this.node.parent;e?t.on(cc.Node.EventType.TOUCH_START,this._limitCall,this):t.off(cc.Node.EventType.TOUCH_START,this._limitCall,this)},_limitCall:function(){}}),cc._RF.pop()},{}],Tools:[function(e,t,i){"use strict";cc._RF.push(t,"7371f6mFJVCgZ3MshobzVAP","Tools");var n={getRandomArea:function(e,t){return parseInt(Math.random()*(t-e+1)+e)},getRandomBool:function(){return Boolean(Math.random()>.5)},formatStr:function(){var e=arguments,t=e.length;if(t<1)return"";var i=/(%d)|(%s)/,n=1,o=e[0],s="string"==typeof o&&i.test(o);if(s)for(var a=/%s/;n<t;++n){var l=e[n],r="number"==typeof l?i:a;r.test(o)?o=o.replace(r,l):o+=" "+l}else if(t>1)for(;n<t;++n)o+=" "+e[n];else o=""+o;return o},changeMoney:function(e){var t=0,i="";e<0&&(e=-e,i="-");for(var n=e;(n/=10)>=1;)t++;if(t<=3)return i+e;for(var o=0,n=1;o<t-3;o++)e/=10,n=1e4==n?10:10*n;return i+parseInt(e)/(1e4/n)+(t<8?"万":t<12?"亿":"兆")},formatBy1000:function(e){return(""+e).replace(/(\d{1,3})(?=(\d{3})+(?:$|\D))/g,"$1,")},getTimeStamp:function(){return(new Date).valueOf()},quickSort:function(e){function t(i,n){var o=i,s=n-1,a=e[i];if(n-i>1){for(;o<s;){for(;o<s;s--)if(e[s]<a){e[o++]=e[s];break}for(;o<s;o++)if(e[o]>a){e[s--]=e[o];break}}e[o]=a,t(0,o),t(o+1,n)}}return t(0,e.length),e},getNameLimit:function(e,t,i){var n,o;o=t?t:G_Config_common.num_maxNameLen;for(var s=/^[\u4E00-\u9FA5]+$/,a=0,l="",r=0;r<e.length;r++){if(a>=o){i?l=l:l+="...";break}n=e[r],l+=n,a+=s.test(n)?2:1}return l},objectLog:function(e){var t="{";for(var i in e)t+=i+":"+e[i]+",";t+="}"},adaptSize:function(e,t){var i=cc.view.getDesignResolutionSize(),n=cc.visibleRect.width/i.width,o=cc.visibleRect.height/i.height;return{width:e*n,height:t*o}},adaptPos:function(e){var t=cc.view.getDesignResolutionSize(),i=cc.visibleRect.width/t.width,n=cc.visibleRect.height/t.height;return cc.p(e.x*i,e.y*n)},resetUrlImg:function(e,t){void 0===e._firstSize&&(e._firstSize={width:e.width,height:e.height}),e.getComponent(cc.Sprite).spriteFrame=t,e.width=e._firstSize.width,e.height=e._firstSize.height},setHeadImg:function(e,t){G_Config_common.isLocal?(this._headUrl="Heads/head01",cc.loader.loadRes(this._headUrl,cc.SpriteFrame,function(t,i){G_TOOL.resetUrlImg(e,i)})):(void 0===e._firstFrame&&(e._firstFrame=e.getComponent(cc.Sprite).spriteFrame),t&&(this._headUrl=G_DATA.getResNetRoot(t),GG.resMgr.getHeadImg(this._headUrl,function(t){t?G_TOOL.resetUrlImg(e,t):e.getComponent(cc.Sprite).spriteFrame=e._firstFrame})))},getUniformTime:function(e,t,i){var n=cc.pDistance(e,t);return i*(n/cc.visibleRect.width)}};window.G_TOOL=n,cc._RF.pop()},{}],TypeConfig:[function(e,t,i){"use strict";cc._RF.push(t,"84957MQ/nJJGIYd0VCQ2IhU","TypeConfig");var n={webGameState:cc.Enum({pause:1,running:2}),gameModule:cc.Enum({platform:0,bull100:1,grab:2,classic:3}),sceneName:cc.Enum({platform:"Platform",bull100:"Poker_Bull100",grab:"Poker_Grab",classic:"Poker_classic",loadingScene:"InHomeLoading"}),http_gameModule:cc.Enum({platform:0,bull100:1,classic:2,grab:3}),grabState:cc.Enum({wait:0,readyStart:1,givePoker:2,touchTables:3,showFlag:4,flyGold:5,readyTouchTable:6,isBetting:7}),classicState:cc.Enum({wait:0,readyStart:1,givePoker:2,grabDealer:3,setScore:4,calculate:5,showResult:6}),bull100State:cc.Enum({wait:0,startReady:1,betting:2,endEff:3}),pokerResult:cc.Enum({bull_0:0,bull_1:1,bull_2:2,bull_3:3,bull_4:4,bull_5:5,bull_6:6,bull_7:7,bull_8:8,bull_9:9,bull_10:10,bull_11:11,bull_12:12}),pokerType:cc.Enum({blackHeart:1,redHeart:2,flower:3,block:4}),playerType:cc.Enum({system:0,owner:1,others:2}),net_gameModule:cc.Enum({bull100:"BULL_100",grab:"BULL_BAO",classic:"BULL_CLASSIC"}),net_gameModule2:cc.Enum({bull100:"bull100",grab:"bullBao",classic:"bullclassic"}),tableType:cc.Enum({big:1,min:2}),tipType:cc.Enum({}),serverCodeType:cc.Enum({success:"0",serverErr1:"00001",remoteLanding:"00005",goldNotEnough:"200002",upDealerErr1:"200003",matchNonExistent:"500001",upDealerErr2:"600002",upDealerErr3:"600013",noBetting:"00003",downDealer1:"600016",downDealer2:"600017",downDealer3:"600012",downDealer4:"600018",downDealer5:"600019",continueFail1:"200004",continueFail2:"600008",warnDealer1:"600007",warnDealer2:"600009",upDealerSuccess:"600010",continueFail3:"600014",continueSuccess:"600011",needLogin:"10001",betNotPermitCoin:"400004",betNotPermitBet:"400005",matchNoEnd:"300003",chooseErrorMoney:"400001"}),dealerNetType:cc.Enum({upDealer:1,continueDealer:2,getList:3}),scrollType:cc.Enum({horizontal:1,vertical:2,bag:3}),pokerTypeStr:cc.Enum({spade:"SPADE",diamond:"DIAMOND",club:"CLUB",heart:"HEART"}),seatsIndex:cc.Enum({seat_1:1,seat_2:2,seat_3:3,seat_4:4,seat_5:5,seat_6:6,seat_7:7,seat_8:8}),localDataType:cc.Enum({inHome:1,testType:2}),globalListener:cc.Enum({playerGold:"playerGold"}),webMobile_design:cc.Enum({toolbar_show:1,toolbar_hide:2})};window.G_TYPE=n,cc._RF.pop()},{}],WebMobile_handler:[function(e,t,i){"use strict";cc._RF.push(t,"fedd6zXtfZHDLTlXFNJ1otd","WebMobile_handler"),t.exports=cc.Class({properties:{_isGameStart:null,_type_toolbar:null,_isVertical:null},ctor:function(){this._isGameStart=!1,this._isVertical=!1,document&&this._initMobileWeb()},gameStart:function(){this._isGameStart=!0},_initMobileWeb:function(){this._addHideListener(),cc.sys.isMobile&&this._addResizeListener()},_addResizeListener:function(){window.addEventListener("resize",function(){if(this._isGameStart){var e=document.body.clientWidth>document.body.clientHeight;if(e&&(this._isVertical=!1,this._lastHeight!=window.innerHeight)){if(this._lastHeight&&this._lastHeight>window.innerHeight)return void this._doSafariHandler();this._lastHeight=window.innerHeight}this._isVertical=!e,this._type_toolbar=G_TYPE.webMobile_design.toolbar_hide,this.adaptSceneSize()}}.bind(this))},_addHideListener:function(){var e,t;"undefined"!=typeof document.hidden?(t="visibilitychange",e="visibilityState"):"undefined"!=typeof document.mozHidden?(t="mozvisibilitychange",e="mozVisibilityState"):"undefined"!=typeof document.msHidden?(t="msvisibilitychange",e="msVisibilityState"):"undefined"!=typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitVisibilityState");var i=this;document.addEventListener(t,function(){i._isGameStart&&(Boolean("visible"==document[e])?GG._resumeWebGame():GG._pauseWebGame())},!1)},_doSafariHandler:function(){var e=navigator.userAgent;if(e.indexOf("Safari")>-1){this._type_toolbar=G_TYPE.webMobile_design.toolbar_show;var t=.13*this._firstDesignSize.height;this._changeDesign(this._firstDesignSize.width,this._firstDesignSize.height+t),this.adaptSceneSize()}},_scrollGame:function(e){setTimeout(function(){window.scrollTo(0,.22*e)},100)},_changeDesign:function(e,t){this._designWidth=e,this._designHeight=t},_initData:function(){if(!this._firstDesignSize){var e=cc.view.getDesignResolutionSize();e.width>e.height?this._firstDesignSize={width:e.width,height:e.height}:this._firstDesignSize={width:e.height,height:e.width},this._lastHeight=window.innerHeight<window.innerWidth?window.innerHeight:window.innerWidth,this._changeDesign(this._firstDesignSize.width,this._firstDesignSize.height),this._type_toolbar=G_TYPE.webMobile_design.toolbar_hide}},adaptSceneSize:function(){if(this._initData(),cc.sys.isMobile)if(document)if(this._isVertical)cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),cc.view.setDesignResolutionSize(this._firstDesignSize.width,this._firstDesignSize.height,cc.ResolutionPolicy.SHOW_ALL);else switch(cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE),this._type_toolbar){case G_TYPE.webMobile_design.toolbar_hide:cc.view.setDesignResolutionSize(this._firstDesignSize.width,this._firstDesignSize.height,cc.ResolutionPolicy.EXACT_FIT);break;case G_TYPE.webMobile_design.toolbar_show:setTimeout(function(){cc.view.setDesignResolutionSize(this._designWidth,this._designHeight,cc.ResolutionPolicy.FIXED_HEIGHT),this._scrollGame(this._designHeight-this._firstDesignSize.height)}.bind(this),200);break;default:cc.view.setDesignResolutionSize(this._firstDesignSize.width,this._firstDesignSize.height,cc.ResolutionPolicy.EXACT_FIT)}else cc.view.setDesignResolutionSize(this._firstDesignSize.width,this._firstDesignSize.height,cc.ResolutionPolicy.EXACT_FIT);else window.innerHeight<this._firstDesignSize.height&&window.innerWidth<=this._firstDesignSize.width?cc.view.setDesignResolutionSize(this._firstDesignSize.width,this._firstDesignSize.height,cc.ResolutionPolicy.FIXED_WIDTH):cc.view.setDesignResolutionSize(this._firstDesignSize.width,this._firstDesignSize.height,cc.ResolutionPolicy.SHOW_ALL)},getLocalHost:function(){return window.location.host}}),cc._RF.pop()},{}]},{},["Config_bull100","Config_chinese","Config_classic","Config_common","Config_dialogUrl","Config_grab","Config_resourceUrl","NetConfig","Object_config","TypeConfig","Global","Global_listener","AudioMgr","GameData","HTTPMgr","LocalStorage","ReloadResMgr","SocketCenter","SocketMgr","SocketRequestMgr","TablesMgr","TipsMgr","WebMobile_handler","Tools","Part_playerBlock_Gold","Part_dialog_exchangePages","M_Player","M_TopRequestLayer","AutoDealing","Obj_calculateResult","Obj_cell_trend","Obj_coinEffect","Obj_confirmTip","Obj_countDownProgress","Obj_dealScroll","Obj_dealerListCell","Obj_dealerListSlider","Obj_dealerWordEffect","Obj_dialogAccountCell","Obj_dialogPlayerListCell","Obj_dialogRecordCell","Obj_effect_inHomeLoading","Obj_goldResultEffect","Obj_goldsContainer","Obj_leftTopMenu","Obj_notice","Obj_onPokerResult","Obj_optionButton","Obj_poker","Obj_rankItem_friend","Obj_roomListCell","Obj_scrollValue","Obj_seatsContainer","Obj_setTouchEffect","Obj_systemTip","Obj_topOneLayer","Obj_touchLimit","Obj_txtTip","Obj_uiContainer","Obj_winRankHead","BaseDialog","BaseManager","BaseUI","GameStart","Bull100_Manager","Bull100_btnContainer","Bull100_playerBlock","Bull100_playerContainer","Bull100_pokerContainer","Bull100_pokerResultContainer","Bull100_showResult","Bull100_table","Bull100_tableContainer","Bull100_topEffect","Grab_topEffect","Grab_Manager","Grab_btnContainer","Grab_goldContainer","Grab_oneTable","Grab_playerBlock","Grab_playersLayer","Grab_pokerLayer","Grab_tablesLayer","Grab_topLayer","Platform_Manager","Platform_bottomBtns","Platform_leftRank","Platform_topInfo","Platform_ui_enter","Prefab_dialog_account","Prefab_dialog_announcement","Prefab_dialog_bull100Trend","Prefab_dialog_dealerList","Prefab_dialog_grabTrend","Prefab_dialog_playerList","Prefab_dialog_record","Prefab_dialog_rules","Prefab_dialog_rulesInHome","Prefab_dialog_set","Prefab_dialog_trend","Prefab_roomList"]);